<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button style="color: white !important"></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Objetivo
    </ion-title>

  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid fixed>
    <ng-container *ngIf="isLoad; then Load; else NoLoad"></ng-container>
    <ng-template #Load>
      <h1>Detalles de: {{goal.title}}</h1>
      <ion-row>
        <ion-col size-md="6" size-lg="6" size-xl="6">
          <ion-card [ngClass]="{'desktop-card': isDesktop }">
            <!-- [ngClass]="{'desktop-card': isDesktop }" -->
            <ion-card-header>
              <ion-card-title>
                Progreso
              </ion-card-title>
              <ion-card-content>
                <app-goal-progress subtitle="Progreso" [percent]="percent"></app-goal-progress>
                <ion-list lines="none">
                  <ion-list-header>Asesores del Objetivo</ion-list-header>
                  <ion-item lines="none" *ngFor="let adv of goal.adviser">
                    {{adv.name}} {{adv.lastName}}
                  </ion-item>
                </ion-list>
              </ion-card-content>
            </ion-card-header>
          </ion-card>
        </ion-col>
        <ion-col size-md="6" size-lg="6" size-xl="6">
          <ion-card [ngClass]="{'desktop-card': isDesktop }">
            <ion-card-header>
              <ion-card-title>
                Lista de Objetivos
              </ion-card-title>

            </ion-card-header>
            <div class="flex-container">
              <mat-checkbox [disabled]="user.type === 'adviser' && goal.isByManagement" (change)="changeGoal()" *ngFor="let item of goal.goals; let i=index"
                [(ngModel)]="goal.goals[i].isComplete">{{item.nameGoal}}</mat-checkbox>
            </div>
            <ion-list style="padding: 5%;" lines="none">
              <ion-list-header>Otros Datos</ion-list-header>
              <ion-item lines="none">
                <ion-label>
                  <p><b>Contenido</b></p>
                  <p>{{goal.content}}</p>
                </ion-label>
              </ion-item>
              <ion-item lines="none">
                <ion-label>
                  <p><b>Estatus</b></p>
                  <p *ngIf="goal.status === 'verde'">Bajo</p>
                  <p *ngIf="goal.status === 'gris'">Inicial</p>
                  <p *ngIf="goal.status === 'amarillo'">Medio</p>
                  <p *ngIf="goal.status === 'rojo'">Urgente</p>
                </ion-label>
              </ion-item>
              <ion-item lines="none">
                <ion-label>
                  <p><b>Fecha Inicio</b></p>
                  <p>{{formatDates(goal.timestamp)}}</p>
                </ion-label>
              </ion-item>
              <ion-item lines="none">
                <ion-label>
                  <p><b>Fecha Fin</b></p>
                  <p>{{fortmatDate2(goal.year, goal.month, goal.day)}}</p>
                </ion-label>
              </ion-item>

            </ion-list>


          </ion-card>
        </ion-col>
      </ion-row>
    </ng-template>
    <ng-template #NoLoad>
      <app-general-skeleton></app-general-skeleton>
    </ng-template>
  </ion-grid>
</ion-content>