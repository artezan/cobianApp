{"version":3,"sources":["webpack:///./src/app/components/user-session/user-session/user-session.module.ts","webpack:///./src/app/components/user-session/user-session/user-session.page.html","webpack:///./src/app/components/user-session/user-session/user-session.page.scss","webpack:///./src/app/components/user-session/user-session/user-session.page.ts"],"names":[],"mappings":"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","file":"components-user-session-user-session-user-session-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserSessionPage } from './user-session.page';\nimport { AppMaterialModule } from '../../../material.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserSessionPage,\n  },\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    AppMaterialModule,\n  ],\n  declarations: [UserSessionPage],\n})\nexport class UserSessionPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button style=\\\"color: white !important\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Agregar Cuenta</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div class=\\\"user-select-contenet\\\">\\n    <ion-card>\\n      <div class=\\\"center-login\\\">\\n        <img src=\\\"assets/cobian-light.jpg\\\" style=\\\"max-width: 10em\\\" width=\\\"50%\\\" height=\\\"50%\\\" alt=\\\"\\\">\\n      </div>\\n      <ion-card-header class=\\\"center-text\\\">\\n        <ion-card-title>Agregar cuenta</ion-card-title>\\n      </ion-card-header>\\n      <div *ngIf=\\\"!isFind\\\" style=\\\"margin-top: 2%; margin-bottom: 2%; text-align: center;\\\">\\n        <span class=\\\"alert alert-danger \\\">\\n          Error usuario y/o contrase침a inv치lido\\n        </span>\\n      </div>\\n      <div class=\\\"form-center\\\">\\n        <form #loginForm=\\\"ngForm\\\">\\n          <mdc-text-field class=\\\"color-text-field\\\" label=\\\"Correo\\\" [(ngModel)]=\\\"emailInput\\\" #email=\\\"ngModel\\\" id=\\\"email\\\"\\n            name=\\\"email\\\" required [outline]=\\\"true\\\" [required]=\\\"true\\\" [helperText]=\\\"weightHelper\\\"></mdc-text-field>\\n          <mdc-text-field-helper-text #weightHelper=\\\"mdcHelperText\\\" [validation]=\\\"true\\\">\\n            <span *ngIf=\\\"email.dirty || email.touched\\\">Anota correo</span>\\n          </mdc-text-field-helper-text>\\n          <mdc-text-field class=\\\"color-text-field\\\" (keyup)=\\\"pressEnter($event)\\\" label=\\\"Contrase침a\\\" type=\\\"password\\\"\\n            [(ngModel)]=\\\"passInput\\\" #pass=\\\"ngModel\\\" id=\\\"pass\\\" name=\\\"pass\\\" required [outline]=\\\"true\\\" [required]=\\\"true\\\"\\n            [helperText]=\\\"weightHelper\\\"></mdc-text-field>\\n          <mdc-text-field-helper-text #weightHelper=\\\"mdcHelperText\\\" [validation]=\\\"true\\\">\\n            <span *ngIf=\\\"pass.dirty || pass.touched\\\">Anota Contrase침a</span>\\n          </mdc-text-field-helper-text>\\n\\n          <ion-button color=\\\"primary\\\" shape=\\\"round\\\" expand=\\\"block\\\" (click)=\\\"login()\\\">Agregar</ion-button>\\n        </form>\\n      </div>\\n      <div class=\\\"space-buttons\\\"></div>\\n    </ion-card>\\n  </div>\\n\\n</ion-content>\"","module.exports = \".user-select-contenet {\\n  margin: 10% 20% 2% 20%; }\\n\\n.center-login {\\n  display: flex;\\n  justify-content: center; }\\n\\n.center-text {\\n  text-align: center; }\\n\\n.form-center {\\n  display: flex;\\n  justify-content: center;\\n  flex-wrap: nowrap; }\\n\\n.alert {\\n  position: relative;\\n  padding: 0.75rem 1.25rem;\\n  margin-bottom: 1rem;\\n  border: 1px solid transparent;\\n  border-radius: 0.25rem; }\\n\\n.alert-danger {\\n  color: #721c24;\\n  background-color: #f8d7da;\\n  border-color: #f5c6cb; }\\n\\n@media (max-width: 900px) {\\n  .user-select-contenet {\\n    margin: 1% 1% 1% 1%; } }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\nimport { UserSessionService } from '../../../services/user-session.service';\nimport { Storage } from '@ionic/storage';\nimport { IUserSession } from '../../../models/userSession.model';\n\n@Component({\n  selector: 'app-user-session',\n  templateUrl: './user-session.page.html',\n  styleUrls: ['./user-session.page.scss'],\n})\nexport class UserSessionPage implements OnInit {\n  emailInput: string;\n  passInput: string;\n  isFind = true;\n  isDevice: boolean;\n  isLogin: boolean;\n\n  constructor(\n    public loadingController: LoadingController,\n    private userSession: UserSessionService,\n    private storage: Storage,\n  ) {\n    this.getSessions();\n  }\n  async getSessions() {\n    const sessions = await this.userSession.getSessionsSaved();\n    console.log('sessions', sessions);\n  }\n\n  ngOnInit() {}\n  async login() {\n    const load = await this.presentLoadingWithOptions();\n    load.present();\n    const userData = await this.userSession\n      .logginUserSession(this.emailInput, this.passInput)\n      .toPromise();\n    if (userData !== 'error') {\n      const currentData: IUserSession = {\n        type: userData.type,\n        name: userData.data[0].name,\n        id: userData.data[0]._id,\n        password: userData.data[0].password,\n        email: userData.data[0].email,\n      };\n      this.storage.set('userSessionCurrent', currentData);\n      this.userSession.saveSession(currentData);\n      this.userSession.loggoutWithoutStore();\n      load.dismiss();\n    } else {\n      load.dismiss();\n      this.isFind = false;\n    }\n  }\n  async presentLoadingWithOptions() {\n    const loading = await this.loadingController.create({\n      message: 'Iniciando...',\n      translucent: true,\n    });\n    return await loading;\n  }\n  pressEnter(event) {\n    if (event.keyCode === 13) {\n      this.login();\n    }\n  }\n}\n"],"sourceRoot":""}