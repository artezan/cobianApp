(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	var module = __webpack_require__(id);
	return module;
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./components/chat/chat.module": [
		"./src/app/components/chat/chat.module.ts",
		"components-chat-chat-module"
	],
	"./components/user-session/user-session/user-session.module": [
		"./src/app/components/user-session/user-session/user-session.module.ts",
		"components-user-session-user-session-user-session-module"
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return __webpack_require__.e(ids[1]).then(function() {
		var module = __webpack_require__(ids[0]);
		return module;
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/app/_config/_const-general.ts":
/*!*******************************************!*\
  !*** ./src/app/_config/_const-general.ts ***!
  \*******************************************/
/*! exports provided: CONST_GENERAL */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CONST_GENERAL", function() { return CONST_GENERAL; });
var CONST_GENERAL = Object.freeze({
    ONESIGNAL_APP_ID: '03441d74-5974-4324-8dce-c7cd5c9dcfd9',
    REST_API_KEY: 'N2RmZjk5OGItZDNhNS00ZThlLTljZTItYmNiNWQ1M2I2Yzhl',
    googleProjectNumber: '409059103026',
});


/***/ }),

/***/ "./src/app/_config/_helpers.ts":
/*!*************************************!*\
  !*** ./src/app/_config/_helpers.ts ***!
  \*************************************/
/*! exports provided: CalcPercentage, BuyersFilters, OnlyDates, SellerFilter, PropertyFilter, FormatDatesFront, FormatHoursFront, GetPercentGoal, FilerBuild, DiffDays, DiffDaysNoABS, OpenGoogleMaps */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalcPercentage", function() { return CalcPercentage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuyersFilters", function() { return BuyersFilters; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnlyDates", function() { return OnlyDates; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SellerFilter", function() { return SellerFilter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyFilter", function() { return PropertyFilter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormatDatesFront", function() { return FormatDatesFront; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormatHoursFront", function() { return FormatHoursFront; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetPercentGoal", function() { return GetPercentGoal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilerBuild", function() { return FilerBuild; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiffDays", function() { return DiffDays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiffDaysNoABS", function() { return DiffDaysNoABS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OpenGoogleMaps", function() { return OpenGoogleMaps; });
// filtro prop match
/**
 *
 * @param buyer comprador
 * @param properties propiedades
 * @param percentage % minimo
 */
function CalcPercentage(buyer, properties, percentage) {
    var propertiesMatch = [];
    properties.forEach(function (property) {
        var sumTotal = 0;
        var items = 17;
        if (buyer.isRenter === property.isRent) {
            sumTotal++;
        }
        if (buyer.typeOfProperty.toLocaleLowerCase().trim() ===
            property.typeOfProperty.toLocaleLowerCase().trim()) {
            sumTotal++;
        }
        if (buyer.space <= property.space) {
            sumTotal++;
        }
        if (buyer.dateToBuy === property.dateToBuy) {
            sumTotal++;
        }
        if (buyer.zone.toLocaleLowerCase().trim() ===
            property.zone.toLocaleLowerCase().trim()) {
            sumTotal++;
        }
        if (buyer.minPrice >= property.minPrice) {
            sumTotal++;
        }
        if (buyer.maxPrice >= property.maxPrice) {
            sumTotal++;
        }
        if (buyer.numRooms === property.numRooms) {
            sumTotal++;
        }
        if (buyer.numCars <= property.numCars) {
            sumTotal++;
        }
        if (buyer.isOld === property.isOld) {
            sumTotal++;
        }
        if (buyer.isClose === property.isClose) {
            sumTotal++;
        }
        if (buyer.numBathrooms <= property.numBathrooms) {
            sumTotal++;
        }
        if (buyer.hasGarden === property.hasGarden) {
            sumTotal++;
        }
        if (buyer.isLowLevel === property.isLowLevel) {
            sumTotal++;
        }
        if (buyer.hasElevator === property.hasElevator) {
            sumTotal++;
        }
        if (buyer.allServices === property.allServices) {
            sumTotal++;
        }
        if (buyer.wayToBuy.toLocaleLowerCase().trim() ===
            property.wayToBuy.toLocaleLowerCase().trim()) {
            sumTotal++;
        }
        if (buyer.tag.length !== 0 && property.tag.length !== 0) {
            buyer.tag.forEach(function (tag) {
                items++;
                var isFind = property.tag.find(function (t) { return t.toLocaleLowerCase().trim() === tag.toLocaleLowerCase().trim(); });
                if (isFind) {
                    sumTotal++;
                }
            });
        }
        var avr = (sumTotal / items) * 100;
        if (avr >= percentage) {
            // add % avr
            property['percentage'] = avr;
            propertiesMatch.push(property);
        }
    });
    properties.sort(function (a, b) {
        return b.percentage - a.percentage;
    });
    return properties;
}
// filtro buyers
function BuyersFilters(buyer, filtersApply) {
    var isOK = true;
    var buyerDate = new Date(buyer.timestamp);
    // si existe prop
    if (filtersApply.property !== undefined && filtersApply.property !== null) {
        var isFind = buyer.statusBuyerProperty.some(function (sbp) { return sbp.property.name === filtersApply.property; });
        if (!isFind) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.day !== undefined && filtersApply.day !== null) {
        if (buyerDate.getDate() !== filtersApply.day) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.month !== undefined && filtersApply.month !== null) {
        if (buyerDate.getMonth() !== filtersApply.month) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.year !== undefined && filtersApply.year !== null) {
        if (buyerDate.getFullYear() !== filtersApply.year) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.status !== undefined && filtersApply.status !== null) {
        if (buyer.statusBuyerProperty && buyer.statusBuyerProperty.length > 0) {
            var isFinded = buyer.statusBuyerProperty.findIndex(function (sbp) { return sbp.status === filtersApply.status; });
            if (isFinded === -1) {
                isOK = false;
            }
        }
        else {
            if (filtersApply.status !== 'gris') {
                isOK = false;
            }
        }
    }
    // end filters
    return isOK;
}
// filtro dates
function OnlyDates(some, filtersApply) {
    console.log('fil', filtersApply);
    console.log('some', some);
    var isOK = true;
    var buyerDate = new Date(some.timestamp);
    // si existe
    if (filtersApply.day !== undefined && filtersApply.day !== null) {
        if (buyerDate.getDate() !== filtersApply.day) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.month !== undefined && filtersApply.month !== null) {
        if (buyerDate.getMonth() !== filtersApply.month) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.year !== undefined && filtersApply.year !== null) {
        if (buyerDate.getFullYear() !== filtersApply.year) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.hourEnd !== undefined && filtersApply.hourEnd !== null) {
        if (some.hourEnd < filtersApply.hourEnd) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.hourStart !== undefined && filtersApply.hourStart !== null) {
        if (some.hourStart > filtersApply.hourStart) {
            console.log(false);
            isOK = false;
        }
    }
    // end filters
    return isOK;
}
// filtro dates
function SellerFilter(some, filtersApply) {
    var isOK = true;
    var buyerDate = new Date(some.timestamp);
    // si existe
    if (filtersApply.day !== undefined && filtersApply.day !== null) {
        if (buyerDate.getDate() !== filtersApply.day) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.month !== undefined && filtersApply.month !== null) {
        if (buyerDate.getMonth() !== filtersApply.month) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.year !== undefined && filtersApply.year !== null) {
        if (buyerDate.getFullYear() !== filtersApply.year) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.isRenter !== undefined && filtersApply.isRenter !== null) {
        if (some.isRenter !== filtersApply.isRenter) {
            isOK = false;
        }
    }
    // end filters
    return isOK;
}
function PropertyFilter(hopeProperty, prop) {
    var propRes = [];
    var numFilters = 0;
    var num = 0;
    numFilters = 0;
    var isHope = true;
    // condiciones ve si existe
    if (hopeProperty.wayToBuy) {
        numFilters++;
        // ve si coincide
        if (hopeProperty.wayToBuy !== prop.wayToBuy) {
            isHope = false;
        }
    }
    if (hopeProperty.zone) {
        numFilters++;
        // ve si coincide
        if (hopeProperty.zone !== prop.zone) {
            isHope = false;
        }
    }
    if (hopeProperty.typeOfProperty) {
        numFilters++;
        // ve si coincide
        if (hopeProperty.typeOfProperty !== prop.typeOfProperty) {
            isHope = false;
        }
    }
    // solo ve si coincide
    if (hopeProperty.allServices !== undefined) {
        numFilters++;
        if (hopeProperty.allServices !== prop.allServices) {
            isHope = false;
        }
    }
    if (hopeProperty.hasElevator !== undefined) {
        numFilters++;
        if (hopeProperty.hasElevator !== prop.hasElevator) {
            isHope = false;
        }
    }
    if (hopeProperty.isLowLevel !== undefined) {
        numFilters++;
        if (hopeProperty.isLowLevel !== prop.isLowLevel) {
            isHope = false;
        }
    }
    if (hopeProperty.hasGarden !== undefined) {
        numFilters++;
        if (hopeProperty.hasGarden !== prop.hasGarden) {
            isHope = false;
        }
    }
    if (prop.numBathrooms < hopeProperty.numBathrooms) {
        isHope = false;
    }
    if (hopeProperty.numBathrooms > 0) {
        numFilters++;
    }
    if (hopeProperty.isClose !== undefined) {
        numFilters++;
        if (prop.isClose !== hopeProperty.isClose) {
            isHope = false;
        }
    }
    if (hopeProperty.isOld !== undefined) {
        numFilters++;
        if (prop.isOld !== hopeProperty.isOld) {
            isHope = false;
        }
    }
    if (prop.numCars < hopeProperty.numCars) {
        numFilters++;
        isHope = false;
    }
    if (hopeProperty.numCars > 0) {
        numFilters++;
    }
    if (prop.numRooms < hopeProperty.numRooms) {
        isHope = false;
    }
    if (hopeProperty.numRooms > 0) {
        numFilters++;
    }
    if (prop.space < hopeProperty.space) {
        isHope = false;
    }
    if (hopeProperty.space > 0) {
        numFilters++;
    }
    if (hopeProperty.isRent !== undefined) {
        numFilters++;
        if (prop.isRent !== hopeProperty.isRent) {
            isHope = false;
        }
    }
    if (hopeProperty.maxPrice) {
        numFilters++;
        if (prop.maxPrice > hopeProperty.maxPrice) {
            isHope = false;
        }
    }
    if (hopeProperty.minPrice > prop.minPrice) {
        isHope = false;
    }
    if (hopeProperty.minPrice > 0) {
        numFilters++;
    }
    // end condiciones
    // ve si sigue siendo true
    if (isHope) {
        num = numFilters;
        propRes.push(prop);
    }
    // end for
    console.log(numFilters);
    return { isHope: isHope, numOfFilters: numFilters };
}
function FormatDatesFront(dateInput) {
    var day = new Date(dateInput).getDate().toString();
    var month = (new Date(dateInput).getMonth() + 1).toString();
    var year = new Date(dateInput).getFullYear().toString();
    var date = day + '/' + month + '/' + year;
    return date;
}
function FormatHoursFront(hours, minutes) {
    var strFormat, strMin, strHour, strState;
    if (minutes === 0 || minutes === undefined || minutes === null) {
        strMin = '00';
    }
    else if (minutes < 10) {
        strMin = "0" + minutes;
    }
    else if (minutes >= 10) {
        strMin = minutes.toString();
    }
    if (hours > 12) {
        strHour = "" + (hours - 12);
        strState = 'PM';
    }
    else if (hours < 12) {
        strHour = hours.toString();
        strState = 'AM';
    }
    else if (hours === 12) {
        strHour = hours.toString();
        strState = 'PM';
    }
    strFormat = strHour + ":" + strMin + " " + strState;
    return strFormat;
}
function GetPercentGoal(goals) {
    var numOfComplete = 0;
    goals.forEach(function (goal) {
        if (goal.isComplete) {
            numOfComplete++;
        }
    });
    return +((numOfComplete * 100) / goals.length).toFixed(2);
}
function FilerBuild(build, filtersApply) {
    var isOK = true;
    var buildDateEnd;
    var buildDateStart = new Date(build.timestamp);
    if (build.timeLine) {
        var lastIndex = build.timeLine.length - 1;
        if (build.timeLine.length > 0) {
            var lastPhase = build.timeLine[lastIndex];
            buildDateEnd = new Date(lastPhase.yearToEnd, lastPhase.monthToEnd, lastPhase.dayToEnd);
        }
    }
    var isComplete = true;
    var isFinded = build.timeLine.find(function (t) { return t.isComplete === false; });
    if (isFinded) {
        isComplete = false;
    }
    // inicio
    // si existe
    if (filtersApply.day !== undefined && filtersApply.day !== null) {
        if (buildDateStart.getDate() !== filtersApply.day) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.month !== undefined && filtersApply.month !== null) {
        if (buildDateStart.getMonth() !== filtersApply.month) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.year !== undefined && filtersApply.year !== null) {
        if (buildDateStart.getFullYear() !== filtersApply.year) {
            isOK = false;
        }
    }
    // fin
    // si existe
    if (filtersApply.day2 !== undefined && filtersApply.day2 !== null) {
        if (buildDateEnd.getDate() !== filtersApply.day2) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.month2 !== undefined && filtersApply.month2 !== null) {
        if (buildDateEnd.getMonth() !== filtersApply.month2) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.year2 !== undefined && filtersApply.year2 !== null) {
        if (buildDateEnd.getFullYear() !== filtersApply.year2) {
            isOK = false;
        }
    }
    // si existe
    if (filtersApply.isComplete !== undefined &&
        filtersApply.isComplete !== null) {
        if (isComplete !== filtersApply.isComplete) {
            isOK = false;
        }
    }
    // end filters
    return isOK;
}
function DiffDays(dateToDiference) {
    var date1 = new Date(dateToDiference);
    var date2 = new Date();
    var timeDiff = Math.abs(date2.getTime() - date1.getTime());
    var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));
    return diffDays;
}
function DiffDaysNoABS(dateToDiference) {
    var date1 = new Date(dateToDiference);
    var date2 = new Date();
    var timeDiff = date2.getTime() - date1.getTime();
    var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));
    return diffDays;
}
function OpenGoogleMaps(schedule, city) {
    if (city === void 0) { city = 'Puebla'; }
    window.open('https://www.google.com/maps/search/?api=1&&q=' + schedule + ',' + city, '_system', 'location=yes');
}


/***/ }),

/***/ "./src/app/_config/api.end-points.ts":
/*!*******************************************!*\
  !*** ./src/app/_config/api.end-points.ts ***!
  \*******************************************/
/*! exports provided: END_POINT */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "END_POINT", function() { return END_POINT; });
// const ip = 'http://localhost:3004/';
// const ip = 'http://31.220.52.51:3004/';
// prod
var ip = 'http://31.220.58.194:3004/';
var apiUrl = ip + 'api/v1/';
var userSession = 'usersession/';
var buyer = 'buyer/';
var buyerId = 'bybuyerid/';
var property = 'property/';
var propertyAll = 'all/';
var bypropertyid = 'bypropertyid/';
var checkbuyer = 'checkbuyer/';
var propertybyBuyer = 'matchsearchbybuyer/';
var properySimulate = 'matchsearchbydemo/';
var statusBuyerProperty = 'status/';
var credit = 'credit/';
var schedule = 'schedule/';
var schedulePage = 'page/';
var scheduleId = 'byscheduleid/';
var scheduleCheck = 'checkschedule/';
var upgradeStatus = 'upgradelevelbyid/';
var ofert = 'ofert/';
var ofertId = 'byofertid/';
var administrator = 'administrator/';
var administratorEvents = 'events/';
var adviser = 'adviser/';
var adviserId = 'byadviserid/';
var seller = 'seller/';
var sellerId = 'bysellerid/';
var creditById = 'bycreditid/';
var sbpbypropertybuyer = 'bybuyerpropid/';
var goal = 'goal/';
var goalId = 'bygoalid/';
var build = 'build/';
var buildupdatephase = 'updatephase/';
var buildbybuildid = 'bybuildid/';
var uploadImg = 'uploadImg';
var maker = 'maker/';
var makerbymakerid = 'bymakerid/';
var deleteFile = 'deleteFile/';
var bystatusid = 'bystatusid/';
var sale = 'sale/';
var bysaleid = 'bysaleid/';
var byadviserid = 'byadviserid/';
var office = 'office/';
var byofficeid = 'byofficeid/';
var notification = 'notification/';
var notificatiosNoRead = 'noread/';
var notificatiosSearch = 'search/';
var onesignal = 'https://onesignal.com/api/v1/notifications';
var mail = 'mail/';
var mailAdd = 'add/';
var mailFind = 'find/';
var bybuyerid = 'bybuyerid/';
var chat = 'chat/';
var chatByProp = 'bypropertyid/';
var chatByCity = 'bychatcity/';
var addmessage = 'addmessage/';
var addread = 'addread/';
var bychatid = 'bychatid/';
var files = 'files/';
var prebuyer = 'prebuyer/';
var prebuild = 'prebuild/';
var management = 'management/';
var bymanagementid = 'bymanagementid/';
var END_POINT = {
    IP: ip,
    //   session
    USER_SESSION: apiUrl + userSession,
    // buyer
    BUYER_ID: apiUrl + buyer + buyerId,
    BUYER: apiUrl + buyer,
    BUYER_CHECK: apiUrl + buyer + checkbuyer,
    // properties
    PROPERTY_MATCH_SEARCH: apiUrl + property + propertybyBuyer,
    PROPERTY_BY_ID: apiUrl + property + bypropertyid,
    PROPERTY: apiUrl + property,
    PROPERTY_ALL: apiUrl + property + propertyAll,
    PROPERTY_SIMULATE: apiUrl + property + properySimulate,
    // status buyer property
    STATUS_BP: apiUrl + statusBuyerProperty,
    STATUS_UPGRADE: apiUrl + statusBuyerProperty + upgradeStatus,
    STATUS_SEARCH: apiUrl + statusBuyerProperty + sbpbypropertybuyer,
    STATUS_ID: apiUrl + statusBuyerProperty + bystatusid,
    STATUS_FIND_BY_BUYER: apiUrl + statusBuyerProperty + bybuyerid,
    // credit
    CREDIT: apiUrl + credit,
    CREDIT_ID: apiUrl + credit + creditById,
    // schedule
    SCHEDULE: apiUrl + schedule,
    SCHEDULE_PAGE: apiUrl + schedule + schedulePage,
    SCHEDULE_CHECK: apiUrl + schedule + scheduleCheck,
    SCHEDULE_ID: apiUrl + schedule + scheduleId,
    // ofert
    OFERT: apiUrl + ofert,
    OFERT_ID: apiUrl + ofert + ofertId,
    // admin
    ADMINISTRATOR: apiUrl + administrator,
    ADMINISTRATOR_EVENTS: apiUrl + administrator + administratorEvents,
    // adviser
    ADVISER: apiUrl + adviser,
    ADVISER_ID: apiUrl + adviser + adviserId,
    // seller
    SELLER: apiUrl + seller,
    SELLER_ID: apiUrl + seller + sellerId,
    // goal
    GOAL: apiUrl + goal,
    GOAL_ID: apiUrl + goal + goalId,
    // building
    BUILD: apiUrl + build,
    BUILD_ID: apiUrl + build + buildbybuildid,
    BUILD_UPDATE_PHASE: apiUrl + build + buildupdatephase,
    BUILD_UPLOAD_IMG: apiUrl + build + uploadImg,
    BUILD_DELETE_IMG: apiUrl + build + deleteFile,
    // maker
    MAKER: apiUrl + maker,
    MAKER_ID: apiUrl + maker + makerbymakerid,
    // Sales
    SALE: apiUrl + sale,
    SALE_ID: apiUrl + sale + bysaleid,
    SALE_ADV_ID: apiUrl + sale + byadviserid,
    // Oficinista
    OFFICE: apiUrl + office,
    OFFICE_ID: apiUrl + office + byofficeid,
    // Notifi
    NOTIFICATION: apiUrl + notification,
    NOTIFICATION_SEARCH: apiUrl + notification + notificatiosSearch,
    NOTIFICATION_NOT_READ: apiUrl + notification + notificatiosNoRead,
    // OneSignal
    ONESIGNAL: onesignal,
    // Email
    EMAIL_ADD: apiUrl + mail + mailAdd,
    EMAIL_FIND: apiUrl + mail + mailFind,
    EMAIL_FILES: apiUrl + mail + files,
    // chat
    CHAT: apiUrl + chat,
    CHAT_PROP_ID: apiUrl + chat + chatByProp,
    CHAT_CITY_ID: apiUrl + chat + chatByCity,
    CHAT_ID: apiUrl + chat + bychatid,
    CHAT_ADD_MSG: apiUrl + chat + addmessage,
    CHAT_ADD_READ: apiUrl + chat + addread,
    // PRE
    PRE_BUYER: apiUrl + prebuyer,
    PRE_BUILD: apiUrl + prebuild,
    //  management
    MANAGER: apiUrl + management,
    MANAGER_ID: apiUrl + management + bymanagementid
};


/***/ }),

/***/ "./src/app/_config/error.interceptor.ts":
/*!**********************************************!*\
  !*** ./src/app/_config/error.interceptor.ts ***!
  \**********************************************/
/*! exports provided: ErrorInterceptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorInterceptor", function() { return ErrorInterceptor; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var ErrorInterceptor = /** @class */ (function () {
    function ErrorInterceptor(userSessionService, alertCtrl) {
        this.userSessionService = userSessionService;
        this.alertCtrl = alertCtrl;
    }
    ErrorInterceptor.prototype.intercept = function (request, next) {
        var _this = this;
        return next.handle(request).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])(function (err) {
            if (err.status === 401) {
                _this.presentAlert();
                // auto logout if 401 response returned from api
                _this.userSessionService.loggout();
                //   location.reload(true);
            }
            if (err.status === 500) {
                _this.presentAlert();
                // auto logout if 401 response returned from api
                _this.userSessionService.loggout();
                //   location.reload(true);
            }
            var error = err.error.message || err.statusText;
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])(error);
        }));
    };
    ErrorInterceptor.prototype.presentAlert = function () {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Error',
                            subHeader: '',
                            message: 'Se ha detectado un error.',
                            buttons: ['OK'],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ErrorInterceptor = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_services_user_session_service__WEBPACK_IMPORTED_MODULE_3__["UserSessionService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"]])
    ], ErrorInterceptor);
    return ErrorInterceptor;
}());



/***/ }),

/***/ "./src/app/_config/jwt.interceptor.ts":
/*!********************************************!*\
  !*** ./src/app/_config/jwt.interceptor.ts ***!
  \********************************************/
/*! exports provided: JwtInterceptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JwtInterceptor", function() { return JwtInterceptor; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api.end-points */ "./src/app/_config/api.end-points.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var JwtInterceptor = /** @class */ (function () {
    function JwtInterceptor(injector) {
        this.injector = injector;
    }
    JwtInterceptor.prototype.intercept = function (request, next) {
        // add authorization header with jwt token if available
        var currentUser = this.injector.get(_services_user_session_service__WEBPACK_IMPORTED_MODULE_1__["UserSessionService"]).userSession.value;
        var isOneSignal = request.url.indexOf(_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].ONESIGNAL);
        if (currentUser && currentUser.token && isOneSignal === -1) {
            request = request.clone({
                setHeaders: {
                    Authorization: "Bearer " + currentUser.token
                }
            });
        }
        return next.handle(request);
    };
    JwtInterceptor = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"]])
    ], JwtInterceptor);
    return JwtInterceptor;
}());



/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _components_login_login_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/login/login.component */ "./src/app/components/login/login.component.ts");
/* harmony import */ var _components_buyer_list_prop_buyer_list_prop_buyer_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/buyer/list-prop-buyer/list-prop-buyer.component */ "./src/app/components/buyer/list-prop-buyer/list-prop-buyer.component.ts");
/* harmony import */ var _components_buyer_calendar_buyer_calendar_buyer_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/buyer/calendar-buyer/calendar-buyer.component */ "./src/app/components/buyer/calendar-buyer/calendar-buyer.component.ts");
/* harmony import */ var _components_buyer_event_detail_buyer_event_detail_buyer_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/buyer/event-detail-buyer/event-detail-buyer.component */ "./src/app/components/buyer/event-detail-buyer/event-detail-buyer.component.ts");
/* harmony import */ var _components_buyer_detail_prop_buyer_detail_prop_buyer_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/buyer/detail-prop-buyer/detail-prop-buyer.component */ "./src/app/components/buyer/detail-prop-buyer/detail-prop-buyer.component.ts");
/* harmony import */ var _components_login_user_select_user_select_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/login/user-select/user-select.component */ "./src/app/components/login/user-select/user-select.component.ts");
/* harmony import */ var _components_buyer_new_buyer_new_buyer_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/buyer/new-buyer/new-buyer.component */ "./src/app/components/buyer/new-buyer/new-buyer.component.ts");
/* harmony import */ var _components_buyer_inter_prop_buyer_inter_prop_buyer_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/buyer/inter-prop-buyer/inter-prop-buyer.component */ "./src/app/components/buyer/inter-prop-buyer/inter-prop-buyer.component.ts");
/* harmony import */ var _components_buyer_credit_event_buyer_credit_event_buyer_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/buyer/credit-event-buyer/credit-event-buyer.component */ "./src/app/components/buyer/credit-event-buyer/credit-event-buyer.component.ts");
/* harmony import */ var _components_buyer_ofert_buyer_ofert_buyer_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/buyer/ofert-buyer/ofert-buyer.component */ "./src/app/components/buyer/ofert-buyer/ofert-buyer.component.ts");
/* harmony import */ var _components_admin_main_admin_main_admin_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/admin/main-admin/main-admin.component */ "./src/app/components/admin/main-admin/main-admin.component.ts");
/* harmony import */ var _components_admin_list_buyer_admin_list_buyer_admin_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/admin/list-buyer-admin/list-buyer-admin.component */ "./src/app/components/admin/list-buyer-admin/list-buyer-admin.component.ts");
/* harmony import */ var _components_admin_detail_buyer_admin_detail_buyer_admin_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/admin/detail-buyer-admin/detail-buyer-admin.component */ "./src/app/components/admin/detail-buyer-admin/detail-buyer-admin.component.ts");
/* harmony import */ var _components_admin_list_adviser_admin_list_adviser_admin_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/admin/list-adviser-admin/list-adviser-admin.component */ "./src/app/components/admin/list-adviser-admin/list-adviser-admin.component.ts");
/* harmony import */ var _components_adviser_new_edit_adviser_new_edit_adviser_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/adviser/new-edit-adviser/new-edit-adviser.component */ "./src/app/components/adviser/new-edit-adviser/new-edit-adviser.component.ts");
/* harmony import */ var _components_admin_detail_adviser_admin_detail_adviser_admin_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/admin/detail-adviser-admin/detail-adviser-admin.component */ "./src/app/components/admin/detail-adviser-admin/detail-adviser-admin.component.ts");
/* harmony import */ var _components_admin_list_seller_admin_list_seller_admin_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/admin/list-seller-admin/list-seller-admin.component */ "./src/app/components/admin/list-seller-admin/list-seller-admin.component.ts");
/* harmony import */ var _components_admin_detail_seller_admin_detail_seller_admin_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/admin/detail-seller-admin/detail-seller-admin.component */ "./src/app/components/admin/detail-seller-admin/detail-seller-admin.component.ts");
/* harmony import */ var _components_seller_new_edit_seller_new_edit_seller_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/seller/new-edit-seller/new-edit-seller.component */ "./src/app/components/seller/new-edit-seller/new-edit-seller.component.ts");
/* harmony import */ var _components_prop_new_edit_prop_new_edit_prop_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/prop/new-edit-prop/new-edit-prop.component */ "./src/app/components/prop/new-edit-prop/new-edit-prop.component.ts");
/* harmony import */ var _components_admin_list_prop_admin_list_prop_admin_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/admin/list-prop-admin/list-prop-admin.component */ "./src/app/components/admin/list-prop-admin/list-prop-admin.component.ts");
/* harmony import */ var _components_admin_detail_prop_admin_detail_prop_admin_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/admin/detail-prop-admin/detail-prop-admin.component */ "./src/app/components/admin/detail-prop-admin/detail-prop-admin.component.ts");
/* harmony import */ var _components_admin_list_credit_admin_list_credit_admin_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/admin/list-credit-admin/list-credit-admin.component */ "./src/app/components/admin/list-credit-admin/list-credit-admin.component.ts");
/* harmony import */ var _components_credit_new_edit_credit_new_edit_credit_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/credit/new-edit-credit/new-edit-credit.component */ "./src/app/components/credit/new-edit-credit/new-edit-credit.component.ts");
/* harmony import */ var _components_admin_list_oferts_admin_list_oferts_admin_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./components/admin/list-oferts-admin/list-oferts-admin.component */ "./src/app/components/admin/list-oferts-admin/list-oferts-admin.component.ts");
/* harmony import */ var _components_oferts_new_edit_ofert_new_edit_ofert_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./components/oferts/new-edit-ofert/new-edit-ofert.component */ "./src/app/components/oferts/new-edit-ofert/new-edit-ofert.component.ts");
/* harmony import */ var _components_admin_list_schedule_admin_list_schedule_admin_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./components/admin/list-schedule-admin/list-schedule-admin.component */ "./src/app/components/admin/list-schedule-admin/list-schedule-admin.component.ts");
/* harmony import */ var _components_schedule_new_edit_schedule_new_edit_schedule_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./components/schedule/new-edit-schedule/new-edit-schedule.component */ "./src/app/components/schedule/new-edit-schedule/new-edit-schedule.component.ts");
/* harmony import */ var _components_general_refre_refre_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./components/general/refre/refre.component */ "./src/app/components/general/refre/refre.component.ts");
/* harmony import */ var _components_schedule_personal_schedule_personal_schedule_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./components/schedule/personal-schedule/personal-schedule.component */ "./src/app/components/schedule/personal-schedule/personal-schedule.component.ts");
/* harmony import */ var _components_admin_list_goals_list_goals_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./components/admin/list-goals/list-goals.component */ "./src/app/components/admin/list-goals/list-goals.component.ts");
/* harmony import */ var _components_goals_new_edit_goal_new_edit_goal_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./components/goals/new-edit-goal/new-edit-goal.component */ "./src/app/components/goals/new-edit-goal/new-edit-goal.component.ts");
/* harmony import */ var _components_admin_detail_goal_admin_detail_goal_admin_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./components/admin/detail-goal-admin/detail-goal-admin.component */ "./src/app/components/admin/detail-goal-admin/detail-goal-admin.component.ts");
/* harmony import */ var _components_admin_simulate_search_admin_simulate_search_admin_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./components/admin/simulate-search-admin/simulate-search-admin.component */ "./src/app/components/admin/simulate-search-admin/simulate-search-admin.component.ts");
/* harmony import */ var _components_admin_list_build_admin_list_build_admin_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./components/admin/list-build-admin/list-build-admin.component */ "./src/app/components/admin/list-build-admin/list-build-admin.component.ts");
/* harmony import */ var _components_build_new_edit_build_new_edit_build_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./components/build/new-edit-build/new-edit-build.component */ "./src/app/components/build/new-edit-build/new-edit-build.component.ts");
/* harmony import */ var _components_admin_list_maker_admin_list_maker_admin_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./components/admin/list-maker-admin/list-maker-admin.component */ "./src/app/components/admin/list-maker-admin/list-maker-admin.component.ts");
/* harmony import */ var _components_maker_new_edit_maker_new_edit_maker_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./components/maker/new-edit-maker/new-edit-maker.component */ "./src/app/components/maker/new-edit-maker/new-edit-maker.component.ts");
/* harmony import */ var _components_admin_detail_build_admin_detail_build_admin_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./components/admin/detail-build-admin/detail-build-admin.component */ "./src/app/components/admin/detail-build-admin/detail-build-admin.component.ts");
/* harmony import */ var _components_admin_list_salesprop_admin_list_salesprop_admin_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./components/admin/list-salesprop-admin/list-salesprop-admin.component */ "./src/app/components/admin/list-salesprop-admin/list-salesprop-admin.component.ts");
/* harmony import */ var _components_admin_detail_salesprop_admin_detail_salesprop_admin_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./components/admin/detail-salesprop-admin/detail-salesprop-admin.component */ "./src/app/components/admin/detail-salesprop-admin/detail-salesprop-admin.component.ts");
/* harmony import */ var _components_admin_list_sales_admin_list_sales_admin_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./components/admin/list-sales-admin/list-sales-admin.component */ "./src/app/components/admin/list-sales-admin/list-sales-admin.component.ts");
/* harmony import */ var _components_admin_list_office_admin_list_office_admin_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./components/admin/list-office-admin/list-office-admin.component */ "./src/app/components/admin/list-office-admin/list-office-admin.component.ts");
/* harmony import */ var _components_office_new_edit_office_new_edit_office_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./components/office/new-edit-office/new-edit-office.component */ "./src/app/components/office/new-edit-office/new-edit-office.component.ts");
/* harmony import */ var _components_notification_list_notification_list_notification_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./components/notification/list-notification/list-notification.component */ "./src/app/components/notification/list-notification/list-notification.component.ts");
/* harmony import */ var _services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./services/auth-guard.service */ "./src/app/services/auth-guard.service.ts");
/* harmony import */ var _components_documents_documents_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./components/documents/documents.component */ "./src/app/components/documents/documents.component.ts");
/* harmony import */ var _components_admin_list_pre_buyer_list_pre_buyer_component__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./components/admin/list-pre-buyer/list-pre-buyer.component */ "./src/app/components/admin/list-pre-buyer/list-pre-buyer.component.ts");
/* harmony import */ var _components_pre_buyer_pre_buyer_component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./components/pre-buyer/pre-buyer.component */ "./src/app/components/pre-buyer/pre-buyer.component.ts");
/* harmony import */ var _components_admin_list_pre_build_list_pre_build_component__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./components/admin/list-pre-build/list-pre-build.component */ "./src/app/components/admin/list-pre-build/list-pre-build.component.ts");
/* harmony import */ var _components_pre_build_new_edit_pre_build_new_edit_pre_build_component__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./components/pre-build/new-edit-pre-build/new-edit-pre-build.component */ "./src/app/components/pre-build/new-edit-pre-build/new-edit-pre-build.component.ts");
/* harmony import */ var _components_admin_detail_pre_build_detail_pre_build_component__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./components/admin/detail-pre-build/detail-pre-build.component */ "./src/app/components/admin/detail-pre-build/detail-pre-build.component.ts");
/* harmony import */ var _components_admin_list_manager_admin_list_manager_admin_component__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./components/admin/list-manager-admin/list-manager-admin.component */ "./src/app/components/admin/list-manager-admin/list-manager-admin.component.ts");
/* harmony import */ var _components_manager_new_edit_manager_new_edit_manager_component__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./components/manager/new-edit-manager/new-edit-manager.component */ "./src/app/components/manager/new-edit-manager/new-edit-manager.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
























































var routes = [
    // Rutas
    // roles : | 'administrator' | 'buyer' | 'seller' | 'adviser' | 'management' | 'maker' | 'office';
    { path: '', redirectTo: 'login', pathMatch: 'full' },
    { path: 'login', component: _components_login_login_component__WEBPACK_IMPORTED_MODULE_2__["LoginComponent"] },
    {
        path: 'list-prop-buyer',
        component: _components_buyer_list_prop_buyer_list_prop_buyer_component__WEBPACK_IMPORTED_MODULE_3__["ListPropBuyerComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: { rol: ['buyer'] }
    },
    {
        path: 'calendar-buyer',
        component: _components_buyer_calendar_buyer_calendar_buyer_component__WEBPACK_IMPORTED_MODULE_4__["CalendarBuyerComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: { rol: ['buyer'] }
    },
    {
        path: 'event-detail-buyer',
        component: _components_buyer_event_detail_buyer_event_detail_buyer_component__WEBPACK_IMPORTED_MODULE_5__["EventDetailBuyerComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: { rol: ['buyer'] }
    },
    {
        path: 'buyer-property-detail',
        component: _components_buyer_detail_prop_buyer_detail_prop_buyer_component__WEBPACK_IMPORTED_MODULE_6__["DetailPropBuyerComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: { rol: ['buyer'] }
    },
    { path: 'login-select-user', component: _components_login_user_select_user_select_component__WEBPACK_IMPORTED_MODULE_7__["UserSelectComponent"] },
    { path: 'new-buyer', component: _components_buyer_new_buyer_new_buyer_component__WEBPACK_IMPORTED_MODULE_8__["NewBuyerComponent"] },
    {
        path: 'inter-prop-buyer',
        component: _components_buyer_inter_prop_buyer_inter_prop_buyer_component__WEBPACK_IMPORTED_MODULE_9__["InterPropBuyerComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: { rol: ['buyer'] }
    },
    {
        path: 'credit-event-buyer',
        component: _components_buyer_credit_event_buyer_credit_event_buyer_component__WEBPACK_IMPORTED_MODULE_10__["CreditEventBuyerComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: { rol: ['buyer'] }
    },
    {
        path: 'ofert-buyer',
        component: _components_buyer_ofert_buyer_ofert_buyer_component__WEBPACK_IMPORTED_MODULE_11__["OfertBuyerComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: { rol: ['buyer'] }
    },
    {
        path: 'main-admin',
        component: _components_admin_main_admin_main_admin_component__WEBPACK_IMPORTED_MODULE_12__["MainAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: { rol: ['administrator'] }
    },
    {
        path: 'list-buyer-admin',
        component: _components_admin_list_buyer_admin_list_buyer_admin_component__WEBPACK_IMPORTED_MODULE_13__["ListBuyerAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'seller', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'detail-buyer-admin',
        component: _components_admin_detail_buyer_admin_detail_buyer_admin_component__WEBPACK_IMPORTED_MODULE_14__["DetailBuyerAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'seller', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'list-adviser-admin',
        component: _components_admin_list_adviser_admin_list_adviser_admin_component__WEBPACK_IMPORTED_MODULE_15__["ListAdviserAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'seller', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'new-edit-adviser',
        component: _components_adviser_new_edit_adviser_new_edit_adviser_component__WEBPACK_IMPORTED_MODULE_16__["NewEditAdviserComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'seller', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'detail-adviser-admin',
        component: _components_admin_detail_adviser_admin_detail_adviser_admin_component__WEBPACK_IMPORTED_MODULE_17__["DetailAdviserAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'seller', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'list-seller-admin',
        component: _components_admin_list_seller_admin_list_seller_admin_component__WEBPACK_IMPORTED_MODULE_18__["ListSellerAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'seller', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'detail-seller-admin',
        component: _components_admin_detail_seller_admin_detail_seller_admin_component__WEBPACK_IMPORTED_MODULE_19__["DetailSellerAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'seller', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'new-edit-seller',
        component: _components_seller_new_edit_seller_new_edit_seller_component__WEBPACK_IMPORTED_MODULE_20__["NewEditSellerComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'seller', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'list-prop-admin',
        component: _components_admin_list_prop_admin_list_prop_admin_component__WEBPACK_IMPORTED_MODULE_22__["ListPropAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'seller', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'new-edit-prop',
        component: _components_prop_new_edit_prop_new_edit_prop_component__WEBPACK_IMPORTED_MODULE_21__["NewEditPropComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'management', 'office']
        }
    },
    {
        path: 'detail-prop-admin',
        component: _components_admin_detail_prop_admin_detail_prop_admin_component__WEBPACK_IMPORTED_MODULE_23__["DetailPropAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'seller', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'list-credit-admin',
        component: _components_admin_list_credit_admin_list_credit_admin_component__WEBPACK_IMPORTED_MODULE_24__["ListCreditAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'new-edit-credit',
        component: _components_credit_new_edit_credit_new_edit_credit_component__WEBPACK_IMPORTED_MODULE_25__["NewEditCreditComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'list-ofert-admin',
        component: _components_admin_list_oferts_admin_list_oferts_admin_component__WEBPACK_IMPORTED_MODULE_26__["ListOfertsAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'new-edit-ofert',
        component: _components_oferts_new_edit_ofert_new_edit_ofert_component__WEBPACK_IMPORTED_MODULE_27__["NewEditOfertComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'new-edit-schedule',
        component: _components_schedule_new_edit_schedule_new_edit_schedule_component__WEBPACK_IMPORTED_MODULE_29__["NewEditScheduleComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'list-schedule-admin',
        component: _components_admin_list_schedule_admin_list_schedule_admin_component__WEBPACK_IMPORTED_MODULE_28__["ListScheduleAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    { path: 'personal-schedule', component: _components_schedule_personal_schedule_personal_schedule_component__WEBPACK_IMPORTED_MODULE_31__["PersonalScheduleComponent"] },
    { path: 'RefrshComponent', component: _components_general_refre_refre_component__WEBPACK_IMPORTED_MODULE_30__["RefreComponent"] },
    {
        path: 'list-goals-admin',
        component: _components_admin_list_goals_list_goals_component__WEBPACK_IMPORTED_MODULE_32__["ListGoalsComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'new-edit-goal',
        component: _components_goals_new_edit_goal_new_edit_goal_component__WEBPACK_IMPORTED_MODULE_33__["NewEditGoalComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'detail-goal-admin',
        component: _components_admin_detail_goal_admin_detail_goal_admin_component__WEBPACK_IMPORTED_MODULE_34__["DetailGoalAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'simulate-search-admin',
        component: _components_admin_simulate_search_admin_simulate_search_admin_component__WEBPACK_IMPORTED_MODULE_35__["SimulateSearchAdminComponent"]
    },
    {
        path: 'list-build-admin',
        component: _components_admin_list_build_admin_list_build_admin_component__WEBPACK_IMPORTED_MODULE_36__["ListBuildAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'new-edit-build',
        component: _components_build_new_edit_build_new_edit_build_component__WEBPACK_IMPORTED_MODULE_37__["NewEditBuildComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'list-maker-admin',
        component: _components_admin_list_maker_admin_list_maker_admin_component__WEBPACK_IMPORTED_MODULE_38__["ListMakerAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'new-edit-maker',
        component: _components_maker_new_edit_maker_new_edit_maker_component__WEBPACK_IMPORTED_MODULE_39__["NewEditMakerComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'detail-build-admin',
        component: _components_admin_detail_build_admin_detail_build_admin_component__WEBPACK_IMPORTED_MODULE_40__["DetailBuildAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office', 'maker']
        }
    },
    {
        path: 'list-salesprop-admin',
        component: _components_admin_list_salesprop_admin_list_salesprop_admin_component__WEBPACK_IMPORTED_MODULE_41__["ListSalespropAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'detail-salesprop-admin',
        component: _components_admin_detail_salesprop_admin_detail_salesprop_admin_component__WEBPACK_IMPORTED_MODULE_42__["DetailSalespropAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'list-sales-admin',
        component: _components_admin_list_sales_admin_list_sales_admin_component__WEBPACK_IMPORTED_MODULE_43__["ListSalesAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'list-office-admin',
        component: _components_admin_list_office_admin_list_office_admin_component__WEBPACK_IMPORTED_MODULE_44__["ListOfficeAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'management']
        }
    },
    {
        path: 'new-edit-office',
        component: _components_office_new_edit_office_new_edit_office_component__WEBPACK_IMPORTED_MODULE_45__["NewEditOfficeComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'adviser', 'management', 'office']
        }
    },
    {
        path: 'list-manager-admin',
        component: _components_admin_list_manager_admin_list_manager_admin_component__WEBPACK_IMPORTED_MODULE_54__["ListManagerAdminComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'management', 'office']
        }
    },
    {
        path: 'new-edit-manager',
        component: _components_manager_new_edit_manager_new_edit_manager_component__WEBPACK_IMPORTED_MODULE_55__["NewEditManagerComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'management', 'office']
        }
    },
    { path: 'list-notification', component: _components_notification_list_notification_list_notification_component__WEBPACK_IMPORTED_MODULE_46__["ListNotificationComponent"] },
    {
        path: 'user-session',
        loadChildren: './components/user-session/user-session/user-session.module#UserSessionPageModule'
        /*  canActivate: [AuthGuardService],
        data: {
          rol: ['administrator', 'adviser', 'management', 'office'],
        }, */
    },
    {
        path: 'chat',
        loadChildren: './components/chat/chat.module#ChatPageModule'
    },
    {
        path: 'documents',
        component: _components_documents_documents_component__WEBPACK_IMPORTED_MODULE_48__["DocumentsComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'management', 'office']
        }
    },
    {
        path: 'list-prebuyer-admin',
        component: _components_admin_list_pre_buyer_list_pre_buyer_component__WEBPACK_IMPORTED_MODULE_49__["ListPreBuyerComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'management', 'office']
        }
    },
    {
        path: 'new-edit-prebuyer',
        component: _components_pre_buyer_pre_buyer_component__WEBPACK_IMPORTED_MODULE_50__["PreBuyerComponent"]
        /* canActivate: [AuthGuardService],
        data: {
          rol: ['administrator', 'management', 'office']
        } */
    },
    {
        path: 'list-prebuild-admin',
        component: _components_admin_list_pre_build_list_pre_build_component__WEBPACK_IMPORTED_MODULE_51__["ListPreBuildComponent"],
        canActivate: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_47__["AuthGuardService"]],
        data: {
            rol: ['administrator', 'management', 'office']
        }
    },
    {
        path: 'new-edit-prebuild',
        component: _components_pre_build_new_edit_pre_build_new_edit_pre_build_component__WEBPACK_IMPORTED_MODULE_52__["NewEditPreBuildComponent"]
        /* canActivate: [AuthGuardService],
        data: {
          rol: ['administrator', 'management', 'office']
        } */
    },
    {
        path: 'detail-prebuild-admin',
        component: _components_admin_detail_pre_build_detail_pre_build_component__WEBPACK_IMPORTED_MODULE_53__["DetailPreBuildComponent"]
        /* canActivate: [AuthGuardService],
        data: {
          rol: ['administrator', 'management', 'office']
        } */
    }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-app>\n  <ion-split-pane>\n    <ion-menu [hidden]=\"!isLoggin\" class=\"menu-desktop \" type=\"overlay\">\n      <ion-header>\n        <ion-toolbar color=\"primary\">\n          <ion-title>Menu</ion-title>\n        </ion-toolbar>\n      </ion-header>\n      <ion-content>\n        <ion-list lines=\"none\">\n          <ion-menu-toggle auto-hide=\"false\">\n            <span *ngFor=\"let p of appPages\">\n              <ion-item lines=\"none\" [ngClass]=\"{'background-item-menu':link === p.url }\" (click)=\"link = p.url \"\n                [routerDirection]=\"'root'\" [routerLink]=\"[p.url]\" *ngIf=\"user && (user.type === p.userType || p.userType === 'all') \">\n                <ion-icon slot=\"start\" [name]=\"p.icon\"></ion-icon>\n                <ion-label>\n                  {{p.title}}\n                </ion-label>\n                <ion-badge *ngIf=\" (numOfNewNoti | async) > 0 && p.url === '/list-notification'\" color=\"danger\" slot=\"end\">\n                  {{(numOfNewNoti | async)}}\n                </ion-badge>\n              </ion-item>\n            </span>\n\n            <ion-item (click)=\"logout()\" [routerDirection]=\"'root'\" routerLink=\"/login\">\n              <!-- <ion-item (click)=\"logout()\"> -->\n              <ion-icon slot=\"start\" name=\"log-out\"></ion-icon>\n              <ion-label>\n                Cerrar Sesión\n              </ion-label>\n\n            </ion-item>\n            <!-- <ion-item>\n              <ion-label>\n                {{typeDevice}}\n              </ion-label>\n            </ion-item> -->\n          </ion-menu-toggle>\n        </ion-list>\n      </ion-content>\n    </ion-menu>\n\n\n    <ion-router-outlet main></ion-router-outlet>\n  </ion-split-pane>\n</ion-app>"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/dist/index.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _services_socket_io_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./services/socket-io.service */ "./src/app/services/socket-io.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./services/onesignal.service */ "./src/app/services/onesignal.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var AppComponent = /** @class */ (function () {
    function AppComponent(platform, splashScreen, statusBar, storage, userSessionService, router, navController, socketIOService, oneSignalService) {
        var _this = this;
        this.platform = platform;
        this.splashScreen = splashScreen;
        this.statusBar = statusBar;
        this.storage = storage;
        this.userSessionService = userSessionService;
        this.router = router;
        this.navController = navController;
        this.socketIOService = socketIOService;
        this.oneSignalService = oneSignalService;
        this.appPages = [
            // buyer
            {
                title: 'Propiedades',
                url: '/list-prop-buyer',
                icon: 'business',
                userType: 'buyer'
            },
            {
                title: 'Calendario',
                url: '/calendar-buyer',
                icon: 'calendar',
                userType: 'buyer'
            },
            {
                title: 'Lista de deseos',
                url: '/inter-prop-buyer',
                icon: 'heart',
                userType: 'buyer'
            },
            {
                title: 'Ofertas',
                url: '/ofert-buyer',
                icon: 'clipboard',
                userType: 'buyer'
            },
            {
                title: 'Editar Perfil',
                url: '/new-buyer',
                icon: 'contact',
                userType: 'buyer'
            },
            {
                title: 'Chat',
                url: '/chat',
                icon: 'chatbubbles',
                userType: 'buyer'
            },
            // admin
            {
                title: 'Principal',
                url: '/main-admin',
                icon: 'home',
                userType: 'administrator'
            },
            {
                title: 'Consumidores',
                url: '/list-buyer-admin',
                icon: 'clipboard',
                userType: 'administrator'
            },
            {
                title: 'Asesores',
                url: '/list-adviser-admin',
                icon: 'people',
                userType: 'administrator'
            },
            {
                title: 'Dueño',
                url: '/list-seller-admin',
                icon: 'cash',
                userType: 'administrator'
            },
            {
                title: 'Oficina',
                url: '/list-office-admin',
                icon: 'desktop',
                userType: 'administrator'
            },
            {
                title: 'Gerencia',
                url: '/list-manager-admin',
                icon: 'cog',
                userType: 'administrator'
            },
            {
                title: 'Propiedades',
                url: '/list-prop-admin',
                icon: 'business',
                userType: 'administrator'
            },
            {
                title: 'Créditos',
                url: '/list-credit-admin',
                icon: 'document',
                userType: 'administrator'
            },
            {
                title: 'Ofertas',
                url: '/list-ofert-admin',
                icon: 'card',
                userType: 'administrator'
            },
            {
                title: 'Obras',
                url: '/list-build-admin',
                icon: 'construct',
                userType: 'administrator'
            },
            {
                title: 'Constructores',
                url: '/list-maker-admin',
                icon: 'walk',
                userType: 'administrator'
            },
            {
                title: 'Calendario',
                url: '/list-schedule-admin',
                icon: 'calendar',
                userType: 'administrator'
            },
            {
                title: 'Metas',
                url: '/list-goals-admin',
                icon: 'stats',
                userType: 'administrator'
            },
            {
                title: 'Simulador Match',
                url: '/simulate-search-admin',
                icon: 'heart-empty',
                userType: 'administrator'
            },
            {
                title: 'Propiedades Apartadas',
                url: '/list-salesprop-admin',
                icon: 'timer',
                userType: 'administrator'
            },
            {
                title: 'Propiedades Aquiridas',
                url: '/list-sales-admin',
                icon: 'trending-up',
                userType: 'administrator'
            },
            {
                title: 'Chat',
                url: '/chat',
                icon: 'chatbubbles',
                userType: 'administrator'
            },
            {
                title: 'Documentos',
                url: '/documents',
                icon: 'archive',
                userType: 'administrator'
            },
            {
                title: 'Usuarios Preventa',
                url: '/list-prebuyer-admin',
                icon: 'wallet',
                userType: 'administrator'
            },
            {
                title: 'Obras Preventa',
                url: '/list-prebuild-admin',
                icon: 'build',
                userType: 'administrator'
            },
            // asesores
            {
                title: 'Consumidores',
                url: '/list-buyer-admin',
                icon: 'clipboard',
                userType: 'adviser'
            },
            {
                title: 'Propiedades',
                url: '/list-prop-admin',
                icon: 'business',
                userType: 'adviser'
            },
            {
                title: 'Calendario',
                url: '/list-schedule-admin',
                icon: 'calendar',
                userType: 'adviser'
            },
            {
                title: 'Metas',
                url: '/list-goals-admin',
                icon: 'stats',
                userType: 'adviser'
            },
            {
                title: 'Perfil',
                url: '/new-edit-adviser',
                icon: 'contact',
                userType: 'adviser'
            },
            {
                title: 'Simulador Match',
                url: '/simulate-search-admin',
                icon: 'heart-empty',
                userType: 'adviser'
            },
            // Seller
            {
                title: 'Consumidores',
                url: '/list-buyer-admin',
                icon: 'clipboard',
                userType: 'seller'
            },
            {
                title: 'Propiedades',
                url: '/list-prop-admin',
                icon: 'business',
                userType: 'seller'
            },
            {
                title: 'Perfil',
                url: '/new-edit-seller',
                icon: 'contact',
                userType: 'seller'
            },
            {
                title: 'Simulador Match',
                url: '/simulate-search-admin',
                icon: 'heart-empty',
                userType: 'seller'
            },
            {
                title: 'Chat',
                url: '/chat',
                icon: 'chatbubbles',
                userType: 'seller'
            },
            // office
            {
                title: 'Consumidores',
                url: '/list-buyer-admin',
                icon: 'clipboard',
                userType: 'office'
            },
            {
                title: 'Asesores',
                url: '/list-adviser-admin',
                icon: 'people',
                userType: 'office'
            },
            {
                title: 'Dueño',
                url: '/list-seller-admin',
                icon: 'cash',
                userType: 'office'
            },
            {
                title: 'Propiedades',
                url: '/list-prop-admin',
                icon: 'business',
                userType: 'office'
            },
            {
                title: 'Créditos',
                url: '/list-credit-admin',
                icon: 'document',
                userType: 'office'
            },
            {
                title: 'Ofertas',
                url: '/list-ofert-admin',
                icon: 'card',
                userType: 'office'
            },
            {
                title: 'Obras',
                url: '/list-build-admin',
                icon: 'construct',
                userType: 'office'
            },
            {
                title: 'Constructores',
                url: '/list-maker-admin',
                icon: 'walk',
                userType: 'office'
            },
            {
                title: 'Calendario',
                url: '/list-schedule-admin',
                icon: 'calendar',
                userType: 'office'
            },
            {
                title: 'Metas',
                url: '/list-goals-admin',
                icon: 'stats',
                userType: 'office'
            },
            {
                title: 'Simulador Match',
                url: '/simulate-search-admin',
                icon: 'heart-empty',
                userType: 'office'
            },
            {
                title: 'Propiedades Apartadas',
                url: '/list-salesprop-admin',
                icon: 'timer',
                userType: 'office'
            },
            {
                title: 'Propiedades Aquiridas',
                url: '/list-sales-admin',
                icon: 'trending-up',
                userType: 'office'
            },
            {
                title: 'Perfil',
                url: '/new-edit-office',
                icon: 'contact',
                userType: 'office'
            },
            {
                title: 'Chat',
                url: '/chat',
                icon: 'chatbubbles',
                userType: 'office'
            },
            {
                title: 'Documentos',
                url: '/documents',
                icon: 'archive',
                userType: 'office'
            },
            {
                title: 'Usuarios Preventa',
                url: '/list-prebuyer-admin',
                icon: 'wallet',
                userType: 'office'
            },
            {
                title: 'Obras Preventa',
                url: '/list-prebuild-admin',
                icon: 'build',
                userType: 'office'
            },
            // makers
            {
                title: 'Obra',
                url: '/detail-build-admin',
                icon: 'construct',
                userType: 'maker'
            },
            // prebuyer
            {
                title: 'Preventa',
                url: '/login-select-user',
                icon: 'construct',
                userType: 'preBuyer'
            },
            {
                title: 'Chat',
                url: '/chat',
                icon: 'chatbubbles',
                userType: 'preBuyer'
            },
            // list-notification
            {
                title: 'Notificaciones',
                url: '/list-notification',
                icon: 'notifications',
                userType: 'all'
            }
        ];
        this.isLoggin = false;
        this.initializeApp();
        this.getNotification();
        this.numOfNewNoti = socketIOService.numOfNewNoti;
        // socketIOService.numOfNewNoti.subscribe(c => console.log(c));
        userSessionService.userSession.subscribe(function (user) {
            if (user.name) {
                _this.isLoggin = true;
                _this.user = user;
                _this.setNotificationStart(user.id, user.type);
                // no hay en local manda a login
            }
            else {
                _this.isLoggin = false;
                _this.user = undefined;
                _this.navController.navigateRoot('login', false);
                /*  this.router
                  .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                  .then(() => this.router.navigate(['login'])); */
            }
            // item select
            if (user.type === 'administrator') {
                _this.link = '/main-admin';
            }
            else {
                _this.link = '/list-buyer-admin';
            }
        });
        router.events.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["map"])(function (m) { return m.url; })).subscribe(function (r) {
            if (r !== undefined) {
                var urlSet = _this.appPages.map(function (ap) { return ap.url; }).find(function (url) { return url === r; });
                if (urlSet) {
                    _this.link = r;
                }
            }
        });
        // android one signal
        userSessionService.activateMenu.subscribe(function (str) {
            if (str === 'list-notification') {
                navController.navigateRoot(str);
            }
        });
    }
    AppComponent.prototype.initializeApp = function () {
        var _this = this;
        this.platform.ready().then(function () {
            // this.statusBar.styleDefault();
            _this.statusBar.overlaysWebView(false);
            _this.statusBar.styleBlackTranslucent();
            _this.splashScreen.hide();
        });
    };
    AppComponent.prototype.logout = function () {
        var _this = this;
        this.storage.remove('userSessionCurrent').then(function () {
            _this.navController.navigateRoot('login', false);
            /* this.router
              .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
              .then(() => this.router.navigate(['login'])); */
        });
    };
    // num of no read
    AppComponent.prototype.getNotification = function () {
        var _this = this;
        this.socketIOService.onNewPost().subscribe(function (n) {
            var isForMe = !!n.receiversId.find(function (r) { return r === _this.user.id; }) ||
                !!n.tags.find(function (t) { return t === _this.user.type; });
            if (isForMe) {
                _this.socketIOService.addNum();
            }
        });
    };
    AppComponent.prototype.setNotificationStart = function (id, tags) {
        var _this = this;
        this.socketIOService.resetNum();
        this.oneSignalService.notRead(id, tags).subscribe(function (nts) {
            console.log('no read', nts);
            nts.forEach(function (n) {
                _this.socketIOService.addNum();
            });
        });
    };
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html")
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_2__["SplashScreen"],
            _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_3__["StatusBar"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_4__["Storage"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__["UserSessionService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavController"],
            _services_socket_io_service__WEBPACK_IMPORTED_MODULE_8__["SocketIoService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_9__["OnesignalService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _components_login_login_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/login/login.component */ "./src/app/components/login/login.component.ts");
/* harmony import */ var _material_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./material.module */ "./src/app/material.module.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/dist/index.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _components_general_general_calendar_general_calendar_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/general/general-calendar/general-calendar.component */ "./src/app/components/general/general-calendar/general-calendar.component.ts");
/* harmony import */ var _components_buyer_list_prop_buyer_list_prop_buyer_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/buyer/list-prop-buyer/list-prop-buyer.component */ "./src/app/components/buyer/list-prop-buyer/list-prop-buyer.component.ts");
/* harmony import */ var _components_buyer_calendar_buyer_calendar_buyer_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/buyer/calendar-buyer/calendar-buyer.component */ "./src/app/components/buyer/calendar-buyer/calendar-buyer.component.ts");
/* harmony import */ var _components_buyer_event_detail_buyer_event_detail_buyer_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/buyer/event-detail-buyer/event-detail-buyer.component */ "./src/app/components/buyer/event-detail-buyer/event-detail-buyer.component.ts");
/* harmony import */ var _components_buyer_detail_prop_buyer_detail_prop_buyer_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/buyer/detail-prop-buyer/detail-prop-buyer.component */ "./src/app/components/buyer/detail-prop-buyer/detail-prop-buyer.component.ts");
/* harmony import */ var _components_general_general_filters_general_filters_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/general/general-filters/general-filters.component */ "./src/app/components/general/general-filters/general-filters.component.ts");
/* harmony import */ var _components_login_user_select_user_select_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/login/user-select/user-select.component */ "./src/app/components/login/user-select/user-select.component.ts");
/* harmony import */ var _components_buyer_new_buyer_new_buyer_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/buyer/new-buyer/new-buyer.component */ "./src/app/components/buyer/new-buyer/new-buyer.component.ts");
/* harmony import */ var _components_buyer_ofert_buyer_ofert_buyer_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/buyer/ofert-buyer/ofert-buyer.component */ "./src/app/components/buyer/ofert-buyer/ofert-buyer.component.ts");
/* harmony import */ var _components_buyer_inter_prop_buyer_inter_prop_buyer_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/buyer/inter-prop-buyer/inter-prop-buyer.component */ "./src/app/components/buyer/inter-prop-buyer/inter-prop-buyer.component.ts");
/* harmony import */ var _components_buyer_credit_event_buyer_credit_event_buyer_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/buyer/credit-event-buyer/credit-event-buyer.component */ "./src/app/components/buyer/credit-event-buyer/credit-event-buyer.component.ts");
/* harmony import */ var _components_admin_main_admin_main_admin_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/admin/main-admin/main-admin.component */ "./src/app/components/admin/main-admin/main-admin.component.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @angular/material-moment-adapter */ "./node_modules/@angular/material-moment-adapter/esm5/material-moment-adapter.es5.js");
/* harmony import */ var _components_general_general_table_general_table_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./components/general/general-table/general-table.component */ "./src/app/components/general/general-table/general-table.component.ts");
/* harmony import */ var _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @angular/cdk/layout */ "./node_modules/@angular/cdk/esm5/layout.es5.js");
/* harmony import */ var _angular_cdk_table__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @angular/cdk/table */ "./node_modules/@angular/cdk/esm5/table.es5.js");
/* harmony import */ var _components_admin_list_buyer_admin_list_buyer_admin_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./components/admin/list-buyer-admin/list-buyer-admin.component */ "./src/app/components/admin/list-buyer-admin/list-buyer-admin.component.ts");
/* harmony import */ var _components_general_general_skeleton_general_skeleton_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./components/general/general-skeleton/general-skeleton.component */ "./src/app/components/general/general-skeleton/general-skeleton.component.ts");
/* harmony import */ var _components_general_general_filter_buyer_general_filter_buyer_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./components/general/general-filter-buyer/general-filter-buyer.component */ "./src/app/components/general/general-filter-buyer/general-filter-buyer.component.ts");
/* harmony import */ var _components_admin_detail_buyer_admin_detail_buyer_admin_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./components/admin/detail-buyer-admin/detail-buyer-admin.component */ "./src/app/components/admin/detail-buyer-admin/detail-buyer-admin.component.ts");
/* harmony import */ var _components_admin_list_adviser_admin_list_adviser_admin_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./components/admin/list-adviser-admin/list-adviser-admin.component */ "./src/app/components/admin/list-adviser-admin/list-adviser-admin.component.ts");
/* harmony import */ var _components_general_filter_adviser_filter_adviser_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./components/general/filter-adviser/filter-adviser.component */ "./src/app/components/general/filter-adviser/filter-adviser.component.ts");
/* harmony import */ var _components_adviser_new_edit_adviser_new_edit_adviser_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./components/adviser/new-edit-adviser/new-edit-adviser.component */ "./src/app/components/adviser/new-edit-adviser/new-edit-adviser.component.ts");
/* harmony import */ var _components_seller_new_edit_seller_new_edit_seller_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./components/seller/new-edit-seller/new-edit-seller.component */ "./src/app/components/seller/new-edit-seller/new-edit-seller.component.ts");
/* harmony import */ var _components_admin_list_seller_admin_list_seller_admin_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./components/admin/list-seller-admin/list-seller-admin.component */ "./src/app/components/admin/list-seller-admin/list-seller-admin.component.ts");
/* harmony import */ var _components_admin_detail_seller_admin_detail_seller_admin_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./components/admin/detail-seller-admin/detail-seller-admin.component */ "./src/app/components/admin/detail-seller-admin/detail-seller-admin.component.ts");
/* harmony import */ var _components_admin_detail_adviser_admin_detail_adviser_admin_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./components/admin/detail-adviser-admin/detail-adviser-admin.component */ "./src/app/components/admin/detail-adviser-admin/detail-adviser-admin.component.ts");
/* harmony import */ var _components_general_filter_seller_filter_seller_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./components/general/filter-seller/filter-seller.component */ "./src/app/components/general/filter-seller/filter-seller.component.ts");
/* harmony import */ var _components_admin_detail_prop_admin_detail_prop_admin_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./components/admin/detail-prop-admin/detail-prop-admin.component */ "./src/app/components/admin/detail-prop-admin/detail-prop-admin.component.ts");
/* harmony import */ var _components_prop_new_edit_prop_new_edit_prop_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./components/prop/new-edit-prop/new-edit-prop.component */ "./src/app/components/prop/new-edit-prop/new-edit-prop.component.ts");
/* harmony import */ var _components_admin_list_prop_admin_list_prop_admin_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./components/admin/list-prop-admin/list-prop-admin.component */ "./src/app/components/admin/list-prop-admin/list-prop-admin.component.ts");
/* harmony import */ var _components_admin_list_credit_admin_list_credit_admin_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./components/admin/list-credit-admin/list-credit-admin.component */ "./src/app/components/admin/list-credit-admin/list-credit-admin.component.ts");
/* harmony import */ var _components_credit_new_edit_credit_new_edit_credit_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./components/credit/new-edit-credit/new-edit-credit.component */ "./src/app/components/credit/new-edit-credit/new-edit-credit.component.ts");
/* harmony import */ var _components_admin_list_oferts_admin_list_oferts_admin_component__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./components/admin/list-oferts-admin/list-oferts-admin.component */ "./src/app/components/admin/list-oferts-admin/list-oferts-admin.component.ts");
/* harmony import */ var _components_oferts_new_edit_ofert_new_edit_ofert_component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./components/oferts/new-edit-ofert/new-edit-ofert.component */ "./src/app/components/oferts/new-edit-ofert/new-edit-ofert.component.ts");
/* harmony import */ var _components_schedule_new_edit_schedule_new_edit_schedule_component__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./components/schedule/new-edit-schedule/new-edit-schedule.component */ "./src/app/components/schedule/new-edit-schedule/new-edit-schedule.component.ts");
/* harmony import */ var _components_admin_list_schedule_admin_list_schedule_admin_component__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./components/admin/list-schedule-admin/list-schedule-admin.component */ "./src/app/components/admin/list-schedule-admin/list-schedule-admin.component.ts");
/* harmony import */ var _components_general_refre_refre_component__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./components/general/refre/refre.component */ "./src/app/components/general/refre/refre.component.ts");
/* harmony import */ var _components_schedule_personal_schedule_personal_schedule_component__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./components/schedule/personal-schedule/personal-schedule.component */ "./src/app/components/schedule/personal-schedule/personal-schedule.component.ts");
/* harmony import */ var _components_goals_new_edit_goal_new_edit_goal_component__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./components/goals/new-edit-goal/new-edit-goal.component */ "./src/app/components/goals/new-edit-goal/new-edit-goal.component.ts");
/* harmony import */ var _components_admin_list_goals_list_goals_component__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./components/admin/list-goals/list-goals.component */ "./src/app/components/admin/list-goals/list-goals.component.ts");
/* harmony import */ var _components_general_goal_progress_goal_progress_component__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./components/general/goal-progress/goal-progress.component */ "./src/app/components/general/goal-progress/goal-progress.component.ts");
/* harmony import */ var ng_circle_progress__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ng-circle-progress */ "./node_modules/ng-circle-progress/index.js");
/* harmony import */ var _components_admin_detail_goal_admin_detail_goal_admin_component__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./components/admin/detail-goal-admin/detail-goal-admin.component */ "./src/app/components/admin/detail-goal-admin/detail-goal-admin.component.ts");
/* harmony import */ var _components_general_form_str_list_form_str_list_component__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./components/general/form-str-list/form-str-list.component */ "./src/app/components/general/form-str-list/form-str-list.component.ts");
/* harmony import */ var _components_admin_simulate_search_admin_simulate_search_admin_component__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./components/admin/simulate-search-admin/simulate-search-admin.component */ "./src/app/components/admin/simulate-search-admin/simulate-search-admin.component.ts");
/* harmony import */ var _components_admin_list_build_admin_list_build_admin_component__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./components/admin/list-build-admin/list-build-admin.component */ "./src/app/components/admin/list-build-admin/list-build-admin.component.ts");
/* harmony import */ var _components_admin_list_maker_admin_list_maker_admin_component__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./components/admin/list-maker-admin/list-maker-admin.component */ "./src/app/components/admin/list-maker-admin/list-maker-admin.component.ts");
/* harmony import */ var _components_maker_new_edit_maker_new_edit_maker_component__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./components/maker/new-edit-maker/new-edit-maker.component */ "./src/app/components/maker/new-edit-maker/new-edit-maker.component.ts");
/* harmony import */ var _components_build_new_edit_build_new_edit_build_component__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./components/build/new-edit-build/new-edit-build.component */ "./src/app/components/build/new-edit-build/new-edit-build.component.ts");
/* harmony import */ var _components_general_filter_build_filter_build_component__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./components/general/filter-build/filter-build.component */ "./src/app/components/general/filter-build/filter-build.component.ts");
/* harmony import */ var _components_general_filter_maker_filter_maker_component__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./components/general/filter-maker/filter-maker.component */ "./src/app/components/general/filter-maker/filter-maker.component.ts");
/* harmony import */ var _components_admin_detail_build_admin_detail_build_admin_component__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./components/admin/detail-build-admin/detail-build-admin.component */ "./src/app/components/admin/detail-build-admin/detail-build-admin.component.ts");
/* harmony import */ var _components_admin_list_salesprop_admin_list_salesprop_admin_component__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./components/admin/list-salesprop-admin/list-salesprop-admin.component */ "./src/app/components/admin/list-salesprop-admin/list-salesprop-admin.component.ts");
/* harmony import */ var _components_admin_detail_salesprop_admin_detail_salesprop_admin_component__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./components/admin/detail-salesprop-admin/detail-salesprop-admin.component */ "./src/app/components/admin/detail-salesprop-admin/detail-salesprop-admin.component.ts");
/* harmony import */ var _components_admin_list_sales_admin_list_sales_admin_component__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./components/admin/list-sales-admin/list-sales-admin.component */ "./src/app/components/admin/list-sales-admin/list-sales-admin.component.ts");
/* harmony import */ var _components_admin_list_office_admin_list_office_admin_component__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./components/admin/list-office-admin/list-office-admin.component */ "./src/app/components/admin/list-office-admin/list-office-admin.component.ts");
/* harmony import */ var _components_office_new_edit_office_new_edit_office_component__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./components/office/new-edit-office/new-edit-office.component */ "./src/app/components/office/new-edit-office/new-edit-office.component.ts");
/* harmony import */ var _components_general_dialog_general_dialog_general_component__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./components/general/dialog-general/dialog-general.component */ "./src/app/components/general/dialog-general/dialog-general.component.ts");
/* harmony import */ var _components_notification_list_notification_list_notification_component__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ./components/notification/list-notification/list-notification.component */ "./src/app/components/notification/list-notification/list-notification.component.ts");
/* harmony import */ var _components_general_menu_general_menu_general_component__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ./components/general/menu-general/menu-general.component */ "./src/app/components/general/menu-general/menu-general.component.ts");
/* harmony import */ var _components_general_popover_popover_component__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ./components/general/popover/popover.component */ "./src/app/components/general/popover/popover.component.ts");
/* harmony import */ var _components_general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ./components/general/search-select/search-select.component */ "./src/app/components/general/search-select/search-select.component.ts");
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var _components_general_calendar_specific_calendar_specific_component__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ./components/general/calendar-specific/calendar-specific.component */ "./src/app/components/general/calendar-specific/calendar-specific.component.ts");
/* harmony import */ var _config_jwt_interceptor__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ./_config/jwt.interceptor */ "./src/app/_config/jwt.interceptor.ts");
/* harmony import */ var _config_error_interceptor__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ./_config/error.interceptor */ "./src/app/_config/error.interceptor.ts");
/* harmony import */ var _ionic_native_launch_navigator_ngx__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! @ionic-native/launch-navigator/ngx */ "./node_modules/@ionic-native/launch-navigator/ngx/index.js");
/* harmony import */ var _components_general_maps_button_maps_button_component__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ./components/general/maps-button/maps-button.component */ "./src/app/components/general/maps-button/maps-button.component.ts");
/* harmony import */ var _components_documents_documents_component__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ./components/documents/documents.component */ "./src/app/components/documents/documents.component.ts");
/* harmony import */ var _components_general_document_filter_document_filter_component__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ./components/general/document-filter/document-filter.component */ "./src/app/components/general/document-filter/document-filter.component.ts");
/* harmony import */ var _components_pre_buyer_pre_buyer_component__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ./components/pre-buyer/pre-buyer.component */ "./src/app/components/pre-buyer/pre-buyer.component.ts");
/* harmony import */ var _components_admin_list_pre_buyer_list_pre_buyer_component__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ./components/admin/list-pre-buyer/list-pre-buyer.component */ "./src/app/components/admin/list-pre-buyer/list-pre-buyer.component.ts");
/* harmony import */ var _components_admin_detail_pre_build_detail_pre_build_component__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! ./components/admin/detail-pre-build/detail-pre-build.component */ "./src/app/components/admin/detail-pre-build/detail-pre-build.component.ts");
/* harmony import */ var _components_admin_list_pre_build_list_pre_build_component__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! ./components/admin/list-pre-build/list-pre-build.component */ "./src/app/components/admin/list-pre-build/list-pre-build.component.ts");
/* harmony import */ var _components_pre_build_new_edit_pre_build_new_edit_pre_build_component__WEBPACK_IMPORTED_MODULE_91__ = __webpack_require__(/*! ./components/pre-build/new-edit-pre-build/new-edit-pre-build.component */ "./src/app/components/pre-build/new-edit-pre-build/new-edit-pre-build.component.ts");
/* harmony import */ var _components_admin_list_manager_admin_list_manager_admin_component__WEBPACK_IMPORTED_MODULE_92__ = __webpack_require__(/*! ./components/admin/list-manager-admin/list-manager-admin.component */ "./src/app/components/admin/list-manager-admin/list-manager-admin.component.ts");
/* harmony import */ var _components_manager_new_edit_manager_new_edit_manager_component__WEBPACK_IMPORTED_MODULE_93__ = __webpack_require__(/*! ./components/manager/new-edit-manager/new-edit-manager.component */ "./src/app/components/manager/new-edit-manager/new-edit-manager.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






























































































var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_8__["AppComponent"],
                _components_login_login_component__WEBPACK_IMPORTED_MODULE_10__["LoginComponent"],
                _components_buyer_list_prop_buyer_list_prop_buyer_component__WEBPACK_IMPORTED_MODULE_15__["ListPropBuyerComponent"],
                _components_buyer_calendar_buyer_calendar_buyer_component__WEBPACK_IMPORTED_MODULE_16__["CalendarBuyerComponent"],
                _components_general_general_calendar_general_calendar_component__WEBPACK_IMPORTED_MODULE_14__["GeneralCalendarComponent"],
                _components_buyer_event_detail_buyer_event_detail_buyer_component__WEBPACK_IMPORTED_MODULE_17__["EventDetailBuyerComponent"],
                _components_buyer_detail_prop_buyer_detail_prop_buyer_component__WEBPACK_IMPORTED_MODULE_18__["DetailPropBuyerComponent"],
                _components_general_general_filters_general_filters_component__WEBPACK_IMPORTED_MODULE_19__["GeneralFiltersComponent"],
                _components_login_user_select_user_select_component__WEBPACK_IMPORTED_MODULE_20__["UserSelectComponent"],
                _components_buyer_new_buyer_new_buyer_component__WEBPACK_IMPORTED_MODULE_21__["NewBuyerComponent"],
                _components_buyer_ofert_buyer_ofert_buyer_component__WEBPACK_IMPORTED_MODULE_22__["OfertBuyerComponent"],
                _components_buyer_inter_prop_buyer_inter_prop_buyer_component__WEBPACK_IMPORTED_MODULE_23__["InterPropBuyerComponent"],
                _components_buyer_credit_event_buyer_credit_event_buyer_component__WEBPACK_IMPORTED_MODULE_24__["CreditEventBuyerComponent"],
                _components_admin_main_admin_main_admin_component__WEBPACK_IMPORTED_MODULE_25__["MainAdminComponent"],
                _components_general_general_table_general_table_component__WEBPACK_IMPORTED_MODULE_29__["GeneralTableComponent"],
                _components_admin_list_buyer_admin_list_buyer_admin_component__WEBPACK_IMPORTED_MODULE_32__["ListBuyerAdminComponent"],
                _components_general_general_skeleton_general_skeleton_component__WEBPACK_IMPORTED_MODULE_33__["GeneralSkeletonComponent"],
                _components_general_general_filter_buyer_general_filter_buyer_component__WEBPACK_IMPORTED_MODULE_34__["GeneralFilterBuyerComponent"],
                _components_admin_detail_buyer_admin_detail_buyer_admin_component__WEBPACK_IMPORTED_MODULE_35__["DetailBuyerAdminComponent"],
                _components_admin_list_adviser_admin_list_adviser_admin_component__WEBPACK_IMPORTED_MODULE_36__["ListAdviserAdminComponent"],
                _components_general_filter_adviser_filter_adviser_component__WEBPACK_IMPORTED_MODULE_37__["FilterAdviserComponent"],
                _components_adviser_new_edit_adviser_new_edit_adviser_component__WEBPACK_IMPORTED_MODULE_38__["NewEditAdviserComponent"],
                _components_seller_new_edit_seller_new_edit_seller_component__WEBPACK_IMPORTED_MODULE_39__["NewEditSellerComponent"],
                _components_admin_list_seller_admin_list_seller_admin_component__WEBPACK_IMPORTED_MODULE_40__["ListSellerAdminComponent"],
                _components_admin_detail_seller_admin_detail_seller_admin_component__WEBPACK_IMPORTED_MODULE_41__["DetailSellerAdminComponent"],
                _components_admin_detail_adviser_admin_detail_adviser_admin_component__WEBPACK_IMPORTED_MODULE_42__["DetailAdviserAdminComponent"],
                _components_general_filter_seller_filter_seller_component__WEBPACK_IMPORTED_MODULE_43__["FilterSellerComponent"],
                _components_admin_detail_prop_admin_detail_prop_admin_component__WEBPACK_IMPORTED_MODULE_44__["DetailPropAdminComponent"],
                _components_prop_new_edit_prop_new_edit_prop_component__WEBPACK_IMPORTED_MODULE_45__["NewEditPropComponent"],
                _components_admin_list_prop_admin_list_prop_admin_component__WEBPACK_IMPORTED_MODULE_46__["ListPropAdminComponent"],
                _components_admin_list_credit_admin_list_credit_admin_component__WEBPACK_IMPORTED_MODULE_47__["ListCreditAdminComponent"],
                _components_credit_new_edit_credit_new_edit_credit_component__WEBPACK_IMPORTED_MODULE_48__["NewEditCreditComponent"],
                _components_admin_list_oferts_admin_list_oferts_admin_component__WEBPACK_IMPORTED_MODULE_49__["ListOfertsAdminComponent"],
                _components_oferts_new_edit_ofert_new_edit_ofert_component__WEBPACK_IMPORTED_MODULE_50__["NewEditOfertComponent"],
                _components_schedule_new_edit_schedule_new_edit_schedule_component__WEBPACK_IMPORTED_MODULE_51__["NewEditScheduleComponent"],
                _components_admin_list_schedule_admin_list_schedule_admin_component__WEBPACK_IMPORTED_MODULE_52__["ListScheduleAdminComponent"],
                _components_general_refre_refre_component__WEBPACK_IMPORTED_MODULE_53__["RefreComponent"],
                _components_schedule_personal_schedule_personal_schedule_component__WEBPACK_IMPORTED_MODULE_54__["PersonalScheduleComponent"],
                _components_goals_new_edit_goal_new_edit_goal_component__WEBPACK_IMPORTED_MODULE_55__["NewEditGoalComponent"],
                _components_admin_list_goals_list_goals_component__WEBPACK_IMPORTED_MODULE_56__["ListGoalsComponent"],
                _components_general_goal_progress_goal_progress_component__WEBPACK_IMPORTED_MODULE_57__["GoalProgressComponent"],
                _components_admin_detail_goal_admin_detail_goal_admin_component__WEBPACK_IMPORTED_MODULE_59__["DetailGoalAdminComponent"],
                _components_general_form_str_list_form_str_list_component__WEBPACK_IMPORTED_MODULE_60__["FormStrListComponent"],
                _components_admin_simulate_search_admin_simulate_search_admin_component__WEBPACK_IMPORTED_MODULE_61__["SimulateSearchAdminComponent"],
                _components_admin_list_build_admin_list_build_admin_component__WEBPACK_IMPORTED_MODULE_62__["ListBuildAdminComponent"],
                _components_admin_list_maker_admin_list_maker_admin_component__WEBPACK_IMPORTED_MODULE_63__["ListMakerAdminComponent"],
                _components_maker_new_edit_maker_new_edit_maker_component__WEBPACK_IMPORTED_MODULE_64__["NewEditMakerComponent"],
                _components_build_new_edit_build_new_edit_build_component__WEBPACK_IMPORTED_MODULE_65__["NewEditBuildComponent"],
                _components_general_filter_build_filter_build_component__WEBPACK_IMPORTED_MODULE_66__["FilterBuildComponent"],
                _components_general_filter_maker_filter_maker_component__WEBPACK_IMPORTED_MODULE_67__["FilterMakerComponent"],
                _components_admin_detail_build_admin_detail_build_admin_component__WEBPACK_IMPORTED_MODULE_68__["DetailBuildAdminComponent"],
                _components_admin_list_salesprop_admin_list_salesprop_admin_component__WEBPACK_IMPORTED_MODULE_69__["ListSalespropAdminComponent"],
                _components_admin_detail_salesprop_admin_detail_salesprop_admin_component__WEBPACK_IMPORTED_MODULE_70__["DetailSalespropAdminComponent"],
                _components_admin_list_sales_admin_list_sales_admin_component__WEBPACK_IMPORTED_MODULE_71__["ListSalesAdminComponent"],
                _components_admin_list_office_admin_list_office_admin_component__WEBPACK_IMPORTED_MODULE_72__["ListOfficeAdminComponent"],
                _components_office_new_edit_office_new_edit_office_component__WEBPACK_IMPORTED_MODULE_73__["NewEditOfficeComponent"],
                _components_general_dialog_general_dialog_general_component__WEBPACK_IMPORTED_MODULE_74__["DialogGeneralComponent"],
                _components_notification_list_notification_list_notification_component__WEBPACK_IMPORTED_MODULE_75__["ListNotificationComponent"],
                _components_general_menu_general_menu_general_component__WEBPACK_IMPORTED_MODULE_76__["MenuGeneralComponent"],
                _components_general_popover_popover_component__WEBPACK_IMPORTED_MODULE_77__["PopoverComponent"],
                _components_general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_78__["SearchSelectComponent"],
                _components_general_calendar_specific_calendar_specific_component__WEBPACK_IMPORTED_MODULE_80__["CalendarSpecificComponent"],
                _components_general_maps_button_maps_button_component__WEBPACK_IMPORTED_MODULE_84__["MapsButtonComponent"],
                _components_documents_documents_component__WEBPACK_IMPORTED_MODULE_85__["DocumentsComponent"],
                _components_general_document_filter_document_filter_component__WEBPACK_IMPORTED_MODULE_86__["DocumentFilterComponent"],
                _components_pre_buyer_pre_buyer_component__WEBPACK_IMPORTED_MODULE_87__["PreBuyerComponent"],
                _components_admin_list_pre_buyer_list_pre_buyer_component__WEBPACK_IMPORTED_MODULE_88__["ListPreBuyerComponent"],
                _components_admin_detail_pre_build_detail_pre_build_component__WEBPACK_IMPORTED_MODULE_89__["DetailPreBuildComponent"],
                _components_admin_list_pre_build_list_pre_build_component__WEBPACK_IMPORTED_MODULE_90__["ListPreBuildComponent"],
                _components_pre_build_new_edit_pre_build_new_edit_pre_build_component__WEBPACK_IMPORTED_MODULE_91__["NewEditPreBuildComponent"],
                _components_admin_list_manager_admin_list_manager_admin_component__WEBPACK_IMPORTED_MODULE_92__["ListManagerAdminComponent"],
                _components_manager_new_edit_manager_new_edit_manager_component__WEBPACK_IMPORTED_MODULE_93__["NewEditManagerComponent"]
            ],
            entryComponents: [
                _components_general_dialog_general_dialog_general_component__WEBPACK_IMPORTED_MODULE_74__["DialogGeneralComponent"],
                _components_general_popover_popover_component__WEBPACK_IMPORTED_MODULE_77__["PopoverComponent"],
                _components_general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_78__["SearchSelectComponent"]
            ],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_26__["BrowserAnimationsModule"],
                //  IonicModule.forRoot({ backButtonText: '', mode: 'ios' }),
                _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"].forRoot({ backButtonText: '' }),
                _ionic_storage__WEBPACK_IMPORTED_MODULE_12__["IonicStorageModule"].forRoot(),
                _app_routing_module__WEBPACK_IMPORTED_MODULE_9__["AppRoutingModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _material_module__WEBPACK_IMPORTED_MODULE_11__["AppMaterialModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClientModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatCheckboxModule"],
                _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_30__["LayoutModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatToolbarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatSidenavModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatIconModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatTableModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatPaginatorModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatSortModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatGridListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatCardModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatFormFieldModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatInputModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatSelectModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatTooltipModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatButtonToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatChipsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatBottomSheetModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatSnackBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatAutocompleteModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatExpansionModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatDialogModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatRadioModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatTabsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatCheckboxModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatProgressSpinnerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatDividerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatProgressBarModule"],
                _angular_cdk_table__WEBPACK_IMPORTED_MODULE_31__["CdkTableModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatDatepickerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["NativeDateModule"],
                _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_28__["MatMomentDateModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_27__["MatStepperModule"],
                ng_circle_progress__WEBPACK_IMPORTED_MODULE_58__["NgCircleProgressModule"].forRoot({
                    showInnerStroke: false,
                    responsive: true
                })
            ],
            providers: [
                _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_7__["StatusBar"],
                _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_6__["SplashScreen"],
                _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_79__["Camera"],
                _ionic_native_launch_navigator_ngx__WEBPACK_IMPORTED_MODULE_83__["LaunchNavigator"],
                { provide: _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouteReuseStrategy"], useClass: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicRouteStrategy"] },
                {
                    provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__["APP_INITIALIZER"],
                    useFactory: function (check) { return function () {
                        return check.checkValidSession();
                    }; },
                    deps: [_services_user_session_service__WEBPACK_IMPORTED_MODULE_13__["UserSessionService"]],
                    multi: true
                },
                { provide: _angular_material__WEBPACK_IMPORTED_MODULE_27__["MAT_DATE_LOCALE"], useValue: 'en-GB' },
                { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HTTP_INTERCEPTORS"], useClass: _config_jwt_interceptor__WEBPACK_IMPORTED_MODULE_81__["JwtInterceptor"], multi: true },
                { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HTTP_INTERCEPTORS"], useClass: _config_error_interceptor__WEBPACK_IMPORTED_MODULE_82__["ErrorInterceptor"], multi: true }
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_8__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/components/admin/detail-adviser-admin/detail-adviser-admin.component.html":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/admin/detail-adviser-admin/detail-adviser-admin.component.html ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <!-- <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button style=\"color: white !important\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>\n      Detalles\n    </ion-title>\n  </ion-toolbar> -->\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Detalles'\" [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ion-grid fixed>\n    <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n    <ng-template #thenTemplate>\n      <h1> Detalles de Asessor </h1>\n\n      <ion-card>\n\n\n        <ion-card-header>\n          <ion-card-subtitle> {{adviser.name}} {{adviser.lastName}} </ion-card-subtitle>\n          <ion-card-title> {{adviser.name}} </ion-card-title>\n        </ion-card-header>\n        <ion-item>\n          <ion-label>Email: {{adviser.email}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label>Hora inicio {{adviser.hourStart}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label>Hora fin {{adviser.hourEnd}}</ion-label>\n        </ion-item>\n\n      </ion-card>\n      <!-- buyers -->\n      <h1 *ngIf=\"adviser.buyer && adviser.buyer.length > 0\"> Consumidores Asignados </h1>\n      <ion-card *ngFor=\"let buyer  of adviser.buyer \">\n        <ion-item>\n          <ion-label>Consumidor {{buyer.name}}</ion-label>\n        </ion-item>\n      </ion-card>\n      <!-- schedule -->\n      <h1 *ngIf=\"adviser.schedule && adviser.schedule.length > 0\"> Citas </h1>\n      <ion-card *ngFor=\"let schedule  of adviser.schedule \" [ngClass]=\"{'state-verde': schedule.status === 'verde', \n    'state-amarillo': schedule.status === 'amarillo',\n    'state-rojo': schedule.status === 'rojo',\n    'state-azul': schedule.status === 'azul' }\">\n        <ion-item>\n          <ion-label>Propiedad {{schedule.property.name}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label>Fecha {{schedule.day}}/{{schedule.month + 1}}/{{schedule.year}}</ion-label>\n        </ion-item>\n\n        <ion-item text-wrap>Hora: {{formatHours(schedule.hour,schedule.minute)}}</ion-item>\n\n        <ion-item>\n          <ion-label>Lugar {{schedule.address}}</ion-label>\n        </ion-item>\n      </ion-card>\n      <!-- Goals -->\n      <h1 *ngIf=\"adviser.goal && adviser.goal.length > 0\"> Metas Asignadas </h1>\n      <ion-card *ngFor=\"let goal  of adviser.goal \">\n        <ion-item>\n          <ion-label>Meta {{goal.title}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label>Completado {{getPercentage(goal.goals)}}%</ion-label>\n        </ion-item>\n      </ion-card>\n      <!-- Adquiridas -->\n      <h1 *ngIf=\" sales.length > 0\"> Propiedades Vendidas y Rentadas </h1>\n      <ion-card class=\"state-azul\" *ngFor=\"let sale  of sales \">\n        <ion-item>\n          <ion-label>Propiedad {{sale.property.name}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label>Consumidor {{sale.buyer.name}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label>Cantidad ${{sale.price}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label>Fecha {{formatDates(sale.timestamp)}}</ion-label>\n        </ion-item>\n      </ion-card>\n\n    </ng-template>\n    <ng-template #elseTemplate style=\"text-align: center\">\n      <ion-spinner name=\"bubbles\"></ion-spinner>\n\n    </ng-template>\n  </ion-grid>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/admin/detail-adviser-admin/detail-adviser-admin.component.scss":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/admin/detail-adviser-admin/detail-adviser-admin.component.scss ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/admin/detail-adviser-admin/detail-adviser-admin.component.ts":
/*!*****************************************************************************************!*\
  !*** ./src/app/components/admin/detail-adviser-admin/detail-adviser-admin.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: DetailAdviserAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetailAdviserAdminComponent", function() { return DetailAdviserAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_adviser_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/adviser.service */ "./src/app/services/adviser.service.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _services_sale_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/sale.service */ "./src/app/services/sale.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var DetailAdviserAdminComponent = /** @class */ (function () {
    function DetailAdviserAdminComponent(route, adviserService, salesService) {
        var _this = this;
        this.route = route;
        this.adviserService = adviserService;
        this.salesService = salesService;
        this.isLoad = false;
        this.isLiked = false;
        this.arrPropLikes = [];
        this.arrSBP = [];
        this.route.queryParams.subscribe(function (params) {
            console.log(params.id);
            if (params.id) {
                _this.getAdviserById(params.id);
            }
        });
    }
    DetailAdviserAdminComponent.prototype.ngOnInit = function () { };
    DetailAdviserAdminComponent.prototype.getAdviserById = function (id) {
        var _this = this;
        this.isLoad = false;
        this.adviserService.getAdviserById(id).subscribe(function (adv) {
            _this.adviser = adv;
            _this.salesService.getSaleByIdAdv(id).subscribe(function (sales) {
                console.log(_this.adviser);
                _this.sales = sales;
                _this.isLoad = true;
            });
            if (adv.buyer && adv.buyer.length > 0) {
            }
        });
    };
    DetailAdviserAdminComponent.prototype.getPercentage = function (goals) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_3__["GetPercentGoal"])(goals);
    };
    DetailAdviserAdminComponent.prototype.formatDates = function (dateInput) {
        var day = new Date(dateInput).getDate().toString();
        var month = (new Date(dateInput).getMonth() + 1).toString();
        var year = new Date(dateInput).getFullYear().toString();
        var date = day + '/' + month + '/' + year;
        return date;
    };
    DetailAdviserAdminComponent.prototype.formatHours = function (hours, minutes) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_3__["FormatHoursFront"])(hours, minutes);
    };
    DetailAdviserAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-detail-adviser-admin',
            template: __webpack_require__(/*! ./detail-adviser-admin.component.html */ "./src/app/components/admin/detail-adviser-admin/detail-adviser-admin.component.html"),
            styles: [__webpack_require__(/*! ./detail-adviser-admin.component.scss */ "./src/app/components/admin/detail-adviser-admin/detail-adviser-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _services_adviser_service__WEBPACK_IMPORTED_MODULE_2__["AdviserService"],
            _services_sale_service__WEBPACK_IMPORTED_MODULE_4__["SaleService"]])
    ], DetailAdviserAdminComponent);
    return DetailAdviserAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/detail-build-admin/detail-build-admin.component.html":
/*!***************************************************************************************!*\
  !*** ./src/app/components/admin/detail-build-admin/detail-build-admin.component.html ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"start\">\n        <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n      </ion-buttons>\n      <ion-title>\n        Obra\n      </ion-title>\n\n    </ion-toolbar>\n  </ion-header>\n-->\n<ion-header>\n  <app-menu-general\n    [isMenuButton]=\"user.type === 'maker' ? 'menu' : 'back'\"\n    [colorMenuButton]=\"'white'\"\n    [titleMenu]=\"'Detalle Obra'\"\n    [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"\n  ></app-menu-general>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n    <ng-container *ngIf=\"isLoad; then: Load; else: NoLoad\"></ng-container>\n    <ng-template #Load>\n      <h1>Detalles de: {{ build.name }}</h1>\n      <ion-row>\n        <ion-col size-md=\"6\" size-lg=\"6\" size-xl=\"6\">\n          <ion-card [ngClass]=\"{ 'desktop-card': isDesktop }\">\n            <!-- [ngClass]=\"{'desktop-card': isDesktop }\" -->\n            <ion-card-header>\n              <ion-card-title> Progreso </ion-card-title>\n              <ion-card-content>\n                <app-goal-progress\n                  subtitle=\"Progreso\"\n                  [percent]=\"percent\"\n                ></app-goal-progress>\n                <ion-list lines=\"none\">\n                  <ion-list-header>Constructores de la Obra</ion-list-header>\n                  <ion-item lines=\"none\" *ngFor=\"let adv of build.maker\">\n                    {{ adv.name }} {{ adv.lastName }}\n                  </ion-item>\n                </ion-list>\n              </ion-card-content>\n            </ion-card-header>\n          </ion-card>\n        </ion-col>\n        <ion-col size-md=\"6\" size-lg=\"6\" size-xl=\"6\">\n          <ion-card [ngClass]=\"{ 'desktop-card': isDesktop }\">\n            <ion-card-header>\n              <ion-card-title> Lista de Fases </ion-card-title>\n              <ion-card-subtitle *ngIf=\"checkAdminRol(user.type)\"\n                >Seleccione una fase para completar</ion-card-subtitle\n              >\n            </ion-card-header>\n            <div *ngIf=\"checkAdminRol(user.type)\" class=\"flex-container\">\n              <mat-checkbox\n                (change)=\"changeGoal($event.checked)\"\n                *ngFor=\"let item of build.timeLine; let i = index\"\n                [(ngModel)]=\"item.isComplete\"\n              >\n                <h3>{{ item.namePhase }}</h3>\n                <div>{{ item.notes }}</div>\n                <div>\n                  Inicio:\n                  {{\n                    formatDates(\n                      item.yearToStart,\n                      item.monthToStart,\n                      item.dayToStart\n                    )\n                  }}\n                </div>\n                <div>\n                  Fin:\n                  {{\n                    formatDates(item.yearToEnd, item.monthToEnd, item.dayToEnd)\n                  }}\n                </div>\n              </mat-checkbox>\n            </div>\n            <span *ngIf=\"!checkAdminRol(user.type)\">\n              <mat-list *ngFor=\"let item of build.timeLine; let i = index\">\n                <h3 matSubheader>\n                  <b> {{ item.namePhase }} </b>\n                </h3>\n                <mat-list-item>\n                  <mat-icon\n                    [ngClass]=\"{\n                      'color-complete': item.isComplete,\n                      'color-incomplete': !item.isComplete\n                    }\"\n                    matListIcon\n                    >{{\n                      item.isComplete\n                        ? 'assignment_turned_in'\n                        : 'assignment_late'\n                    }}</mat-icon\n                  >\n                  <h4 matLine>\n                    <b>\n                      {{ item.isComplete ? 'Completada' : 'Sin Completar' }}\n                    </b>\n                  </h4>\n                  <p matLine>\n                    Inicio:\n                    {{\n                      formatDates(\n                        item.yearToStart,\n                        item.monthToStart,\n                        item.dayToStart\n                      )\n                    }}\n                  </p>\n                  <p matLine>\n                    Fin:\n                    {{\n                      formatDates(\n                        item.yearToEnd,\n                        item.monthToEnd,\n                        item.dayToEnd\n                      )\n                    }}\n                  </p>\n                  <p matLine>{{ item.notes }}</p>\n                </mat-list-item>\n              </mat-list>\n            </span>\n          </ion-card>\n        </ion-col>\n      </ion-row>\n\n      <!-- Options grid -->\n      <div *ngIf=\"checkAdminRol(user.type)\" class=\"conteiner-buttons\">\n        <p style=\"text-align: left;\">Fotos de Fase</p>\n        <mat-button-toggle-group (change)=\"changeGrid($event)\">\n          <mat-button-toggle [checked]=\"!isList\" value=\"column\">\n            <mat-icon color=\"accent\">view_column</mat-icon>\n          </mat-button-toggle>\n          <mat-button-toggle [checked]=\"isList\" color=\"primary\" value=\"list\">\n            <mat-icon color=\"accent\">view_list</mat-icon>\n          </mat-button-toggle>\n        </mat-button-toggle-group>\n      </div>\n      <ng-container *ngIf=\"isList; then: List; else: Column\"></ng-container>\n      <ng-template #List>\n        <!-- Contenedor List -->\n        <ion-list style=\"margin-top: 1%\">\n          <ion-list-header>\n            {{ build.timeLine[numOfCurrentFase].namePhase }}\n          </ion-list-header>\n          <!-- img -->\n          <ion-item\n            *ngFor=\"\n              let imgData of build.timeLine[numOfCurrentFase].imagesData;\n              let imgNumber = index\n            \"\n          >\n            <ion-thumbnail slot=\"start\">\n              <ion-img [src]=\"imgData.url\"></ion-img>\n            </ion-thumbnail>\n            <ion-label text-wrap>\n              <h3>{{ build.timeLine[numOfCurrentFase].namePhase }}</h3>\n              <p><b>Notas: </b>{{ imgData.notes }}</p>\n              <p><b>Fecha de Subida: </b>{{ formatDates2(imgData.date) }}</p>\n            </ion-label>\n            <ion-button\n              (click)=\"\n                presentAlertConfirm(imgData.url, numOfCurrentFase, imgNumber)\n              \"\n              shape=\"round\"\n              fill=\"outline\"\n              color=\"danger\"\n            >\n              <ion-icon slot=\"start\" name=\"trash\"></ion-icon>\n              Borrar\n            </ion-button>\n          </ion-item>\n          <!-- img antes de subir -->\n          <span *ngFor=\"let prev of imgToUpload; let ii = index\">\n            <ion-item>\n              <ion-thumbnail slot=\"start\">\n                <ion-img [src]=\"prev.srcPrev\"></ion-img>\n              </ion-thumbnail>\n              <span>\n                <ion-label>\n                  <h3>Subir Foto</h3>\n                  <p></p>\n                </ion-label>\n                <ion-input\n                  [(ngModel)]=\"prev.notes\"\n                  placeholder=\"Escribe algo referente\"\n                ></ion-input>\n                <ion-button\n                  shape=\"round\"\n                  fill=\"outline\"\n                  (click)=\"uploadImg(prev, ii, prev.notes)\"\n                  color=\"success\"\n                >\n                  <ion-icon slot=\"start\" name=\"checkmark-circle\"></ion-icon>\n                  Subir\n                </ion-button>\n                <ion-button\n                  (click)=\"discartImg(ii)\"\n                  shape=\"round\"\n                  fill=\"outline\"\n                  color=\"danger\"\n                >\n                  <ion-icon slot=\"start\" name=\"trash\"></ion-icon>\n                  Descartar\n                </ion-button>\n              </span>\n            </ion-item>\n          </span>\n\n          <input\n            id=\"imagen1\"\n            accept=\"image/*\"\n            name=\"imagen1\"\n            type=\"file\"\n            hidden\n            (change)=\"fileChangeEvent($event)\"\n          />\n          <ion-button\n            (click)=\"link(numOfCurrentFase)\"\n            shape=\"round\"\n            fill=\"outline\"\n            color=\"secondary\"\n          >\n            <ion-icon slot=\"start\" name=\"add\"></ion-icon>\n            Agregar\n          </ion-button>\n          <ion-button\n            *ngIf=\"isCordova\"\n            (click)=\"cameraIonic()\"\n            shape=\"round\"\n            fill=\"outline\"\n            color=\"secondary\"\n          >\n            <ion-icon slot=\"start\" name=\"camera\"></ion-icon>\n            Camara\n          </ion-button>\n        </ion-list>\n      </ng-template>\n      <ng-template #Column>\n        <!-- Contenedor de fases -->\n        <div class=\"conteiner-phases\">\n          <!-- fase titulo -->\n          <h2>{{ build.timeLine[numOfCurrentFase].namePhase }}</h2>\n          <!-- contenedor imagenes -->\n          <div class=\"flex-img\">\n            <img\n              *ngFor=\"let img of build.timeLine[numOfCurrentFase].imagesData\"\n              [src]=\"img.url\"\n            />\n          </div>\n          <!--\n            <button style=\"margin-left: 1%;\" mat-stroked-button color=\"accent\">\n              <mat-icon color=\"accent\">add</mat-icon>\n              Agregar\n            </button>\n          -->\n          <!-- /contenedor imagenes -->\n        </div>\n\n        <!-- /Contenedor de fases -->\n      </ng-template>\n    </ng-template>\n    <ng-template #NoLoad>\n      <app-general-skeleton></app-general-skeleton>\n    </ng-template>\n    <!--\n      <img *ngIf=\"Test\" [src]=\"Test\" alt=\"\">\n      <ion-label text-wrap>\n        {{Test}}\n      </ion-label>\n\n      <input type=\"file\" accept=\"image/*\" capture=\"camera\">\n    -->\n  </ion-grid>\n</ion-content>\n"

/***/ }),

/***/ "./src/app/components/admin/detail-build-admin/detail-build-admin.component.scss":
/*!***************************************************************************************!*\
  !*** ./src/app/components/admin/detail-build-admin/detail-build-admin.component.scss ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%;\n  margin: 5%; }\n\n.desktop-card {\n  height: 100% !important; }\n\n.flex-img {\n  display: flex;\n  flex-wrap: wrap; }\n\n.flex-img > * {\n  padding: 1%;\n  width: 300px;\n  height: 300px; }\n\n.conteiner-buttons {\n  padding: 3% 3% 0% 3%;\n  text-align: right;\n  margin-top: 8%; }\n\n/* .conteiner-buttons>* {\n    // background-color: var(--ion-color-primary);\n\n} */\n\n.conteiner-phases {\n  padding: 1%; }\n\n.flex-img > .item {\n  align-self: flex-end; }\n\n.color-complete {\n  color: var(--ion-color-success); }\n\n.color-incomplete {\n  color: var(--ion-color-warning); }\n\n@media (max-width: 900px) {\n  .flex-img > * {\n    padding: 1%;\n    width: 100%;\n    height: unset; } }\n"

/***/ }),

/***/ "./src/app/components/admin/detail-build-admin/detail-build-admin.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/detail-build-admin/detail-build-admin.component.ts ***!
  \*************************************************************************************/
/*! exports provided: DetailBuildAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetailBuildAdminComponent", function() { return DetailBuildAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_build_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/build.service */ "./src/app/services/build.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/dist/index.js");
/* harmony import */ var _services_maker_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/maker.service */ "./src/app/services/maker.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};











var DetailBuildAdminComponent = /** @class */ (function () {
    function DetailBuildAdminComponent(route, buildService, userSessionService, toastController, platform, alertController, oneSignalService, camera, storage, loadingController, makerService) {
        var _this = this;
        this.route = route;
        this.buildService = buildService;
        this.userSessionService = userSessionService;
        this.toastController = toastController;
        this.platform = platform;
        this.alertController = alertController;
        this.oneSignalService = oneSignalService;
        this.camera = camera;
        this.storage = storage;
        this.loadingController = loadingController;
        this.makerService = makerService;
        this.percent = 1;
        this.isLoad = false;
        this.arrPropLikes = [];
        this.arrSBP = [];
        this.isDesktop = true;
        this.isList = false;
        this.imgName = '';
        this.imgToUpload = [];
        // notas por img
        this.notes = [];
        this.Test2 = 'a';
        this.isCordova = platform.is('cordova');
        this.user = userSessionService.userSession.value;
        this.route.queryParams.subscribe(function (params) {
            if (params.id) {
                _this.getGoalById(params.id);
            }
            else if (_this.user.type === 'maker') {
                _this.getBuildOfMaker(_this.user.id);
            }
        });
        // si regresa de  crash
        this.storage.keys().then(function (keys) { return __awaiter(_this, void 0, void 0, function () {
            var keyBuildImg, imgb64;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        keyBuildImg = keys.some(function (key) { return key === 'build-img'; });
                        if (!keyBuildImg) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.storage.get('build-img')];
                    case 1:
                        imgb64 = _a.sent();
                        this.Test2 = userSessionService.saveURI;
                        /* this.platform.resume.subscribe((event: any) => {
                          // this.Test2 = event.pendingResult.result;
                          this.Test2 = event;
                          this.Test = event.pendingResult.pluginServiceName;
                        }); */
                        this.getGoalById(imgb64.idBuild);
                        /*  this.render(imgb64.base64Image); */
                        storage.remove('build-img');
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        }); });
    }
    DetailBuildAdminComponent.prototype.getBuildOfMaker = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            var maker;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.makerService.getMakerById(id).toPromise()];
                    case 1:
                        maker = _a.sent();
                        this.getGoalById(maker.build._id);
                        return [2 /*return*/];
                }
            });
        });
    };
    DetailBuildAdminComponent.prototype.ngOnInit = function () { };
    DetailBuildAdminComponent.prototype.checkAdminRol = function (userType) {
        if (userType === 'maker') {
            return false;
        }
        else {
            return true;
        }
    };
    DetailBuildAdminComponent.prototype.getGoalById = function (id) {
        var _this = this;
        this.isLoad = false;
        this.buildService.getBuildById(id).subscribe(function (build) {
            var i = 0;
            for (var _i = 0, _a = build.timeLine; _i < _a.length; _i++) {
                var tl = _a[_i];
                if (tl.isComplete && tl.isComplete === true) {
                    if (i < build.timeLine.length - 1) {
                        i++;
                    }
                }
                else {
                    break;
                }
            }
            _this.numOfCurrentFase = i;
            _this.build = build;
            _this.getPercent(build.timeLine);
            _this.isLoad = true;
        });
    };
    DetailBuildAdminComponent.prototype.getPercent = function (timeLine) {
        var numOfComplete = 0;
        timeLine.forEach(function (tl) {
            if (tl.isComplete) {
                numOfComplete++;
            }
        });
        this.percent = (numOfComplete * 100) / timeLine.length;
    };
    DetailBuildAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 3000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    DetailBuildAdminComponent.prototype.changeGoal = function (e) {
        var _this = this;
        if (this.build.timeLine[this.numOfCurrentFase].imagesData.length > 0) {
            this.build.timeLine[this.numOfCurrentFase].imagesData.forEach(function (img) {
                _this.completePhase(img.url);
            });
            this.build.timeLine[this.numOfCurrentFase].imagesData = [];
        }
        this.buildService.putBuild(this.build).subscribe(function () {
            var m;
            _this.getPercent(_this.build.timeLine);
            if (_this.percent === 100) {
                _this.presentToast('Se ha completado una Obra');
                m = 'Se ha completado una Obra';
            }
            else {
                _this.presentToast('Se ha modificado una Fase');
                m = 'Se ha modificado una Fase';
            }
            _this.notification(m, "Actualizacion de " + _this.build.name, 'amarillo', 'build', undefined, _this.build.maker.map(function (maker) { return maker._id; }));
        });
        var i = 0;
        for (var _i = 0, _a = this.build.timeLine; _i < _a.length; _i++) {
            var tl = _a[_i];
            if (tl.isComplete && tl.isComplete === true) {
                if (i < this.build.timeLine.length - 1) {
                    i++;
                }
            }
            else {
                break;
            }
        }
        this.numOfCurrentFase = i;
    };
    DetailBuildAdminComponent.prototype.changeGrid = function (value) {
        this.isList = !this.isList;
    };
    DetailBuildAdminComponent.prototype.formatDates = function (year, month, day) {
        var date = new Date(year, month, day);
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_5__["FormatDatesFront"])(date);
    };
    DetailBuildAdminComponent.prototype.formatDates2 = function (date) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_5__["FormatDatesFront"])(date);
    };
    DetailBuildAdminComponent.prototype.formatHours = function (hours, minutes) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_5__["FormatHoursFront"])(hours, minutes);
    };
    DetailBuildAdminComponent.prototype.link = function (i) {
        this.numItem = i;
        var input = document.getElementById('imagen1').click();
    };
    // subir foto
    DetailBuildAdminComponent.prototype.fileChangeEvent = function (fileInput) {
        var _this = this;
        var imgToUpload = fileInput.target.files[0];
        /*  if (imgToUpload.size > 200000) {
          this.presentAlertImg(
            'La imagen excede el límite de tamaño',
            'Imagen no válida',
          );
        } else {
          // img name
          this.imgName = imgToUpload.name.slice(0, imgToUpload.name.indexOf('.'));
          // preview
          const reader = new FileReader();
          reader.onload = r => {
            this.render(reader.result);
          };
          reader.readAsDataURL(imgToUpload);
        } */
        // img name
        this.imgName = imgToUpload.name.slice(0, imgToUpload.name.indexOf('.'));
        // preview
        var reader = new FileReader();
        reader.onload = function (r) {
            _this.render(reader.result);
        };
        reader.readAsDataURL(imgToUpload);
    };
    DetailBuildAdminComponent.prototype.saveForRecovery = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.storage
                .set('build-img', { idBuild: _this.build._id })
                .then(function (recover) {
                resolve();
            });
        });
    };
    // ionic camera
    DetailBuildAdminComponent.prototype.cameraIonic = function () {
        var _this = this;
        var options = {
            quality: 100,
            targetWidth: 600,
            targetHeight: 400,
            destinationType: this.camera.DestinationType.DATA_URL,
            encodingType: this.camera.EncodingType.JPEG,
            mediaType: this.camera.MediaType.PICTURE,
            correctOrientation: true,
        };
        this.saveForRecovery().then(function () {
            _this.camera.getPicture(options).then(function (imageData) {
                var base64Image = 'data:image/jpeg;base64,' + imageData;
                //  por si crash
                /*  this.storage.set('build-img', {
                  idBuild: this.build._id,
                  base64Image: base64Image,
                }); */
                _this.Test = base64Image;
                _this.Test2 = 'algo1';
                _this.render(base64Image);
                _this.imgName = String(Math.random()
                    .toString(36)
                    .substring(2, 15) +
                    Math.random()
                        .toString(36)
                        .substring(2, 15));
            }, function (err) {
                _this.Test2 = err.toString();
            });
        });
    };
    DetailBuildAdminComponent.prototype.render = function (src) {
        var _this = this;
        var MAX_HEIGHT = 400;
        var image = new Image();
        image.onload = function (r) {
            var canvas = document.createElement('canvas');
            if (image.height > MAX_HEIGHT && _this.isCordova === false) {
                image.width *= MAX_HEIGHT / image.height;
                image.height = MAX_HEIGHT;
            }
            var ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            canvas.width = image.width;
            canvas.height = image.height;
            ctx.drawImage(image, 0, 0, image.width, image.height);
            _this.Test2 = 'Render';
            canvas.toBlob(function (c) {
                if (c.size > 200000) {
                    _this.presentAlertImg('La imagen excede el límite de tamaño', 'Imagen no válida');
                }
                else {
                    _this.imgToUpload.push({
                        numPhase: _this.numItem,
                        srcPrev: src,
                        name: _this.imgName,
                        srcBlob: c,
                    });
                }
                // tipo, calidad
            }, 'image/jpeg', 0.75);
        };
        image.src = src;
    };
    /**
     * Subir imagen Confirmado
     * @param imgToUp imagen subir
     * @param index index del prev
     * @param notes notas
     */
    DetailBuildAdminComponent.prototype.uploadImg = function (imgToUp, index, notes) {
        return __awaiter(this, void 0, void 0, function () {
            var load_1, load, file, formData, arrStr;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.isCordova) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.presentLoadingWithOptions('Subiendo Foto...')];
                    case 1:
                        load_1 = _a.sent();
                        load_1.present();
                        this.buildService.getBuildById(this.build._id).subscribe(function (build) {
                            build.timeLine[_this.numOfCurrentFase].imagesData.push({
                                date: new Date(),
                                notes: notes,
                                url: "http://31.220.52.51:3004/" + _this.imgName + ".jpg",
                            });
                            _this.buildService.putBuild(build).subscribe(function (c) {
                                _this.Test2 = 'put';
                                var file = new File([imgToUp.srcBlob], imgToUp.name + '.jpg', {
                                    type: imgToUp.srcBlob.type,
                                    lastModified: new Date().getTime(),
                                });
                                // construir form
                                var formData = new FormData();
                                formData.append('imagen1', file);
                                // subir al server
                                // espera respuesta
                                _this.buildService.uploadImg(formData).subscribe();
                                _this.build.timeLine[_this.numOfCurrentFase].imagesData.push({
                                    date: new Date(),
                                    notes: notes,
                                    url: "http://31.220.52.51:3004/" + _this.imgName + ".jpg",
                                });
                                _this.Test2 = _this.imgName;
                                // noti
                                if (_this.user.type === 'maker') {
                                    _this.notification('Nueva Foto', "El constructor " + _this.user.name + " ha subido una foto de la construcci\u00F3n " + _this.build.name, 'amarillo', 'build', ['office'], _this.build.maker.map(function (m) { return m._id; }));
                                }
                                else {
                                    _this.notification('Nueva Foto', "Se ha subido una foto de la construcci\u00F3n " + _this.build.name, 'amarillo', 'build', undefined, _this.build.maker.map(function (m) { return m._id; }));
                                }
                                // elimina del  arr prev
                                _this.imgToUpload.splice(index, 1);
                                load_1.dismiss();
                            });
                        });
                        return [3 /*break*/, 5];
                    case 2: return [4 /*yield*/, this.presentLoadingWithOptions('Subiendo Foto...')];
                    case 3:
                        load = _a.sent();
                        load.present();
                        file = new File([imgToUp.srcBlob], imgToUp.name + '.jpg', {
                            type: imgToUp.srcBlob.type,
                            lastModified: new Date().getTime(),
                        });
                        formData = new FormData();
                        formData.append('imagen1', file);
                        return [4 /*yield*/, this.buildService.uploadImg(formData).toPromise()];
                    case 4:
                        arrStr = _a.sent();
                        if (arrStr.length > 0) {
                            this.putBuild(imgToUp, notes, index);
                            load.dismiss();
                            this.presentToast('Imagen Subida');
                        }
                        _a.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    DetailBuildAdminComponent.prototype.putBuild = function (imgToUp, notes, index) {
        var _this = this;
        this.build.timeLine[imgToUp.numPhase].imagesData.push({
            date: new Date(),
            notes: notes,
            url: _config_api_end_points__WEBPACK_IMPORTED_MODULE_6__["END_POINT"].IP + imgToUp.name + '.jpg',
        });
        this.Test2 = _config_api_end_points__WEBPACK_IMPORTED_MODULE_6__["END_POINT"].IP + imgToUp.name + '.jpg';
        // put al build
        this.buildService.putBuild(this.build).subscribe(function (res) {
            if (res) {
                // elimina del  arr prev
                _this.imgToUpload.splice(index, 1);
            }
            // noti
            if (_this.user.type === 'maker') {
                _this.notification('Nueva Foto', "El constructor " + _this.user.name + " ha subido una foto de la construcci\u00F3n " + _this.build.name, 'amarillo', 'build', ['office'], _this.build.maker.map(function (m) { return m._id; }));
            }
            else {
                _this.notification('Nueva Foto', "Se ha subido una foto de la construcci\u00F3n " + _this.build.name, 'amarillo', 'build', undefined, _this.build.maker.map(function (m) { return m._id; }));
            }
        });
    };
    DetailBuildAdminComponent.prototype.discartImg = function (index) {
        this.imgToUpload.splice(index, 1);
    };
    DetailBuildAdminComponent.prototype.deletedImg = function (imgURL, phase, index) {
        var _this = this;
        var imgName = imgURL.slice(imgURL.lastIndexOf('/') + 1, imgURL.length);
        this.buildService.deletedImg(imgName).subscribe(function () {
            _this.build.timeLine[phase].imagesData.splice(index, 1);
            _this.buildService.putBuild(_this.build).subscribe(function () {
                _this.presentToast('Imagen Borrada');
            });
        });
    };
    DetailBuildAdminComponent.prototype.completePhase = function (imgURL) {
        var imgName = imgURL.slice(imgURL.lastIndexOf('/') + 1, imgURL.length);
        this.buildService.deletedImg(imgName).subscribe(function () { });
    };
    DetailBuildAdminComponent.prototype.presentAlertConfirm = function (url, phase, index) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Imagen',
                            message: "\u00BFDesea eliminar imagen?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    },
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    },
                                },
                            ],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deletedImg(url, phase, index);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    DetailBuildAdminComponent.prototype.presentAlertImg = function (message, header) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: header,
                            message: message,
                            buttons: [
                                {
                                    text: 'Ok',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    },
                                },
                            ],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    DetailBuildAdminComponent.prototype.presentLoadingWithOptions = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var loading;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create({
                            message: message,
                            translucent: true,
                        })];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    DetailBuildAdminComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userSessionService.userSession.value.id,
            status: status,
            type: type,
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, tags, receiversId)
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    DetailBuildAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-detail-build-admin',
            template: __webpack_require__(/*! ./detail-build-admin.component.html */ "./src/app/components/admin/detail-build-admin/detail-build-admin.component.html"),
            styles: [__webpack_require__(/*! ./detail-build-admin.component.scss */ "./src/app/components/admin/detail-build-admin/detail-build-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _services_build_service__WEBPACK_IMPORTED_MODULE_1__["BuildService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__["UserSessionService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__["OnesignalService"],
            _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_8__["Camera"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_9__["Storage"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["LoadingController"],
            _services_maker_service__WEBPACK_IMPORTED_MODULE_10__["MakerService"]])
    ], DetailBuildAdminComponent);
    return DetailBuildAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/detail-buyer-admin/detail-buyer-admin.component.html":
/*!***************************************************************************************!*\
  !*** ./src/app/components/admin/detail-buyer-admin/detail-buyer-admin.component.html ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button style=\"color: white !important\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>\n      Detalles\n    </ion-title>\n  </ion-toolbar> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Movimientos Clientes'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n\n<ion-content padding>\n  <ion-grid fixed>\n    <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n    <ng-template #thenTemplate>\n      <h1> Detalles de Consumidor </h1>\n\n      <ion-card>\n\n\n        <ion-card-header>\n          <ion-card-subtitle> {{buyer.name}} {{buyer.fatherLastName}} </ion-card-subtitle>\n          <ion-card-subtitle> Edad {{buyer.years}} </ion-card-subtitle>\n          <ion-card-title> {{buyer.name}} </ion-card-title>\n        </ion-card-header>\n        <!-- Principales -->\n        <ion-grid>\n          <ion-row>\n            <ion-col>\n              <!-- Renta/venta -->\n              <ion-chip *ngIf=\"buyer.isRenter\" style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"cart\"></ion-chip-icon>\n                <ion-label>Renta</ion-label>\n              </ion-chip>\n              <ion-chip *ngIf=\"!buyer.isRenter\" style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"cart\"></ion-chip-icon>\n                <ion-label>Venta</ion-label>\n              </ion-chip>\n            </ion-col>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"expand\"></ion-chip-icon>\n                <ion-label><b>{{buyer.space}}</b> Espacio </ion-label>\n              </ion-chip>\n            </ion-col>\n          </ion-row>\n          <ion-row>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"calendar\"></ion-chip-icon>\n                <ion-label>Fecha <b>{{buyer.dateToBuy}}</b></ion-label>\n              </ion-chip>\n            </ion-col>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"water\"></ion-chip-icon>\n                <ion-label><b>{{buyer.numBathrooms}}</b> Baños </ion-label>\n              </ion-chip>\n            </ion-col>\n          </ion-row>\n          <ion-row>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"cash\"></ion-chip-icon>\n                <ion-label>Max <b>${{buyer.maxPrice}}</b></ion-label>\n              </ion-chip>\n            </ion-col>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"cash\"></ion-chip-icon>\n                <ion-label>Min <b> ${{buyer.minPrice}}</b></ion-label>\n              </ion-chip>\n            </ion-col>\n          </ion-row>\n          <ion-row>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"car\"></ion-chip-icon>\n                <ion-label><b>{{buyer.numCars}}</b> Estacionamiento </ion-label>\n              </ion-chip>\n            </ion-col>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"bed\"></ion-chip-icon>\n                <ion-label><b>{{buyer.numRooms}}</b> Cuartos </ion-label>\n              </ion-chip>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n        <!-- otros -->\n        <ion-card-subtitle style=\"margin-left: 8%;\">Otras</ion-card-subtitle>\n        <div class=\"container-details-buyer\">\n          <ion-item *ngIf=\"buyer.allServices\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Todos los servicios</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"!buyer.allServices\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Sin los servicios</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"buyer.hasElevator\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Elevador</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"!buyer.hasElevator\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Sin Elevador</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"buyer.hasGarden\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Jardin</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"!buyer.hasGarden\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Sin Jardin</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"buyer.isClose\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Fraccionamineto Cerrado</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"!buyer.isClose\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Sin Fraccionamineto Cerrado</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"!buyer.isOld\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Nuevo</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"buyer.isOld\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Usado</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"buyer.isLowLevel\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Planta Baja</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"!buyer.isLowLevel\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Cualquier num de piso</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"buyer.wayToBuy\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label text-wrap> Forma de Compra: {{buyer.wayToBuy}}</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"buyer.zone\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label text-wrap>Zona: {{buyer.zone}}</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"buyer.typeOfProperty\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label text-wrap>Tipo de Propiedad: {{buyer.typeOfProperty}}</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"buyer.email\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label text-wrap>Email: {{buyer.email}}</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"buyer.city\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label text-wrap>Ciudad: {{buyer.city}}</ion-label>\n          </ion-item>\n        </div>\n\n        <!-- tag -->\n        <ion-card-subtitle style=\"margin-left: 8%;\">Etiquetas</ion-card-subtitle>\n        <div class=\"container-details-buyer\">\n          <div *ngFor=\"let tag of buyer.tag\">\n            # {{tag }}\n          </div>\n        </div>\n\n\n      </ion-card>\n      <h1 *ngIf=\"buyer.statusBuyerProperty && buyer.statusBuyerProperty.length > 0\"> Propiedades que le interesan </h1>\n      <ion-card *ngFor=\"let sbp  of buyer.statusBuyerProperty \" [ngClass]=\"{'state-verde': sbp.status === 'verde', \n        'state-amarillo': sbp.status === 'amarillo',\n        'state-rojo': sbp.status === 'rojo',\n        'state-azul': sbp.status === 'azul' }\">\n        <ion-card-header>\n          <ion-card-subtitle>Fecha {{formatDates(sbp.timestamp)}}</ion-card-subtitle>\n          <ion-card-title>{{sbp.property.name}}</ion-card-title>\n        </ion-card-header>\n      </ion-card>\n      <!-- citas -->\n      <h1 *ngIf=\"buyer.schedule && buyer.schedule.length > 0\"> Citas </h1>\n      <ion-card *ngFor=\"let schedule  of buyer.schedule \" [ngClass]=\"{'state-verde': schedule.status === 'verde', \n        'state-amarillo': schedule.status === 'amarillo',\n        'state-rojo': schedule.status === 'rojo',\n        'state-azul': schedule.status === 'azul' }\">\n        <ion-item>\n          <ion-label>Propiedad {{schedule.property.name}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label>Fecha {{schedule.day}}/{{schedule.month + 1}}/{{schedule.year}}</ion-label>\n        </ion-item>\n        <ion-item text-wrap>Hora: {{formatHours(schedule.hour, schedule.minute)}}</ion-item>\n        <ion-item>\n          <ion-label>Lugar {{schedule.address}}</ion-label>\n        </ion-item>\n      </ion-card>\n      <!-- Ofertas -->\n      <h1 *ngIf=\"buyer.ofert && buyer.ofert.length > 0\"> Ofertas </h1>\n      <ion-card *ngFor=\"let ofert  of buyer.ofert \" [ngClass]=\"{'state-verde': ofert.status === 'verde', \n         'state-amarillo': ofert.status === 'amarillo',\n         'state-rojo': ofert.status === 'rojo',\n         'state-azul': ofert.status === 'azul' }\">\n        <ion-item>\n          <ion-label>Propiedad {{ofert.property.name}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label>Fecha {{formatDates(ofert.timestamp)}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label>Precio {{ofert.ofertPrice}}</ion-label>\n        </ion-item>\n        <ion-card-content>\n          Notas {{ofert.notes}}\n        </ion-card-content>\n      </ion-card>\n      <!-- credito -->\n      <h1 *ngIf=\"credits && credits.length > 0\"> Crédito </h1>\n      <ion-card *ngFor=\"let credit  of credits \" [ngClass]=\"{'state-verde': credit.status === 'verde', \n          'state-amarillo': credit.status === 'amarillo',\n          'state-rojo': credit.status === 'rojo',\n          'state-azul': credit.status === 'azul',\n            'state-secondary': !credit.status }\">\n        <ion-item>\n          <ion-label>Propiedad {{credit.property.name}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label>Fecha {{formatDates(credit.timestamp)}}</ion-label>\n        </ion-item>\n        <ion-card-content>\n          Notas {{credit.notes}}\n        </ion-card-content>\n      </ion-card>\n\n\n    </ng-template>\n    <ng-template #elseTemplate style=\"text-align: center\">\n      <ion-spinner name=\"bubbles\"></ion-spinner>\n\n    </ng-template>\n  </ion-grid>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/admin/detail-buyer-admin/detail-buyer-admin.component.scss":
/*!***************************************************************************************!*\
  !*** ./src/app/components/admin/detail-buyer-admin/detail-buyer-admin.component.scss ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".container-details-buyer {\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0% 10% 3% 10%; }\n"

/***/ }),

/***/ "./src/app/components/admin/detail-buyer-admin/detail-buyer-admin.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/detail-buyer-admin/detail-buyer-admin.component.ts ***!
  \*************************************************************************************/
/*! exports provided: DetailBuyerAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetailBuyerAdminComponent", function() { return DetailBuyerAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/status-buyer-property.service */ "./src/app/services/status-buyer-property.service.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var DetailBuyerAdminComponent = /** @class */ (function () {
    function DetailBuyerAdminComponent(route, buyerService, userSessionService, toastController, statusBPService) {
        var _this = this;
        this.route = route;
        this.buyerService = buyerService;
        this.userSessionService = userSessionService;
        this.toastController = toastController;
        this.statusBPService = statusBPService;
        this.isLoad = false;
        this.isLiked = false;
        this.arrPropLikes = [];
        this.arrSBP = [];
        this.credits = [];
        this.route.queryParams.subscribe(function (params) {
            console.log(params.id);
            if (params.id) {
                _this.getBuyerById(params.id);
            }
        });
    }
    DetailBuyerAdminComponent.prototype.ngOnInit = function () { };
    DetailBuyerAdminComponent.prototype.getBuyerById = function (id) {
        var _this = this;
        this.isLoad = false;
        this.buyerService.getBuyerById(id).subscribe(function (b) {
            _this.buyer = b;
            _this.credits = b.credit;
            console.log(_this.buyer);
            if (b.statusBuyerProperty && b.statusBuyerProperty.length > 0) {
                _this.arrSBP = b.statusBuyerProperty.map(function (buyerProperty) { return buyerProperty._id; });
                _this.arrPropLikes = b.statusBuyerProperty.map(function (buyerProperty) { return buyerProperty.property._id; });
                console.log(_this.arrSBP);
            }
            _this.isLoad = true;
        });
    };
    DetailBuyerAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 3000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    DetailBuyerAdminComponent.prototype.formatDates = function (dateInput) {
        var day = new Date(dateInput).getDate().toString();
        var month = (new Date(dateInput).getMonth() + 1).toString();
        var year = new Date(dateInput).getFullYear().toString();
        var date = day + '/' + month + '/' + year;
        return date;
    };
    DetailBuyerAdminComponent.prototype.formatHours = function (hours, minutes) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_6__["FormatHoursFront"])(hours, minutes);
    };
    DetailBuyerAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-detail-buyer-admin',
            template: __webpack_require__(/*! ./detail-buyer-admin.component.html */ "./src/app/components/admin/detail-buyer-admin/detail-buyer-admin.component.html"),
            styles: [__webpack_require__(/*! ./detail-buyer-admin.component.scss */ "./src/app/components/admin/detail-buyer-admin/detail-buyer-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _services_buyer_service__WEBPACK_IMPORTED_MODULE_2__["BuyerService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__["UserSessionService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ToastController"],
            _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_5__["StatusBuyerPropertyService"]])
    ], DetailBuyerAdminComponent);
    return DetailBuyerAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/detail-goal-admin/detail-goal-admin.component.html":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/detail-goal-admin/detail-goal-admin.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Objetivo\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Objetivo'\" [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n    <ng-container *ngIf=\"isLoad; then Load; else NoLoad\"></ng-container>\n    <ng-template #Load>\n      <h1>Detalles de: {{goal.title}}</h1>\n      <ion-row>\n        <ion-col size-md=\"6\" size-lg=\"6\" size-xl=\"6\">\n          <ion-card [ngClass]=\"{'desktop-card': isDesktop }\">\n            <!-- [ngClass]=\"{'desktop-card': isDesktop }\" -->\n            <ion-card-header>\n              <ion-card-title>\n                Progreso\n              </ion-card-title>\n              <ion-card-content>\n                <app-goal-progress subtitle=\"Progreso\" [percent]=\"percent\"></app-goal-progress>\n                <ion-list lines=\"none\">\n                  <ion-list-header>Asesores del Objetivo</ion-list-header>\n                  <ion-item lines=\"none\" *ngFor=\"let adv of goal.adviser\">\n                    {{adv.name}} {{adv.lastName}}\n                  </ion-item>\n                </ion-list>\n              </ion-card-content>\n            </ion-card-header>\n          </ion-card>\n        </ion-col>\n        <ion-col size-md=\"6\" size-lg=\"6\" size-xl=\"6\">\n          <ion-card [ngClass]=\"{'desktop-card': isDesktop }\">\n            <ion-card-header>\n              <ion-card-title text-wrap>\n                {{titleCard}}\n              </ion-card-title>\n\n            </ion-card-header>\n            <div *ngIf=\"goal.typeOfGoal === 'goals'\" class=\"flex-container\">\n              <mat-checkbox [disabled]=\"user.type === 'adviser' && goal.isByManagement\" (change)=\"changeGoal($event)\"\n                *ngFor=\"let item of goal.goals; let i=index\" [(ngModel)]=\"goal.goals[i].isComplete\">{{item.nameGoal}}</mat-checkbox>\n            </div>\n            <ion-list *ngIf=\"goal.typeOfGoal === 'goals'\" style=\"padding: 5%;\" lines=\"none\">\n              <ion-list-header>Otros Datos</ion-list-header>\n              <ion-item lines=\"none\">\n                <ion-label>\n                  <p><b>Contenido</b></p>\n                  <p>{{goal.content}}</p>\n                </ion-label>\n              </ion-item>\n              <ion-item lines=\"none\">\n                <ion-label>\n                  <p><b>Estatus</b></p>\n                  <p *ngIf=\"goal.status === 'verde'\">Bajo</p>\n                  <p *ngIf=\"goal.status === 'gris'\">Inicial</p>\n                  <p *ngIf=\"goal.status === 'amarillo'\">Medio</p>\n                  <p *ngIf=\"goal.status === 'rojo'\">Urgente</p>\n                </ion-label>\n              </ion-item>\n              <ion-item lines=\"none\">\n                <ion-label>\n                  <p><b>Fecha Inicio</b></p>\n                  <p>{{formatDates(goal.timestamp)}}</p>\n                </ion-label>\n              </ion-item>\n              <ion-item lines=\"none\">\n                <ion-label>\n                  <p><b>Fecha Fin</b></p>\n                  <p>{{fortmatDate2(goal.year, goal.month, goal.day)}}</p>\n                </ion-label>\n              </ion-item>\n\n            </ion-list>\n\n            <div class=\"goals-number\" *ngIf=\"goal.typeOfGoal !== 'goals' && isMoney\">\n              <h4>Total a Cumplir </h4>\n              <ion-chip class=\"chips-detail\" color=\"secondary\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"cash\"></ion-chip-icon>\n                <ion-label>${{goal.quantitative}}</ion-label>\n              </ion-chip>\n              <h4>Total Cumplido </h4>\n              <ion-chip class=\"chips-detail\" color=\"dark\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"cash\"></ion-chip-icon>\n                <ion-label>${{totalCurrent}}</ion-label>\n              </ion-chip>\n              <h4>Fecha de Inicio </h4>\n              <ion-chip class=\"chips-detail\" color=\"medium\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"calendar\"></ion-chip-icon>\n                <ion-label>{{formatDates(goal.timestamp)}}</ion-label>\n              </ion-chip>\n              <h4>Fecha de Fin </h4>\n              <ion-chip class=\"chips-detail\" color=\"medium\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"calendar\"></ion-chip-icon>\n                <ion-label>{{fortmatDate2(goal.year, goal.month, goal.day)}}</ion-label>\n              </ion-chip>\n\n            </div>\n\n            <div class=\"goals-number\" *ngIf=\"goal.typeOfGoal !== 'goals' && !isMoney\">\n\n              <h4>Total a Cumplir </h4>\n              <ion-chip class=\"chips-detail\" color=\"secondary\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"checkmark-circle\"></ion-chip-icon>\n                <ion-label>{{goal.quantitative}} ventas</ion-label>\n              </ion-chip>\n              <h4>Total Cumplido </h4>\n              <ion-chip class=\"chips-detail\" color=\"dark\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"clipboard\"></ion-chip-icon>\n                <ion-label>{{totalCurrent}} ventas</ion-label>\n              </ion-chip>\n              <h4>Fecha de Inicio </h4>\n              <ion-chip class=\"chips-detail\" color=\"medium\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"calendar\"></ion-chip-icon>\n                <ion-label>{{formatDates(goal.timestamp)}}</ion-label>\n              </ion-chip>\n              <h4>Fecha de Fin </h4>\n              <ion-chip class=\"chips-detail\" color=\"medium\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"calendar\"></ion-chip-icon>\n                <ion-label>{{fortmatDate2(goal.year, goal.month, goal.day)}}</ion-label>\n              </ion-chip>\n            </div>\n\n\n          </ion-card>\n        </ion-col>\n      </ion-row>\n    </ng-template>\n    <ng-template #NoLoad>\n      <app-general-skeleton></app-general-skeleton>\n    </ng-template>\n  </ion-grid>\n</ion-content>"

/***/ }),

/***/ "./src/app/components/admin/detail-goal-admin/detail-goal-admin.component.scss":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/detail-goal-admin/detail-goal-admin.component.scss ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%;\n  margin: 5%; }\n\n.desktop-card {\n  height: 100% !important; }\n\n.goals-number {\n  margin-left: 10%; }\n\n.chips-detail {\n  font-size: 1.3em; }\n\n.icon-chip-detail {\n  border-radius: 50%;\n  background-color: black;\n  color: white; }\n"

/***/ }),

/***/ "./src/app/components/admin/detail-goal-admin/detail-goal-admin.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/detail-goal-admin/detail-goal-admin.component.ts ***!
  \***********************************************************************************/
/*! exports provided: DetailGoalAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetailGoalAdminComponent", function() { return DetailGoalAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_goal_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/goal.service */ "./src/app/services/goal.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _services_sale_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/sale.service */ "./src/app/services/sale.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








var DetailGoalAdminComponent = /** @class */ (function () {
    function DetailGoalAdminComponent(route, goalService, userSessionService, toastController, platform, userSession, oneSignalService, salesService) {
        var _this = this;
        this.route = route;
        this.goalService = goalService;
        this.userSessionService = userSessionService;
        this.toastController = toastController;
        this.platform = platform;
        this.userSession = userSession;
        this.oneSignalService = oneSignalService;
        this.salesService = salesService;
        this.percent = 1;
        this.isLoad = false;
        this.arrPropLikes = [];
        this.arrSBP = [];
        this.isDesktop = true;
        this.user = userSession.userSession.value;
        this.route.queryParams.subscribe(function (params) {
            if (params.id) {
                _this.getGoalById(params.id);
            }
        });
    }
    DetailGoalAdminComponent.prototype.ngOnInit = function () { };
    DetailGoalAdminComponent.prototype.getGoalById = function (id) {
        var _this = this;
        this.isLoad = false;
        this.goalService.getGoaltById(id).subscribe(function (goal) { return __awaiter(_this, void 0, void 0, function () {
            var sales, sales, total, sales, sales, total, sales, sales, total;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.goal = goal;
                        if (!(goal.typeOfGoal === 'goals')) return [3 /*break*/, 1];
                        this.getPercent(goal.goals);
                        this.titleCard = 'Lista de Objetivos';
                        return [3 /*break*/, 13];
                    case 1:
                        if (!(goal.typeOfGoal === 'rentTotal')) return [3 /*break*/, 3];
                        this.isMoney = false;
                        this.titleCard = 'Rentas Totales';
                        return [4 /*yield*/, this.getTotalSalesRent(goal)];
                    case 2:
                        sales = _a.sent();
                        //  conteo de ventas
                        this.totalCurrent = sales.length;
                        //  % de la meta
                        this.getPercentNotGoals(goal.quantitative, sales.length);
                        return [3 /*break*/, 13];
                    case 3:
                        if (!(goal.typeOfGoal === 'costOfRent')) return [3 /*break*/, 5];
                        this.isMoney = true;
                        // obtiene las ventas de los asesores
                        this.titleCard = 'Total Recaudado en Rentas';
                        return [4 /*yield*/, this.getTotalSalesRent(goal)];
                    case 4:
                        sales = _a.sent();
                        total = this.getSumOfNumber(sales.map(function (s) { return s.price; }));
                        this.totalCurrent = total;
                        // % de la meta
                        this.getPercentNotGoals(goal.quantitative, total);
                        return [3 /*break*/, 13];
                    case 5:
                        if (!(goal.typeOfGoal === 'salesTotal')) return [3 /*break*/, 7];
                        this.isMoney = false;
                        //  obtiene ventas asesores
                        this.titleCard = 'Total de Ventas';
                        return [4 /*yield*/, this.getTotalSalesNoRent(goal)];
                    case 6:
                        sales = _a.sent();
                        //  conteo de ventas
                        this.totalCurrent = sales.length;
                        //  % de la meta
                        this.getPercentNotGoals(goal.quantitative, sales.length);
                        return [3 /*break*/, 13];
                    case 7:
                        if (!(goal.typeOfGoal === 'costOfSales')) return [3 /*break*/, 9];
                        this.isMoney = true;
                        this.titleCard = 'Total Recaudado en Ventas';
                        return [4 /*yield*/, this.getTotalSalesNoRent(goal)];
                    case 8:
                        sales = _a.sent();
                        total = this.getSumOfNumber(sales.map(function (s) { return s.price; }));
                        this.totalCurrent = total;
                        // % de la meta
                        this.getPercentNotGoals(goal.quantitative, total);
                        return [3 /*break*/, 13];
                    case 9:
                        if (!(goal.typeOfGoal === 'rentSalesTotal')) return [3 /*break*/, 11];
                        this.isMoney = false;
                        this.titleCard = 'Total de Ventas y Rentas';
                        return [4 /*yield*/, this.getTotalSalesRentSale(goal)];
                    case 10:
                        sales = _a.sent();
                        //  conteo de ventas
                        this.totalCurrent = sales.length;
                        //  % de la meta
                        this.getPercentNotGoals(goal.quantitative, sales.length);
                        return [3 /*break*/, 13];
                    case 11:
                        if (!(goal.typeOfGoal === 'rentSalesCost')) return [3 /*break*/, 13];
                        this.isMoney = true;
                        this.titleCard = 'Total Recaudado en Ventas y Rentas';
                        return [4 /*yield*/, this.getTotalSalesRentSale(goal)];
                    case 12:
                        sales = _a.sent();
                        total = this.getSumOfNumber(sales.map(function (s) { return s.price; }));
                        this.totalCurrent = total;
                        // % de la meta
                        this.getPercentNotGoals(goal.quantitative, total);
                        _a.label = 13;
                    case 13:
                        this.isLoad = true;
                        return [2 /*return*/];
                }
            });
        }); });
    };
    DetailGoalAdminComponent.prototype.getTotalSalesRent = function (goal) {
        return __awaiter(this, void 0, void 0, function () {
            var sale, dateStart, dateEnd, salesFilter, _loop_1, _i, _a, adv;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.salesService.getSale().toPromise()];
                    case 1:
                        sale = _b.sent();
                        dateStart = new Date(goal.timestamp).getTime();
                        dateEnd = new Date(goal.year, goal.month, goal.day).getTime();
                        salesFilter = [];
                        _loop_1 = function (adv) {
                            sale
                                .filter(function (s) {
                                return s.adviser.some(function (a) { return a._id === adv._id; }) &&
                                    s.isRent &&
                                    (dateStart <= new Date(s.timestamp).getTime() &&
                                        dateEnd > new Date(s.timestamp).getTime());
                            })
                                .forEach(function (s) {
                                var isFinded = salesFilter.some(function (saleFilter) { return saleFilter._id === s._id; });
                                if (!isFinded) {
                                    salesFilter.push(s);
                                }
                            });
                        };
                        for (_i = 0, _a = goal.adviser; _i < _a.length; _i++) {
                            adv = _a[_i];
                            _loop_1(adv);
                        }
                        return [2 /*return*/, salesFilter];
                }
            });
        });
    };
    DetailGoalAdminComponent.prototype.getTotalSalesRentSale = function (goal) {
        return __awaiter(this, void 0, void 0, function () {
            var sale, dateStart, dateEnd, salesFilter, _loop_2, _i, _a, adv;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.salesService.getSale().toPromise()];
                    case 1:
                        sale = _b.sent();
                        dateStart = new Date(goal.timestamp).getTime();
                        dateEnd = new Date(goal.year, goal.month, goal.day).getTime();
                        salesFilter = [];
                        _loop_2 = function (adv) {
                            sale.filter(function (s) { return s.adviser.some(function (a) { return a._id === adv._id; }); }).forEach(function (s) {
                                var isFinded = salesFilter.some(function (saleFilter) {
                                    return saleFilter._id === s._id &&
                                        (dateStart <= new Date(s.timestamp).getTime() &&
                                            dateEnd > new Date(s.timestamp).getTime());
                                });
                                if (!isFinded) {
                                    salesFilter.push(s);
                                }
                            });
                        };
                        for (_i = 0, _a = goal.adviser; _i < _a.length; _i++) {
                            adv = _a[_i];
                            _loop_2(adv);
                        }
                        return [2 /*return*/, salesFilter];
                }
            });
        });
    };
    DetailGoalAdminComponent.prototype.getTotalSalesNoRent = function (goal) {
        return __awaiter(this, void 0, void 0, function () {
            var sale, dateStart, dateEnd, salesFilter, _loop_3, _i, _a, adv;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.salesService.getSale().toPromise()];
                    case 1:
                        sale = _b.sent();
                        console.log(sale);
                        console.log(new Date('2018-10-16T17:42:09.777Z'));
                        dateStart = new Date(goal.timestamp).getTime();
                        dateEnd = new Date(goal.year, goal.month, goal.day).getTime();
                        salesFilter = [];
                        _loop_3 = function (adv) {
                            sale
                                .filter(function (s) {
                                return s.adviser.some(function (a) { return a._id === adv._id; }) &&
                                    s.isRent === false &&
                                    (dateStart <= new Date(s.timestamp).getTime() &&
                                        dateEnd > new Date(s.timestamp).getTime());
                            })
                                .forEach(function (s) {
                                var isFinded = salesFilter.some(function (saleFilter) { return saleFilter._id === s._id; });
                                if (!isFinded) {
                                    salesFilter.push(s);
                                }
                            });
                        };
                        for (_i = 0, _a = goal.adviser; _i < _a.length; _i++) {
                            adv = _a[_i];
                            _loop_3(adv);
                        }
                        return [2 /*return*/, salesFilter];
                }
            });
        });
    };
    DetailGoalAdminComponent.prototype.getSumOfNumber = function (arrNum) {
        var sum = 0;
        for (var _i = 0, arrNum_1 = arrNum; _i < arrNum_1.length; _i++) {
            var num = arrNum_1[_i];
            sum = sum + num;
        }
        return sum;
    };
    DetailGoalAdminComponent.prototype.getPercent = function (goals) {
        var numOfComplete = 0;
        goals.forEach(function (goal) {
            if (goal.isComplete) {
                numOfComplete++;
            }
        });
        this.percent = (numOfComplete * 100) / goals.length;
    };
    DetailGoalAdminComponent.prototype.getPercentNotGoals = function (finalNumber, currentNumber) {
        this.percent = (currentNumber * 100) / finalNumber;
    };
    DetailGoalAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 3000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    DetailGoalAdminComponent.prototype.changeGoal = function (e) {
        var _this = this;
        this.goal.isComplete = false;
        this.goalService.putGoal(this.goal).subscribe(function () {
            _this.getPercent(_this.goal.goals);
            if (_this.percent === 100) {
                _this.goal.isComplete = true;
                _this.goalService.putGoal(_this.goal).subscribe(function () {
                    _this.presentToast('Se ha completado un objetivo');
                });
                if (_this.user.type !== 'adviser') {
                    _this.notification('Meta lograda', "Se ha completado la meta: \"" + _this.goal.title + "\"", 'azul', 'celebrate', undefined, _this.goal.adviser.map(function (a) { return a._id; }));
                }
            }
            else {
                if (_this.user.type !== 'adviser' && e.checked) {
                    _this.notification('Objetivo Cumplido', "Se ha completado una meta de el objetivo: \"" + _this.goal.title + "\"", 'rojo', 'celebrate', undefined, _this.goal.adviser.map(function (a) { return a._id; }));
                }
            }
            _this.presentToast('Se ha modificado una meta');
        });
    };
    DetailGoalAdminComponent.prototype.formatDates = function (dateInput) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_5__["FormatDatesFront"])(dateInput);
    };
    DetailGoalAdminComponent.prototype.formatHours = function (hours, minutes) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_5__["FormatHoursFront"])(hours, minutes);
    };
    DetailGoalAdminComponent.prototype.fortmatDate2 = function (year, montn, day) {
        var date = new Date(year, montn, day);
        return this.formatDates(date);
    };
    // noti
    DetailGoalAdminComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userSession.userSession.value.id,
            status: status,
            type: type,
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, tags, receiversId)
            .subscribe(function (c) {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    DetailGoalAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-detail-goal-admin',
            template: __webpack_require__(/*! ./detail-goal-admin.component.html */ "./src/app/components/admin/detail-goal-admin/detail-goal-admin.component.html"),
            styles: [__webpack_require__(/*! ./detail-goal-admin.component.scss */ "./src/app/components/admin/detail-goal-admin/detail-goal-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _services_goal_service__WEBPACK_IMPORTED_MODULE_1__["GoalService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__["UserSessionService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__["UserSessionService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_6__["OnesignalService"],
            _services_sale_service__WEBPACK_IMPORTED_MODULE_7__["SaleService"]])
    ], DetailGoalAdminComponent);
    return DetailGoalAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/detail-pre-build/detail-pre-build.component.html":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/detail-pre-build/detail-pre-build.component.html ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"start\">\n        <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n      </ion-buttons>\n      <ion-title>\n        Objetivo\n      </ion-title>\n\n    </ion-toolbar>\n  </ion-header>\n-->\n<ion-header>\n  <app-menu-general\n    [isMenuButton]=\"'back'\"\n    [colorMenuButton]=\"'white'\"\n    [titleMenu]=\"'Preventa'\"\n    [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"\n  ></app-menu-general>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n    <ng-container *ngIf=\"isLoad; then: Load; else: NoLoad\"></ng-container>\n    <ng-template #Load>\n      <h1>Detalles de: {{ preBuild.name }}</h1>\n      <ion-row>\n        <ion-col size-md=\"6\" size-lg=\"6\" size-xl=\"6\">\n          <ion-card [ngClass]=\"{ 'desktop-card': isDesktop }\">\n            <!-- [ngClass]=\"{'desktop-card': isDesktop }\" -->\n            <ion-card-header>\n              <ion-card-title> Progreso </ion-card-title>\n              <ion-card-content>\n                <app-goal-progress\n                  subtitle=\"Progreso\"\n                  [percent]=\"percent\"\n                  [outerStrokeColor]=\"'#0091ea'\"\n                ></app-goal-progress>\n                <ion-list lines=\"none\">\n                  <ion-list-header>Constructores de la Obra</ion-list-header>\n                  <ion-item lines=\"none\" *ngFor=\"let adv of preBuild.preBuyer\">\n                    {{ adv.name }} {{ adv.lastName }}\n                  </ion-item>\n                </ion-list>\n              </ion-card-content>\n            </ion-card-header>\n          </ion-card>\n        </ion-col>\n        <ion-col size-md=\"6\" size-lg=\"6\" size-xl=\"6\">\n          <ion-card [ngClass]=\"{ 'desktop-card': isDesktop }\">\n            <ion-card-header>\n              <ion-card-title> Lista de Fases </ion-card-title>\n              <ion-card-subtitle *ngIf=\"checkAdminRol(user.type)\"\n                >Seleccione una fase para completar</ion-card-subtitle\n              >\n            </ion-card-header>\n            <div *ngIf=\"checkAdminRol(user.type)\" class=\"flex-container\">\n              <mat-checkbox\n                (change)=\"changeStatus($event.checked)\"\n                *ngFor=\"let item of preBuild.timeLine; let i = index\"\n                [(ngModel)]=\"item.isComplete\"\n              >\n                <h3>{{ item.namePhase }}</h3>\n                <div>{{ item.notes }}</div>\n                <div>\n                  Inicio:\n                  {{\n                    formatDates(\n                      item.yearToStart,\n                      item.monthToStart,\n                      item.dayToStart\n                    )\n                  }}\n                </div>\n                <div>\n                  Fin:\n                  {{\n                    formatDates(item.yearToEnd, item.monthToEnd, item.dayToEnd)\n                  }}\n                </div>\n              </mat-checkbox>\n            </div>\n            <span *ngIf=\"!checkAdminRol(user.type)\">\n              <mat-list *ngFor=\"let item of preBuild.timeLine; let i = index\">\n                <h3 matSubheader>\n                  <b> {{ item.namePhase }} </b>\n                </h3>\n                <mat-list-item>\n                  <mat-icon\n                    [ngClass]=\"{\n                      'color-complete': item.isComplete,\n                      'color-incomplete': !item.isComplete\n                    }\"\n                    matListIcon\n                    >{{\n                      item.isComplete\n                        ? 'assignment_turned_in'\n                        : 'assignment_late'\n                    }}</mat-icon\n                  >\n                  <h4 matLine>\n                    <b>\n                      {{ item.isComplete ? 'Completada' : 'Sin Completar' }}\n                    </b>\n                  </h4>\n                  <p matLine>\n                    Inicio:\n                    {{\n                      formatDates(\n                        item.yearToStart,\n                        item.monthToStart,\n                        item.dayToStart\n                      )\n                    }}\n                  </p>\n                  <p matLine>\n                    Fin:\n                    {{\n                      formatDates(\n                        item.yearToEnd,\n                        item.monthToEnd,\n                        item.dayToEnd\n                      )\n                    }}\n                  </p>\n                  <p matLine>{{ item.notes }}</p>\n                </mat-list-item>\n              </mat-list>\n            </span>\n          </ion-card>\n        </ion-col>\n      </ion-row>\n      <!-- Options grid -->\n      <div *ngIf=\"checkAdminRol(user.type)\" class=\"conteiner-buttons\">\n        <p style=\"text-align: left;\">Fotos de Fase</p>\n        <mat-button-toggle-group (change)=\"changeGrid($event)\">\n          <mat-button-toggle [checked]=\"!isList\" value=\"column\">\n            <mat-icon color=\"accent\">view_column</mat-icon>\n          </mat-button-toggle>\n          <mat-button-toggle [checked]=\"isList\" color=\"primary\" value=\"list\">\n            <mat-icon color=\"accent\">view_list</mat-icon>\n          </mat-button-toggle>\n        </mat-button-toggle-group>\n      </div>\n      <ng-container *ngIf=\"isList; then: List; else: Column\"></ng-container>\n      <ng-template #List>\n        <!-- Contenedor List -->\n        <ion-list style=\"margin-top: 1%\">\n          <ion-list-header> {{ getCurrentPhaseName() }} </ion-list-header>\n          <!-- img ya cargadas -->\n          <ion-item *ngFor=\"let img of preBuild.imgUrls\">\n            <ion-thumbnail slot=\"start\">\n              <ion-img [src]=\"img\"></ion-img>\n            </ion-thumbnail>\n            <ion-label text-wrap>\n              <h3>{{ getCurrentPhaseData().namePhase }}</h3>\n              <p><b>Notas: </b>{{ getCurrentPhaseData().notes }}</p>\n            </ion-label>\n            <ion-button\n              (click)=\"presentAlertConfirm(img)\"\n              shape=\"round\"\n              fill=\"outline\"\n              color=\"danger\"\n            >\n              <ion-icon slot=\"start\" name=\"trash\"></ion-icon>\n              Borrar\n            </ion-button>\n          </ion-item>\n          <!-- /img ya cargadas -->\n          <!-- img antes de subir -->\n          <span *ngFor=\"let prev of imgToUpload; let ii = index\">\n            <ion-item>\n              <ion-thumbnail slot=\"start\">\n                <ion-img [src]=\"prev.srcPrev\"></ion-img>\n              </ion-thumbnail>\n              <span>\n                <ion-label>\n                  <h3>Subir Foto</h3>\n                  <p></p>\n                </ion-label>\n                <!--\n                  <ion-input\n                    [(ngModel)]=\"prev.notes\"\n                    placeholder=\"Escribe algo referente\"\n                  ></ion-input>\n                -->\n                <ion-button\n                  shape=\"round\"\n                  fill=\"outline\"\n                  (click)=\"uploadImg(prev)\"\n                  color=\"success\"\n                >\n                  <ion-icon slot=\"start\" name=\"checkmark-circle\"></ion-icon>\n                  Subir\n                </ion-button>\n                <ion-button\n                  (click)=\"discartImg(ii)\"\n                  shape=\"round\"\n                  fill=\"outline\"\n                  color=\"danger\"\n                >\n                  <ion-icon slot=\"start\" name=\"trash\"></ion-icon>\n                  Descartar\n                </ion-button>\n              </span>\n            </ion-item>\n          </span>\n          <!-- /img antes de subir -->\n          <!-- boton para subir file -->\n          <input\n            id=\"imagen1\"\n            accept=\"image/*\"\n            name=\"imagen1\"\n            type=\"file\"\n            hidden\n            (change)=\"fileChangeEvent($event)\"\n          />\n          <ion-button\n            (click)=\"link()\"\n            shape=\"round\"\n            fill=\"outline\"\n            color=\"secondary\"\n          >\n            <ion-icon slot=\"start\" name=\"add\"></ion-icon>\n            Agregar\n          </ion-button>\n          <!--\n            <ion-button\n              *ngIf=\"isCordova\"\n              (click)=\"cameraIonic()\"\n              shape=\"round\"\n              fill=\"outline\"\n              color=\"secondary\"\n            >\n              <ion-icon slot=\"start\" name=\"camera\"></ion-icon>\n              Camara\n            </ion-button>\n          -->\n        </ion-list>\n      </ng-template>\n      <ng-template #Column>\n        <!-- Contenedor de fases -->\n        <div class=\"conteiner-phases\">\n          <!-- fase titulo -->\n          <h2>{{ getCurrentPhaseName() }}</h2>\n          <!-- contenedor imagenes -->\n          <div class=\"flex-img\">\n            <img *ngFor=\"let img of preBuild.imgUrls\" [src]=\"img\" />\n          </div>\n          <!--\n            <button style=\"margin-left: 1%;\" mat-stroked-button color=\"accent\">\n              <mat-icon color=\"accent\">add</mat-icon>\n              Agregar\n            </button>\n          -->\n          <!-- /contenedor imagenes -->\n        </div>\n\n        <!-- /Contenedor de fases -->\n      </ng-template>\n    </ng-template>\n    <ng-template #NoLoad>\n      <app-general-skeleton></app-general-skeleton>\n    </ng-template>\n  </ion-grid>\n</ion-content>\n"

/***/ }),

/***/ "./src/app/components/admin/detail-pre-build/detail-pre-build.component.scss":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/detail-pre-build/detail-pre-build.component.scss ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%;\n  margin: 5%; }\n\n.desktop-card {\n  height: 100% !important; }\n\n.flex-img {\n  display: flex;\n  flex-wrap: wrap; }\n\n.flex-img > * {\n  padding: 1%;\n  width: 300px;\n  height: 300px; }\n\n.conteiner-buttons {\n  padding: 3% 3% 0% 3%;\n  text-align: right;\n  margin-top: 8%; }\n\n/* .conteiner-buttons>* {\n  // background-color: var(--ion-color-primary);\n\n} */\n\n.conteiner-phases {\n  padding: 1%; }\n\n.flex-img > .item {\n  align-self: flex-end; }\n\n.color-complete {\n  color: var(--ion-color-success); }\n\n.color-incomplete {\n  color: var(--ion-color-warning); }\n\n@media (max-width: 900px) {\n  .flex-img > * {\n    padding: 1%;\n    width: 100%;\n    height: unset; } }\n"

/***/ }),

/***/ "./src/app/components/admin/detail-pre-build/detail-pre-build.component.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/components/admin/detail-pre-build/detail-pre-build.component.ts ***!
  \*********************************************************************************/
/*! exports provided: DetailPreBuildComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetailPreBuildComponent", function() { return DetailPreBuildComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_pre_build_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/pre-build.service */ "./src/app/services/pre-build.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _services_build_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/build.service */ "./src/app/services/build.service.ts");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var DetailPreBuildComponent = /** @class */ (function () {
    function DetailPreBuildComponent(preBuildService, route, userSession, oneSignalService, toastController, alertController, loadingController, buildService) {
        var _this = this;
        this.preBuildService = preBuildService;
        this.route = route;
        this.userSession = userSession;
        this.oneSignalService = oneSignalService;
        this.toastController = toastController;
        this.alertController = alertController;
        this.loadingController = loadingController;
        this.buildService = buildService;
        this.isDesktop = true;
        this.imgName = '';
        this.imgToUpload = [];
        this.user = userSession.userSession.value;
        this.route.queryParams.subscribe(function (params) {
            if (params.id) {
                _this.getPreBuild(params.id);
            }
        });
    }
    DetailPreBuildComponent.prototype.ngOnInit = function () { };
    DetailPreBuildComponent.prototype.getPreBuild = function (id) {
        var _this = this;
        this.isLoad = false;
        this.preBuildService.getBuildById(id).subscribe(function (build) {
            _this.preBuild = build;
            _this.getPercent(build.timeLine);
            _this.isLoad = true;
        });
    };
    DetailPreBuildComponent.prototype.getPercent = function (timeLine) {
        var numOfComplete = 0;
        timeLine.forEach(function (tl) {
            if (tl.isComplete) {
                numOfComplete++;
            }
        });
        this.percent = (numOfComplete * 100) / timeLine.length;
    };
    DetailPreBuildComponent.prototype.checkAdminRol = function (userType) {
        if (userType === 'preBuyer') {
            return false;
        }
        else {
            return true;
        }
    };
    DetailPreBuildComponent.prototype.changeStatus = function (e) {
        var _this = this;
        this.preBuildService.putBuild(this.preBuild).subscribe(function () {
            _this.getPercent(_this.preBuild.timeLine);
            if (e) {
                // borrar img
                if (_this.preBuild.imgUrls && _this.preBuild.imgUrls.length) {
                    _this.preBuild.imgUrls.forEach(function (img) {
                        _this.deletedImg(img);
                    });
                    _this.preBuild.imgUrls = [];
                    _this.preBuildService.putBuild(_this.preBuild).subscribe();
                }
                if (_this.percent === 100) {
                    _this.notification('Obra Terminada', "Se ha completado la obra: \"" + _this.preBuild.name + "\"", 'azul', 'celebrate', undefined, _this.preBuild.preBuyer.map(function (a) { return a._id; }));
                }
                else {
                    _this.notification('Fase Concluida', "Se ha completado una fase de la obra: \"" + _this.preBuild.name + "\"", 'rojo', 'celebrate', undefined, _this.preBuild.preBuyer.map(function (a) { return a._id; }));
                }
            }
            _this.presentToast(_this.percent === 100 ? 'Obra Terminada' : 'Se ha modificado una fase');
        });
    };
    DetailPreBuildComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userSession.userSession.value.id,
            status: status,
            type: type
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, tags, receiversId)
            .subscribe(function (c) {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    DetailPreBuildComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 3000
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    DetailPreBuildComponent.prototype.formatDates = function (year, month, day) {
        var date = new Date(year, month, day);
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_6__["FormatDatesFront"])(date);
    };
    DetailPreBuildComponent.prototype.formatDates2 = function (date) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_6__["FormatDatesFront"])(date);
    };
    DetailPreBuildComponent.prototype.changeGrid = function (value) {
        this.isList = !this.isList;
    };
    DetailPreBuildComponent.prototype.getCurrentPhaseName = function () {
        var currentPhase = this.preBuild.timeLine.find(function (tl) { return tl.isComplete === false; });
        if (currentPhase) {
            return currentPhase.namePhase;
        }
        else {
            return 'Completada';
        }
    };
    DetailPreBuildComponent.prototype.getCurrentPhaseData = function () {
        var currentPhase = this.preBuild.timeLine.find(function (tl) { return tl.isComplete === false; });
        if (currentPhase) {
            return currentPhase;
        }
        else {
            return undefined;
        }
    };
    // subir foto
    DetailPreBuildComponent.prototype.fileChangeEvent = function (fileInput) {
        var _this = this;
        var imgToUpload = fileInput.target.files[0];
        // img name
        this.imgName = imgToUpload.name.slice(0, imgToUpload.name.indexOf('.'));
        // preview
        var reader = new FileReader();
        reader.onload = function (r) {
            _this.render(reader.result);
        };
        reader.readAsDataURL(imgToUpload);
    };
    // render
    DetailPreBuildComponent.prototype.render = function (src) {
        var _this = this;
        var MAX_HEIGHT = 400;
        var image = new Image();
        image.onload = function (r) {
            var canvas = document.createElement('canvas');
            if (image.height > MAX_HEIGHT) {
                image.width *= MAX_HEIGHT / image.height;
                image.height = MAX_HEIGHT;
            }
            var ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            canvas.width = image.width;
            canvas.height = image.height;
            ctx.drawImage(image, 0, 0, image.width, image.height);
            canvas.toBlob(function (c) {
                if (c.size > 200000) {
                    _this.presentAlertImg('La imagen excede el límite de tamaño', 'Imagen no válida');
                }
                else {
                    _this.imgToUpload.push({
                        srcPrev: src,
                        name: _this.imgName,
                        srcBlob: c
                    });
                }
                // tipo, calidad
            }, 'image/jpeg', 0.75);
        };
        image.src = src;
    };
    // alerts
    DetailPreBuildComponent.prototype.presentAlertImg = function (message, header) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: header,
                            message: message,
                            buttons: [
                                {
                                    text: 'Ok',
                                    role: 'ok',
                                    handler: function () { }
                                }
                            ]
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    DetailPreBuildComponent.prototype.presentLoadingWithOptions = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var loading;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create({
                            message: message,
                            translucent: true
                        })];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    // /alerts
    DetailPreBuildComponent.prototype.link = function () {
        var input = document.getElementById('imagen1').click();
    };
    /**
     * Subir imagen Confirmado
     * @param imgToUp imagen subir
     * @param index index del prev
     * @param notes notas
     */
    DetailPreBuildComponent.prototype.uploadImg = function (imgToUp) {
        return __awaiter(this, void 0, void 0, function () {
            var load, file, formData, arrStr;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.presentLoadingWithOptions('Subiendo Foto...')];
                    case 1:
                        load = _a.sent();
                        load.present();
                        file = new File([imgToUp.srcBlob], imgToUp.name + '.jpg', {
                            type: imgToUp.srcBlob.type,
                            lastModified: new Date().getTime()
                        });
                        formData = new FormData();
                        formData.append('imagen1', file);
                        return [4 /*yield*/, this.buildService.uploadImg(formData).toPromise()];
                    case 2:
                        arrStr = _a.sent();
                        if (arrStr.length > 0) {
                            this.notification('Nueva Foto', "Se ha subido una foto de la preventa " + this.preBuild.name, 'amarillo', 'build', undefined, this.preBuild.preBuyer.map(function (m) { return m._id; }));
                            this.putBuild(imgToUp);
                            load.dismiss();
                            this.presentToast('Imagen Subida');
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    DetailPreBuildComponent.prototype.putBuild = function (imgToUp) {
        var _this = this;
        if (this.preBuild.imgUrls && this.preBuild.imgUrls.length) {
            this.preBuild.imgUrls.push(_config_api_end_points__WEBPACK_IMPORTED_MODULE_8__["END_POINT"].IP + imgToUp.name + '.jpg');
        }
        else {
            var arr = [_config_api_end_points__WEBPACK_IMPORTED_MODULE_8__["END_POINT"].IP + imgToUp.name + '.jpg'];
            this.preBuild.imgUrls = arr;
        }
        this.preBuildService.putBuild(this.preBuild).subscribe(function () {
            var index = _this.imgToUpload.findIndex(function (img) { return img.name === imgToUp.name; });
            _this.imgToUpload.splice(index, 1);
        });
    };
    DetailPreBuildComponent.prototype.discartImg = function (index) {
        this.imgToUpload.splice(index, 1);
    };
    DetailPreBuildComponent.prototype.deletedImg = function (imgURL) {
        var _this = this;
        var imgName = imgURL.slice(imgURL.lastIndexOf('/') + 1, imgURL.length);
        this.buildService.deletedImg(imgName).subscribe(function () {
            var index = _this.preBuild.imgUrls.findIndex(function (img) { return img === imgURL; });
            _this.preBuild.imgUrls.splice(index, 1);
            _this.preBuildService.putBuild(_this.preBuild).subscribe(function () {
                _this.presentToast('Imagen Borrada');
            });
        });
    };
    DetailPreBuildComponent.prototype.presentAlertConfirm = function (url) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Imagen',
                            message: "\u00BFDesea eliminar imagen?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    }
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    }
                                }
                            ]
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deletedImg(url);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    DetailPreBuildComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-detail-pre-build',
            template: __webpack_require__(/*! ./detail-pre-build.component.html */ "./src/app/components/admin/detail-pre-build/detail-pre-build.component.html"),
            styles: [__webpack_require__(/*! ./detail-pre-build.component.scss */ "./src/app/components/admin/detail-pre-build/detail-pre-build.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_pre_build_service__WEBPACK_IMPORTED_MODULE_1__["PreBuildService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__["UserSessionService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_4__["OnesignalService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["LoadingController"],
            _services_build_service__WEBPACK_IMPORTED_MODULE_7__["BuildService"]])
    ], DetailPreBuildComponent);
    return DetailPreBuildComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/detail-prop-admin/detail-prop-admin.component.html":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/detail-prop-admin/detail-prop-admin.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button style=\"color: white !important\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>\n      Detalles\n    </ion-title>\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Detalles Propiedades'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ion-grid fixed>\n    <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n    <ng-template #thenTemplate>\n      <h1> Característica </h1>\n\n      <ion-card>\n\n        <ion-card-header>\n          <ion-card-title> {{property.name}} </ion-card-title>\n        </ion-card-header>\n        <!-- Principales -->\n        <ion-grid>\n          <ion-row>\n            <ion-col>\n              <!-- Renta/venta -->\n              <ion-chip *ngIf=\"property.isRent\" style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"cart\"></ion-chip-icon>\n                <ion-label>Renta</ion-label>\n              </ion-chip>\n              <ion-chip *ngIf=\"!property.isRent\" style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"cart\"></ion-chip-icon>\n                <ion-label>Venta</ion-label>\n              </ion-chip>\n            </ion-col>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"expand\"></ion-chip-icon>\n                <ion-label>Espacio {{property.space}}</ion-label>\n              </ion-chip>\n            </ion-col>\n          </ion-row>\n          <ion-row>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"calendar\"></ion-chip-icon>\n                <ion-label>Fecha {{property.dateToBuy}}</ion-label>\n              </ion-chip>\n            </ion-col>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"water\"></ion-chip-icon>\n                <ion-label>Baños {{property.numBathrooms}}</ion-label>\n              </ion-chip>\n            </ion-col>\n          </ion-row>\n          <ion-row>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"cash\"></ion-chip-icon>\n                <ion-label>Max ${{property.maxPrice}}</ion-label>\n              </ion-chip>\n            </ion-col>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"cash\"></ion-chip-icon>\n                <ion-label>Min ${{property.minPrice}}</ion-label>\n              </ion-chip>\n            </ion-col>\n          </ion-row>\n          <ion-row>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"car\"></ion-chip-icon>\n                <ion-label>Estacionamiento {{property.numCars}}</ion-label>\n              </ion-chip>\n            </ion-col>\n            <ion-col>\n              <ion-chip style=\"background-color: #F58634\">\n                <ion-chip-icon class=\"icon-chip-detail\" name=\"bed\"></ion-chip-icon>\n                <ion-label>Cuartos {{property.numRooms}}</ion-label>\n              </ion-chip>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n        <!-- otros -->\n        <ion-card-subtitle style=\"margin-left: 8%;\">Otras</ion-card-subtitle>\n        <div class=\"container-details-property\">\n          <ion-item *ngIf=\"property.allServices\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Todos los servicios</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"!property.allServices\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Sin los servicios</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"property.hasElevator\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Elevador</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"!property.hasElevator\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Sin Elevador</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"property.hasGarden\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Jardin</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"!property.hasGarden\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Sin Jardin</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"property.isClose\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Fraccionamineto Cerrado</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"!property.isClose\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Sin Fraccionamineto Cerrado</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"!property.isOld\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Nuevo</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"property.isOld\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Usado</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"property.isLowLevel\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Planta Baja</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"!property.isLowLevel\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label>Cualquier num de piso</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"property.wayToBuy\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label text-wrap> Forma de Compra: {{property.wayToBuy}}</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"property.zone\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label text-wrap>Zona: {{property.zone}}</ion-label>\n          </ion-item>\n          <ion-item *ngIf=\"property.typeOfProperty\">\n            <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n            <ion-label text-wrap>Tipo de Propiedad: {{property.typeOfProperty}}</ion-label>\n          </ion-item>\n        </div>\n        <!-- files -->\n        <ion-card-subtitle style=\"margin-left: 8%;\">Documentos</ion-card-subtitle>\n        <div class=\"container-details-property\">\n          <div *ngFor=\"let doc of property.files\">\n            <p>{{doc }}</p>\n          </div>\n        </div>\n\n        <!-- tag -->\n        <ion-card-subtitle style=\"margin-left: 8%;\">Etiquetas</ion-card-subtitle>\n        <div class=\"container-details-property\">\n          <div *ngFor=\"let tag of property.tag\">\n            # {{tag }}\n          </div>\n        </div>\n\n      </ion-card>\n      <div class=\"row\">\n        <div class=\"col-md-4 order-md-2 mb-4\">\n          <h4 class=\"d-flex justify-content-between align-items-center mb-3\">\n            <span class=\"text-muted\">Personas Interesadas</span>\n            <span class=\"badge badge-secondary badge-pill\">{{sbp.length}}</span>\n          </h4>\n          <ul class=\"list-group mb-3\">\n            <li class=\"list-group-item d-flex justify-content-between lh-condensed\" *ngFor=\"let item of sbp\">\n              <div>\n                <h6 class=\"my-0\">{{item.buyer.name}}</h6>\n                <small class=\"text-muted\">{{dateFormat(item.timestamp)}}</small>\n              </div>\n              <span class=\"badge badge-pill\" style=\"height: 15%; color: white \" [ngClass]=\"\n              {'background-verde': item.status === 'verde', \n             'background-amarillo':  item.status === 'amarillo',\n             'background-rojo':  item.status === 'rojo',\n             'background-gris': item.status === 'gris',\n             'background-azul':  item.status === 'azul' }\">\n                {{item.status\n                === 'rojo' ? 'Cierre' : item.status\n                === 'verde' ? 'Interés': item.status\n                === 'amarillo' ? 'Seguimiento': item.status\n                === 'azul' ? 'Post Venta' : ''}}</span>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n    </ng-template>\n    <ng-template #elseTemplate style=\"text-align: center\">\n      <ion-spinner name=\"bubbles\"></ion-spinner>\n\n    </ng-template>\n  </ion-grid>\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab *ngIf=\"isLoad && !property.isBuy\" vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n  <ion-fab-button (click)=\"presentAlertCheckbox()\" color=\"secondary\">\n    <ion-icon name=\"person-add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>"

/***/ }),

/***/ "./src/app/components/admin/detail-prop-admin/detail-prop-admin.component.scss":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/detail-prop-admin/detail-prop-admin.component.scss ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".container-details-property {\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0% 10% 3% 10%; }\n\n.flex-title {\n  display: flex;\n  align-items: baseline;\n  width: 100% !important; }\n\n.mb-3,\n.my-3 {\n  margin-bottom: 1rem !important; }\n\n.badge-secondary {\n  color: #fff;\n  background-color: #F5811E; }\n\n.list-group-item {\n  border-top-left-radius: .25rem;\n  border-top-right-radius: .25rem; }\n\n.lh-condensed {\n  line-height: 1.25; }\n\n.justify-content-between {\n  justify-content: space-between !important; }\n\n.d-flex {\n  display: flex !important; }\n\n.list-group-item {\n  position: relative;\n  display: block;\n  padding: .75rem 1.25rem;\n  margin-bottom: -1px;\n  background-color: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.125); }\n\n.badge-pill {\n  padding-right: .6em;\n  padding-left: .6em;\n  border-radius: 10rem; }\n\n.row {\n  width: 30%; }\n\nul {\n  padding: 0%; }\n\n@media (max-width: 900px) {\n  .row {\n    width: 100%; } }\n"

/***/ }),

/***/ "./src/app/components/admin/detail-prop-admin/detail-prop-admin.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/detail-prop-admin/detail-prop-admin.component.ts ***!
  \***********************************************************************************/
/*! exports provided: DetailPropAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetailPropAdminComponent", function() { return DetailPropAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/status-buyer-property.service */ "./src/app/services/status-buyer-property.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var DetailPropAdminComponent = /** @class */ (function () {
    function DetailPropAdminComponent(route, propertyService, buyerService, userSessionService, toastController, statusBPService, alertController, oneSignalService, sBPService) {
        var _this = this;
        this.route = route;
        this.propertyService = propertyService;
        this.buyerService = buyerService;
        this.userSessionService = userSessionService;
        this.toastController = toastController;
        this.statusBPService = statusBPService;
        this.alertController = alertController;
        this.oneSignalService = oneSignalService;
        this.sBPService = sBPService;
        this.isLoad = false;
        this.isLiked = false;
        this.arrPropLikes = [];
        this.arrSBP = [];
        this.sbp = [];
        this.route.queryParams.subscribe(function (params) {
            console.log(params.id);
            if (params.id) {
                _this.getPropertyById(params.id);
            }
        });
    }
    DetailPropAdminComponent.prototype.ngOnInit = function () { };
    DetailPropAdminComponent.prototype.getPropertyById = function (id) {
        var _this = this;
        this.propertyService.getPropertyById(id).subscribe(function (property) { return __awaiter(_this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.property = property;
                        _a = this;
                        return [4 /*yield*/, this.getBuyersProp(id)];
                    case 1:
                        _a.sbp = _b.sent();
                        console.log('sbp', this.sbp);
                        this.isLoad = true;
                        return [2 /*return*/];
                }
            });
        }); });
    };
    DetailPropAdminComponent.prototype.getBuyersProp = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            var sBP;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.statusBPService.getStatusBuyerProperty().toPromise()];
                    case 1:
                        sBP = _a.sent();
                        return [2 /*return*/, (sBP.filter(function (s) { return s.property._id === id; }))];
                }
            });
        });
    };
    DetailPropAdminComponent.prototype.setPropToBuyer = function (data) {
        var _this = this;
        data.forEach(function (buyerId) {
            if (buyerId !== '') {
                // noti
                _this.notification('Sugerencia de Propiedad', "Se ha sugerido la propiedad " + _this.property.name, 'gris', 'property', buyerId);
                _this.buyerService.getBuyerById(buyerId).subscribe(function (b) {
                    b.property.push(_this.property._id);
                    _this.buyerService.putBuyer(b).subscribe(function () {
                        _this.presentToast('Propiedad Agregada a Cliente');
                    });
                });
            }
        });
    };
    DetailPropAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 3000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    DetailPropAdminComponent.prototype.getBuyers = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.buyerService.getBuyerAll().toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    DetailPropAdminComponent.prototype.presentAlertCheckbox = function () {
        return __awaiter(this, void 0, void 0, function () {
            var buyers, inputsBuyer, alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getBuyers()];
                    case 1:
                        buyers = _a.sent();
                        inputsBuyer = [];
                        buyers.forEach(function (b) {
                            var findIndex = b.property.findIndex(function (p) { return p._id === _this.property._id; });
                            if (findIndex !== -1) {
                                inputsBuyer.push({
                                    name: b.name,
                                    type: 'checkbox',
                                    label: b.name,
                                    checked: true,
                                    disabled: true,
                                });
                            }
                            else {
                                inputsBuyer.push({
                                    name: b.name,
                                    type: 'checkbox',
                                    label: b.name,
                                    value: b._id,
                                });
                            }
                        });
                        return [4 /*yield*/, this.alertController.create({
                                header: 'Sugerir a Clientes',
                                inputs: inputsBuyer,
                                buttons: [
                                    {
                                        text: 'Cancelar',
                                        role: 'cancel',
                                        cssClass: 'secondary',
                                        handler: function () {
                                            console.log('');
                                        },
                                    },
                                    {
                                        text: 'Ok',
                                        role: 'ok',
                                        handler: function () {
                                            console.log('');
                                        },
                                    },
                                ],
                            })];
                    case 2:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.setPropToBuyer(res.data.values);
                                }
                            })];
                    case 4:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    // noti
    DetailPropAdminComponent.prototype.notification = function (title, message, status, type, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            receiversId: [receiversId],
            senderId: this.userSessionService.userSession.value.id,
            status: status,
            type: type,
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, undefined, [receiversId])
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    DetailPropAdminComponent.prototype.dateFormat = function (date) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_8__["FormatDatesFront"])(new Date(date));
    };
    DetailPropAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-detail-prop-admin',
            template: __webpack_require__(/*! ./detail-prop-admin.component.html */ "./src/app/components/admin/detail-prop-admin/detail-prop-admin.component.html"),
            styles: [__webpack_require__(/*! ./detail-prop-admin.component.scss */ "./src/app/components/admin/detail-prop-admin/detail-prop-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_2__["PropertyService"],
            _services_buyer_service__WEBPACK_IMPORTED_MODULE_3__["BuyerService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_4__["UserSessionService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ToastController"],
            _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_6__["StatusBuyerPropertyService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__["OnesignalService"],
            _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_6__["StatusBuyerPropertyService"]])
    ], DetailPropAdminComponent);
    return DetailPropAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/detail-salesprop-admin/detail-salesprop-admin.component.html":
/*!***********************************************************************************************!*\
  !*** ./src/app/components/admin/detail-salesprop-admin/detail-salesprop-admin.component.html ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button style=\"color: white !important\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>\n      Detalles de Apartado\n    </ion-title>\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Detalles de Apartado'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n\n    <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n    <ng-template #thenTemplate>\n      <h2>Propiedad apartada: {{sBP.property.name}}</h2>\n      <ion-row>\n        <ion-col size-md=\"6\" size-lg=\"6\" size-xl=\"6\">\n          <ion-card [ngClass]=\"{'desktop-card': isDesktop }\">\n            <ion-card-header>\n              <ion-card-title>Detalles del Apartado</ion-card-title>\n            </ion-card-header>\n            <ion-card-content>\n              <ion-list lines=\"none\">\n\n                <ion-item lines=\"none\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"contact\"></ion-icon>\n                  <ion-label text-wrap>\n                    <p><b>Cliente:</b> </p>\n                    <p>{{sBP.buyer.name}}\n                    </p>\n                  </ion-label>\n                </ion-item>\n\n                <ion-item lines=\"none\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"cash\"></ion-icon>\n                  <ion-label text-wrap>\n                    <p><b>La propiedad fue apartado por:</b></p>\n                    <p> {{isCredit ? 'Crédito':'Oferta'}}</p>\n                  </ion-label>\n                </ion-item>\n\n                <ion-item lines=\"none\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"calendar\"></ion-icon>\n                  <ion-label text-wrap>\n                    <p><b>Fecha de apartado:</b> </p>\n                    <p>{{formatDates(sBP.timestamp)}}</p>\n                  </ion-label>\n                </ion-item>\n\n              </ion-list>\n            </ion-card-content>\n            <ion-card-content></ion-card-content>\n          </ion-card>\n        </ion-col>\n        <ion-col size-md=\"6\" size-lg=\"6\" size-xl=\"6\">\n          <ion-card *ngIf=\"dayRest\" [ngClass]=\"{'desktop-card': isDesktop }\">\n            <ion-card-header>\n              <ion-card-title text-wrap>Tiempo Restante: {{dayRest}} dias</ion-card-title>\n              <ion-card-content>\n                <app-goal-progress [outerStrokeColor]=\"outerStrokeColor\" subtitle=\"Tiempo de espera\" [percent]=\"percent\"></app-goal-progress>\n\n              </ion-card-content>\n            </ion-card-header>\n          </ion-card>\n          <ion-card *ngIf=\"!dayRest\" [ngClass]=\"{'desktop-card': isDesktop }\">\n            <div class=\"alert\n            alert-danger\">\n              Se ha agotado el tiempo de espera\n            </div>\n            <ion-card-content>\n              <h3>El tiempo de espera es de 15 dias, la propiedad ya no esta en estado de apartada </h3>\n            </ion-card-content>\n          </ion-card>\n        </ion-col>\n      </ion-row>\n      <!-- Credito / oferta -->\n      <ion-row>\n        <ion-col size-md=\"6\" size-lg=\"6\" size-xl=\"6\" *ngFor=\"let credit of getCredits(sBP)\">\n          <ion-card [ngClass]=\"{'desktop-card': isDesktop }\">\n            <ion-card-header>\n              <div style=\"text-align: right; margin-right: 2%\">\n                <ion-button slot=\"end\" [disabled]=\"!dayRest\" (click)=\"presentAlertPrompt('Crédito')\" color=\"danger\"\n                  fill=\"outline\">Firmar</ion-button>\n              </div>\n              <ion-card-title>Detalles del Crédito</ion-card-title>\n            </ion-card-header>\n            <ion-card-content>\n              <ion-list lines=\"none\">\n\n                <ion-item lines=\"none\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"clipboard\"></ion-icon>\n                  <ion-label text-wrap>\n                    <p><b>Notas:</b> </p>\n                    <p>{{credit.notes}}\n                    </p>\n                  </ion-label>\n                </ion-item>\n                <ion-item lines=\"none\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"document\"></ion-icon>\n                  <ion-label text-wrap>\n                    <p><b>Documentos:</b> </p>\n                    <p *ngFor=\"let file of credit.files\">{{file}}</p>\n                  </ion-label>\n                </ion-item>\n\n              </ion-list>\n            </ion-card-content>\n            <ion-card-content></ion-card-content>\n          </ion-card>\n        </ion-col>\n        <ion-col size-md=\"6\" size-lg=\"6\" size-xl=\"6\" *ngFor=\"let ofert of getOferts(sBP)\">\n          <ion-card [ngClass]=\"{'desktop-card': isDesktop }\">\n            <ion-card-header>\n              <div style=\"text-align: right; margin-right: 2%\">\n                <ion-button [disabled]=\"!dayRest\" (click)=\"presentAlertPrompt('Oferta', ofert.ofertPrice)\" slot=\"end\"\n                  color=\"danger\" fill=\"outline\">Firmar</ion-button>\n              </div>\n              <ion-card-title text-wrap>Detalles de la Oferta</ion-card-title>\n            </ion-card-header>\n            <ion-card-content>\n              <ion-list lines=\"none\">\n\n                <ion-item lines=\"none\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"cash\"></ion-icon>\n                  <ion-label text-wrap>\n                    <p><b>Precio:</b> </p>\n                    <p>{{ofert.ofertPrice}}\n                    </p>\n                  </ion-label>\n                </ion-item>\n\n                <ion-item lines=\"none\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"clipboard\"></ion-icon>\n                  <ion-label text-wrap>\n                    <p><b>Notas:</b></p>\n                    <p> {{ofert.notes}}</p>\n                  </ion-label>\n                </ion-item>\n\n                <ion-item lines=\"none\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"document\"></ion-icon>\n                  <ion-label text-wrap>\n                    <p><b>Documentos:</b> </p>\n                    <p *ngFor=\"let file of ofert.files\">{{file}}</p>\n                  </ion-label>\n                </ion-item>\n\n              </ion-list>\n            </ion-card-content>\n            <ion-card-content></ion-card-content>\n\n          </ion-card>\n        </ion-col>\n\n      </ion-row>\n\n\n\n    </ng-template>\n    <ng-template #elseTemplate>\n      <app-general-skeleton></app-general-skeleton>\n    </ng-template>\n\n  </ion-grid>\n  <!-- <button (click)=\"presentAlertCheckbox()\" class=\"mdc-fab mdc-fab--extended app-fab--absolute\">\n    <span class=\"material-icons mdc-fab__icon\">done</span>\n    <span class=\"mdc-fab__label\">Frimar</span>\n  </button> -->\n</ion-content>"

/***/ }),

/***/ "./src/app/components/admin/detail-salesprop-admin/detail-salesprop-admin.component.scss":
/*!***********************************************************************************************!*\
  !*** ./src/app/components/admin/detail-salesprop-admin/detail-salesprop-admin.component.scss ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%;\n  margin: 5%; }\n\n.desktop-card {\n  height: 100% !important; }\n\n.alert {\n  position: relative;\n  padding: 0.75rem 1.25rem;\n  margin-bottom: 1rem;\n  border: 1px solid transparent;\n  border-radius: 0.25rem; }\n\n.alert-danger {\n  color: #721c24;\n  background-color: #f8d7da;\n  border-color: #f5c6cb; }\n\n.app-fab--absolute {\n  position: fixed !important;\n  bottom: 1rem;\n  right: 1rem; }\n"

/***/ }),

/***/ "./src/app/components/admin/detail-salesprop-admin/detail-salesprop-admin.component.ts":
/*!*********************************************************************************************!*\
  !*** ./src/app/components/admin/detail-salesprop-admin/detail-salesprop-admin.component.ts ***!
  \*********************************************************************************************/
/*! exports provided: DetailSalespropAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetailSalespropAdminComponent", function() { return DetailSalespropAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/status-buyer-property.service */ "./src/app/services/status-buyer-property.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _services_sale_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/sale.service */ "./src/app/services/sale.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _services_seller_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../services/seller.service */ "./src/app/services/seller.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












var DetailSalespropAdminComponent = /** @class */ (function () {
    function DetailSalespropAdminComponent(statusBPService, userSession, propertyService, platform, toastController, alertController, route, byuerService, saleService, router, oneSignalService, sellerService) {
        this.statusBPService = statusBPService;
        this.userSession = userSession;
        this.propertyService = propertyService;
        this.platform = platform;
        this.toastController = toastController;
        this.alertController = alertController;
        this.route = route;
        this.byuerService = byuerService;
        this.saleService = saleService;
        this.router = router;
        this.oneSignalService = oneSignalService;
        this.sellerService = sellerService;
        this.isLoad = false;
        this.isDesktop = false;
        this.outerStrokeColor = '#f5811e';
        this.idsNotification = [];
        this.isDesktop = platform.is('desktop');
    }
    DetailSalespropAdminComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                if (params['ofert'] === 'false') {
                    _this.isOfert = false;
                }
                else {
                    _this.isOfert = true;
                }
                if (params['credit'] === 'false') {
                    _this.isCredit = false;
                }
                else {
                    _this.isCredit = true;
                }
                _this.getSBPById(params['id'], _this.statusBPService.timeToBuy);
            }
        });
    };
    DetailSalespropAdminComponent.prototype.getSBPById = function (id, timestamp) {
        var _this = this;
        this.statusBPService.getStatusBuyerPropertyById(id).subscribe(function (sBP) {
            _this.isLoad = true;
            // 15 dias - 100%
            var diffDays = 15 - _this.deDiffDays(timestamp);
            if (diffDays > 0) {
                _this.dayRest = diffDays;
                _this.percent = (diffDays * 100) / 15;
            }
            _this.sBP = sBP;
            _this.getOferts(_this.sBP).forEach(function (ofert) {
                _this.idsNotification = _this.idsNotification.concat(ofert.notificationOneSignal);
            });
            _this.getCredits(_this.sBP).forEach(function (cred) {
                _this.idsNotification = _this.idsNotification.concat(cred.notificationOneSignal);
            });
        });
    };
    DetailSalespropAdminComponent.prototype.deDiffDays = function (dateToDiference) {
        var date1 = new Date(dateToDiference);
        var date2 = new Date();
        var timeDiff = Math.abs(date2.getTime() - date1.getTime());
        var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));
        return diffDays;
    };
    DetailSalespropAdminComponent.prototype.getOferts = function (sBP) {
        // rojo por oferta
        return sBP.buyer.ofert.filter(function (ofert) { return ofert.status === 'rojo' && ofert.property === sBP.property._id; });
    };
    DetailSalespropAdminComponent.prototype.getCredits = function (sBP) {
        // rojo por credito
        return sBP.buyer.credit.filter(function (credit) {
            return credit.status === 'rojo' && credit.property === sBP.property._id;
        });
    };
    DetailSalespropAdminComponent.prototype.getAdv = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.byuerService
                            .getBuyerById(this.sBP.buyer._id)
                            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["map"])(function (data) { return data.adviser; }))
                            .toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    DetailSalespropAdminComponent.prototype.presentAlertPrompt = function (str, oferPrice) {
        return __awaiter(this, void 0, void 0, function () {
            var propInput, alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        propInput = [
                            {
                                name: 'price',
                                type: 'number',
                                value: this.isOfert ? oferPrice : this.sBP.property.maxPrice.toString(),
                                label: 'Costo Final',
                                placeholder: 'Costo Final',
                            },
                            {
                                name: 'note',
                                type: 'text',
                                placeholder: 'Notas',
                                value: str,
                            },
                            {
                                name: 'property',
                                type: 'text',
                                id: 'property-id',
                                value: this.sBP.property.name,
                                disabled: true,
                            },
                            {
                                name: 'buyer',
                                type: 'text',
                                value: this.sBP.buyer.name + this.sBP.buyer.fatherLastName,
                                placeholder: 'Consumidor',
                                disabled: true,
                            },
                        ];
                        return [4 /*yield*/, this.alertController.create({
                                header: 'Firmar',
                                subHeader: 'Llene los campos',
                                message: 'Al momento de aceptar la propiedad cambiará de estado',
                                inputs: propInput,
                                buttons: [
                                    {
                                        text: 'Cancelar',
                                        role: 'cancel',
                                        cssClass: 'secondary',
                                        handler: function () {
                                            console.log('');
                                        },
                                    },
                                    {
                                        text: 'Aceptar',
                                        role: 'ok',
                                        handler: function () {
                                            console.log('');
                                        },
                                    },
                                ],
                            })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.presentAlertCheckbox(res.data.values.price, res.data.values.note);
                                }
                            })];
                    case 3:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    // asigna adv
    DetailSalespropAdminComponent.prototype.presentAlertCheckbox = function (price, note) {
        return __awaiter(this, void 0, void 0, function () {
            var advInput, advisers, alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        advInput = [];
                        return [4 /*yield*/, this.getAdv()];
                    case 1:
                        advisers = _a.sent();
                        advisers.forEach(function (adv) {
                            advInput.push({
                                name: 'adviser',
                                type: 'checkbox',
                                label: adv.name,
                                value: adv._id,
                            });
                        });
                        return [4 /*yield*/, this.alertController.create({
                                header: 'Asesor',
                                subHeader: 'Seleccione Asesores de renta/compra',
                                inputs: advInput,
                                buttons: [
                                    {
                                        text: 'Cancelar',
                                        role: 'cancel',
                                        cssClass: 'secondary',
                                        handler: function () {
                                            console.log('');
                                        },
                                    },
                                    {
                                        text: 'Firmar',
                                        role: 'ok',
                                        handler: function () {
                                            console.log('');
                                        },
                                    },
                                ],
                            })];
                    case 2:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.changeStatus(res.data.values, note, price);
                                }
                            })];
                    case 4:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    // cambiar status
    DetailSalespropAdminComponent.prototype.changeStatus = function (advs, note, price) {
        return __awaiter(this, void 0, void 0, function () {
            var seller, Sale;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getSellerOfProperty(this.sBP.property._id)];
                    case 1:
                        seller = _a.sent();
                        Sale = {
                            adviser: advs,
                            isRent: this.sBP.property.isRent,
                            buyer: this.sBP.buyer._id,
                            property: this.sBP.property._id,
                            note: note,
                            price: +price,
                        };
                        this.statusBPService.upgradeStatus(this.sBP._id, 'azul').subscribe(function () {
                            _this.saleService.newSale(Sale).subscribe(function (sale) {
                                var prop = { _id: _this.sBP.property._id, isBuy: true };
                                _this.propertyService.putProperty(prop).subscribe(function () {
                                    // Propiedad Adquirida => sirve para modal con estrella
                                    _this.notification('Propiedad Adquirida', "La propiedad: " + _this.sBP.property.name + " ha sido adquirida por el cliente: \"" + _this.sBP.buyer.name + "\"", 'azul', 'property', ['administrator', 'office'], seller === undefined
                                        ? [Sale.buyer].concat(Sale.adviser) : [seller._id, Sale.buyer].concat(Sale.adviser));
                                    _this.deleteNotification(_this.idsNotification);
                                    var toast = {
                                        queryParams: { res: 'Venta Concretada' },
                                    };
                                    _this.router
                                        .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                                        .then(function () { return _this.router.navigate(['list-salesprop-admin'], toast); });
                                });
                            });
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    DetailSalespropAdminComponent.prototype.formatDates = function (date) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_6__["FormatDatesFront"])(date);
    };
    DetailSalespropAdminComponent.prototype.deleteNotification = function (ids) {
        var _this = this;
        ids.forEach(function (id) {
            _this.oneSignalService
                .deleteOneSignalSchedule(id)
                .subscribe(function (c) { return console.log(c); });
        });
    };
    DetailSalespropAdminComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userSession.userSession.value.id,
            status: status,
            type: type,
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, tags, receiversId)
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    DetailSalespropAdminComponent.prototype.getSellerOfProperty = function (propertyId) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.sellerService
                            .getSellerAll()
                            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["map"])(function (sellers) {
                            return sellers.find(function (s) { return !!s.property.find(function (p) { return p._id === propertyId; }); });
                        }))
                            .toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    DetailSalespropAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-detail-salesprop-admin',
            template: __webpack_require__(/*! ./detail-salesprop-admin.component.html */ "./src/app/components/admin/detail-salesprop-admin/detail-salesprop-admin.component.html"),
            styles: [__webpack_require__(/*! ./detail-salesprop-admin.component.scss */ "./src/app/components/admin/detail-salesprop-admin/detail-salesprop-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_1__["StatusBuyerPropertyService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__["UserSessionService"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_3__["PropertyService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["ActivatedRoute"],
            _services_buyer_service__WEBPACK_IMPORTED_MODULE_7__["BuyerService"],
            _services_sale_service__WEBPACK_IMPORTED_MODULE_9__["SaleService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_10__["OnesignalService"],
            _services_seller_service__WEBPACK_IMPORTED_MODULE_11__["SellerService"]])
    ], DetailSalespropAdminComponent);
    return DetailSalespropAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/detail-seller-admin/detail-seller-admin.component.html":
/*!*****************************************************************************************!*\
  !*** ./src/app/components/admin/detail-seller-admin/detail-seller-admin.component.html ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button style=\"color: white !important\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>\n      Detalles\n    </ion-title>\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Detalles Propietarios'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ion-grid fixed>\n    <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n    <ng-template #thenTemplate>\n      <h1> Detalles de Propietario </h1>\n\n      <ion-card>\n\n\n        <ion-card-header>\n          <ion-card-subtitle> {{seller.name}} {{seller.lastName}} </ion-card-subtitle>\n          <ion-card-title> {{seller.name}} </ion-card-title>\n        </ion-card-header>\n        <ion-item>\n          <ion-label>Ciudad: {{seller.city}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label *ngIf=\"!seller.isRenter\">Tipo: Vendedor</ion-label>\n          <ion-label *ngIf=\"seller.isRenter\">Tipo: Renta</ion-label>\n        </ion-item>\n\n      </ion-card>\n      <!-- prop -->\n      <h1 *ngIf=\"seller.property && seller.property.length > 0\">Propiedades </h1>\n      <ion-card *ngFor=\"let prop  of seller.property \">\n        <ion-item>\n          <ion-label>Nombre {{prop.name}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label>Zona {{prop.zone}}</ion-label>\n        </ion-item>\n      </ion-card>\n      <!-- schedule -->\n      <!--   <h1 *ngIf=\"adviser.schedule && adviser.schedule.length > 0\"> Citas </h1>\n      <ion-card *ngFor=\"let schedule  of adviser.schedule \" [ngClass]=\"{'state-verde': schedule.status === 'verde', \n      'state-amarillo': schedule.status === 'amarillo',\n      'state-rojo': schedule.status === 'rojo',\n      'state-azul': schedule.status === 'azul' }\">\n        <ion-item>\n          <ion-label>Propiedad {{schedule.property.name}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label>Fecha {{schedule.day}}/{{schedule.month}}/{{schedule.year}}</ion-label>\n        </ion-item>\n        <ion-item *ngIf=\"schedule.minute < 10\" text-wrap>Hora:\n          {{schedule.hour}}:0{{schedule.minute}}</ion-item>\n        <ion-item *ngIf=\"schedule.minute >= 10\" text-wrap>Hora:\n          {{schedule.hour}}:{{schedule.minute}}</ion-item>\n        <ion-item>\n          <ion-label>Lugar {{schedule.address}}</ion-label>\n        </ion-item>\n      </ion-card> -->\n\n    </ng-template>\n    <ng-template #elseTemplate style=\"text-align: center\">\n      <ion-spinner name=\"bubbles\"></ion-spinner>\n\n    </ng-template>\n  </ion-grid>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/admin/detail-seller-admin/detail-seller-admin.component.scss":
/*!*****************************************************************************************!*\
  !*** ./src/app/components/admin/detail-seller-admin/detail-seller-admin.component.scss ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/admin/detail-seller-admin/detail-seller-admin.component.ts":
/*!***************************************************************************************!*\
  !*** ./src/app/components/admin/detail-seller-admin/detail-seller-admin.component.ts ***!
  \***************************************************************************************/
/*! exports provided: DetailSellerAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetailSellerAdminComponent", function() { return DetailSellerAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_seller_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/seller.service */ "./src/app/services/seller.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var DetailSellerAdminComponent = /** @class */ (function () {
    function DetailSellerAdminComponent(route, sellerService) {
        var _this = this;
        this.route = route;
        this.sellerService = sellerService;
        this.isLoad = false;
        this.isLiked = false;
        this.arrPropLikes = [];
        this.arrSBP = [];
        this.route.queryParams.subscribe(function (params) {
            console.log(params.id);
            if (params.id) {
                _this.getAdviserById(params.id);
            }
        });
    }
    DetailSellerAdminComponent.prototype.ngOnInit = function () { };
    DetailSellerAdminComponent.prototype.getAdviserById = function (id) {
        var _this = this;
        this.isLoad = false;
        this.sellerService.getSellerById(id).subscribe(function (seller) {
            _this.seller = seller;
            console.log(_this.seller);
            _this.isLoad = true;
        });
    };
    DetailSellerAdminComponent.prototype.formatDates = function (dateInput) {
        var day = new Date(dateInput).getDate().toString();
        var month = (new Date(dateInput).getMonth() + 1).toString();
        var year = new Date(dateInput).getFullYear().toString();
        var date = day + '/' + month + '/' + year;
        return date;
    };
    DetailSellerAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-detail-seller-admin',
            template: __webpack_require__(/*! ./detail-seller-admin.component.html */ "./src/app/components/admin/detail-seller-admin/detail-seller-admin.component.html"),
            styles: [__webpack_require__(/*! ./detail-seller-admin.component.scss */ "./src/app/components/admin/detail-seller-admin/detail-seller-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _services_seller_service__WEBPACK_IMPORTED_MODULE_2__["SellerService"]])
    ], DetailSellerAdminComponent);
    return DetailSellerAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-adviser-admin/list-adviser-admin.component.html":
/*!***************************************************************************************!*\
  !*** ./src/app/components/admin/list-adviser-admin/list-adviser-admin.component.html ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <!--  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Asesores\n    </ion-title>\n\n\n  </ion-toolbar> -->\n  <ion-header>\n    <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Asesores'\" [buttonNotification]=\"'notifications'\"\n      [buttonUser]=\"'person'\"></app-menu-general>\n  </ion-header>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then Load; else noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <mat-drawer [class.mat-elevation-z1]=true position=\"end\" #drawer class=\"sidenav\" [mode]=\"isDesktop ? 'side' : 'over'\"\n        [opened]=\"openMenu\">\n        <app-filter-adviser (filters)=\"getFilters($event)\" (resetAll)=\"getAdviserAll()\" (closeMenu)=\"drawer.close()\"\n          [isDesktop]=\"isDesktop\"></app-filter-adviser>\n      </mat-drawer>\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilters}})\n        </ion-button>\n      </ion-item>\n      <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros {{(drawer.openedChange | async) ? 'cerrar' : 'abrir'}}\n        </ion-button>\n      </ion-item>\n\n      <!-- /filtros boton -->\n\n      <!-- Table  -->\n      <h2>Lista de Asesores </h2>\n      <app-general-table [columns]=\"columns\" [rows]=\"rows\" [isDesktop]=\"isDesktop\" (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\" (detailsButton)=\"detailAdv($event)\"></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n\n\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newBuyer()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>"

/***/ }),

/***/ "./src/app/components/admin/list-adviser-admin/list-adviser-admin.component.scss":
/*!***************************************************************************************!*\
  !*** ./src/app/components/admin/list-adviser-admin/list-adviser-admin.component.scss ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-adviser-admin/list-adviser-admin.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/list-adviser-admin/list-adviser-admin.component.ts ***!
  \*************************************************************************************/
/*! exports provided: ListAdviserAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListAdviserAdminComponent", function() { return ListAdviserAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_adviser_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/adviser.service */ "./src/app/services/adviser.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _services_sale_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/sale.service */ "./src/app/services/sale.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var ListAdviserAdminComponent = /** @class */ (function () {
    function ListAdviserAdminComponent(adviserService, platform, router, alertController, toastController, navCtr, route, salesService) {
        this.adviserService = adviserService;
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.navCtr = navCtr;
        this.route = route;
        this.salesService = salesService;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // buyers
        this.adviser = [];
        this.realData = [];
        // numofFilters
        this.numOfFilters = 0;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListAdviserAdminComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: 'Nombre',
                prop: 'name',
                type: 'normal',
            },
            {
                name: 'Apellido',
                prop: 'lastName',
                type: 'normal',
            },
            {
                name: 'Fecha Alta',
                prop: 'timestamp',
                type: 'date',
            },
            {
                name: '# De Consumidores',
                prop: 'numOfBuyers',
                type: 'normal',
            },
            {
                name: 'Disponibilidad',
                prop: 'range',
                type: 'normal',
            },
            /* {
              name: '# Renta/Venta',
              prop: 'numOfSale',
              type: 'normal',
            }, */
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonEdit: true,
                buttonDeleted: true,
                buttonDetails: true,
            },
        ];
        this.getAdviserAll();
    };
    ListAdviserAdminComponent.prototype.getAdviserAll = function () {
        var _this = this;
        this.numOfFilters = 0;
        this.adviserService.getAdviserAll().subscribe(function (adv) {
            _this.realData = adv;
            _this.adviser = adv;
            _this.setRows(_this.realData);
        });
    };
    ListAdviserAdminComponent.prototype.setRows = function (advisers) {
        return __awaiter(this, void 0, void 0, function () {
            var rows;
            return __generator(this, function (_a) {
                rows = [];
                advisers.forEach(function (adviser, i) {
                    var numOfBuyers = 0;
                    var range = "De " + adviser.hourStart + " a " + adviser.hourEnd;
                    if (adviser.buyer) {
                        numOfBuyers = adviser.buyer.length;
                    }
                    rows.push({
                        _id: adviser._id,
                        name: adviser.name,
                        lastName: adviser.lastName,
                        timestamp: adviser.timestamp,
                        numOfBuyers: numOfBuyers,
                        range: range,
                    });
                });
                this.rows = rows;
                this.isLoading = true;
                return [2 /*return*/];
            });
        });
    };
    ListAdviserAdminComponent.prototype.getNumOfSales = function (advisers) {
        var _this = this;
        var arrNum = [];
        advisers.forEach(function (adviser) { return __awaiter(_this, void 0, void 0, function () {
            var sale;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.salesService
                            .getSaleByIdAdv(adviser._id)
                            .toPromise()];
                    case 1:
                        sale = _a.sent();
                        arrNum.push(sale.length);
                        return [2 /*return*/];
                }
            });
        }); });
        return arrNum;
    };
    ListAdviserAdminComponent.prototype.newBuyer = function () {
        var data = {
            queryParams: { id: 'new' },
        };
        this.router.navigate(['new-edit-adviser']);
    };
    ListAdviserAdminComponent.prototype.edit = function (item) {
        var data = {
            queryParams: { id: item._id },
        };
        this.router.navigate(['new-edit-adviser'], data);
        // this.navCtr.navigateRoot('new-buyer', false, data);
    };
    ListAdviserAdminComponent.prototype.deleted = function (adviser) {
        var _this = this;
        this.adviserService
            .deletedAdviserById(adviser._id)
            .toPromise()
            .then(function () {
            _this.getAdviserAll();
        });
    };
    ListAdviserAdminComponent.prototype.detailAdv = function (buyer) {
        var data = {
            queryParams: { id: buyer._id },
        };
        this.router.navigate(['detail-adviser-admin'], data);
    };
    ListAdviserAdminComponent.prototype.presentAlertConfirm = function (adviser) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Usuario',
                            message: "\u00BFDesea eliminar usuario: <strong>" + adviser.name + "</strong>?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    },
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    },
                                },
                            ],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleted(adviser);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListAdviserAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListAdviserAdminComponent.prototype.getFilters = function (filters) {
        var advFinded = this.adviser.filter(function (adv) { return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_4__["OnlyDates"])(adv, filters); });
        console.log(advFinded);
        //  setea buyers
        this.setRows(advFinded);
        // num filters
        var numFilters = 0;
        if (filters.day) {
            numFilters++;
        }
        if (filters.month) {
            numFilters++;
        }
        if (filters.year) {
            numFilters++;
        }
        if (filters.status) {
            numFilters++;
        }
        this.numOfFilters = numFilters;
    };
    ListAdviserAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-adviser-admin',
            template: __webpack_require__(/*! ./list-adviser-admin.component.html */ "./src/app/components/admin/list-adviser-admin/list-adviser-admin.component.html"),
            styles: [__webpack_require__(/*! ./list-adviser-admin.component.scss */ "./src/app/components/admin/list-adviser-admin/list-adviser-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_adviser_service__WEBPACK_IMPORTED_MODULE_1__["AdviserService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
            _services_sale_service__WEBPACK_IMPORTED_MODULE_5__["SaleService"]])
    ], ListAdviserAdminComponent);
    return ListAdviserAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-build-admin/list-build-admin.component.html":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/list-build-admin/list-build-admin.component.html ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Obras\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Obras'\" [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then Load; else noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <mat-drawer [class.mat-elevation-z1]=true position=\"end\" #drawer2 class=\"sidenav\" [mode]=\"isDesktop ? 'side' : 'over'\"\n        [opened]=\"openMenu\">\n        <app-filter-build (filters)=\"getFilters($event)\" (resetAll)=\"getBuildAll()\" (closeMenu)=\"drawer2.close()\"\n          [isDesktop]=\"isDesktop\"></app-filter-build>\n      </mat-drawer>\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer2.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilters}})\n        </ion-button>\n      </ion-item>\n      <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer2.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros {{(drawer2.openedChange | async) ? 'cerrar' : 'abrir'}}\n        </ion-button>\n      </ion-item>\n\n      <!-- /filtros boton -->\n\n      <!-- Table  -->\n      <h2>Lista de Obras </h2>\n      <app-general-table [columns]=\"columns\" [rows]=\"rows\" [isDesktop]=\"isDesktop\" (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\" (detailsButton)=\"detailBuild($event)\"></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n\n\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newBuild()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>"

/***/ }),

/***/ "./src/app/components/admin/list-build-admin/list-build-admin.component.scss":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/list-build-admin/list-build-admin.component.scss ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-build-admin/list-build-admin.component.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/components/admin/list-build-admin/list-build-admin.component.ts ***!
  \*********************************************************************************/
/*! exports provided: ListBuildAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListBuildAdminComponent", function() { return ListBuildAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_build_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/build.service */ "./src/app/services/build.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var ListBuildAdminComponent = /** @class */ (function () {
    function ListBuildAdminComponent(buildService, platform, router, alertController, toastController, navCtr, route) {
        this.buildService = buildService;
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.navCtr = navCtr;
        this.route = route;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // buildings
        this.buildings = [];
        // numofFilters
        this.numOfFilters = 0;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListBuildAdminComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: 'Nombre',
                prop: 'name',
                type: 'normal',
            },
            {
                name: '#Constructores',
                prop: 'maker',
                type: 'number',
            },
            {
                name: 'Ciudad',
                prop: 'city',
                type: 'normal',
            },
            {
                name: 'Fecha Inicio',
                prop: 'timestamp',
                type: 'date',
            },
            {
                name: 'Fecha Fin',
                prop: 'dateToEnd',
                type: 'date',
            },
            {
                name: 'Completado',
                prop: 'isComplete',
                type: 'boolean',
            },
            {
                name: 'notas',
                prop: 'notes',
                type: 'normal',
            },
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonEdit: true,
                buttonDeleted: true,
                buttonDetails: true,
            },
        ];
        this.getBuildAll();
    };
    ListBuildAdminComponent.prototype.getBuildAll = function () {
        var _this = this;
        this.numOfFilters = 0;
        this.buildService.getBuildAll().subscribe(function (buildings) {
            _this.buildings = buildings;
            console.log(buildings);
            _this.setRows(_this.buildings);
        });
    };
    ListBuildAdminComponent.prototype.setRows = function (buildings) {
        var rows = [];
        buildings.forEach(function (build) {
            var dateToEnd = new Date();
            var isComplete = true;
            if (build.timeLine) {
                var lastIndex = build.timeLine.length - 1;
                if (build.timeLine.length > 0) {
                    build.timeLine.forEach(function (tl) {
                        if (tl.isComplete === false || tl.isComplete === undefined) {
                            isComplete = false;
                        }
                    });
                    var lastPhase = build.timeLine[lastIndex];
                    dateToEnd = new Date(lastPhase.yearToEnd, lastPhase.monthToEnd, lastPhase.dayToEnd);
                }
            }
            rows.push({
                _id: build._id,
                name: build.name,
                maker: build.maker.length,
                city: build.city,
                notes: build.notes,
                timestamp: build.timestamp,
                dateToEnd: dateToEnd,
                isComplete: isComplete,
            });
        });
        this.rows = rows;
        this.isLoading = true;
    };
    ListBuildAdminComponent.prototype.newBuild = function () {
        this.router.navigate(['new-edit-build']);
    };
    ListBuildAdminComponent.prototype.edit = function (item) {
        var data = {
            queryParams: { id: item._id },
        };
        this.router.navigate(['new-edit-build'], data);
        // this.navCtr.navigateRoot('new-buyer', false, data);
    };
    ListBuildAdminComponent.prototype.deleted = function (prop) {
        var _this = this;
        this.buildService
            .deltedBuildById(prop._id)
            .toPromise()
            .then(function () {
            _this.getBuildAll();
        });
    };
    ListBuildAdminComponent.prototype.detailBuild = function (prop) {
        var data = {
            queryParams: { id: prop._id },
        };
        this.router.navigate(['detail-build-admin'], data);
    };
    ListBuildAdminComponent.prototype.presentAlertConfirm = function (prop) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Obra',
                            message: "\u00BFDesea eliminar obra: <strong>" + prop.name + "</strong>?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    },
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    },
                                },
                            ],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleted(prop);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListBuildAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListBuildAdminComponent.prototype.getFilters = function (filters) {
        console.log(filters);
        var advFinded = this.buildings.filter(function (b) { return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_4__["FilerBuild"])(b, filters); });
        //  setea buyers
        this.setRows(advFinded);
        // num
        var numFilters = 0;
        if (filters.day) {
            numFilters++;
        }
        if (filters.month) {
            numFilters++;
        }
        if (filters.year) {
            numFilters++;
        }
        if (filters.isComplete !== undefined || filters.isComplete !== null) {
            numFilters++;
        }
        if (filters.day2) {
            numFilters++;
        }
        if (filters.month2) {
            numFilters++;
        }
        if (filters.year2) {
            numFilters++;
        }
        this.numOfFilters = numFilters;
    };
    ListBuildAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-build-admin',
            template: __webpack_require__(/*! ./list-build-admin.component.html */ "./src/app/components/admin/list-build-admin/list-build-admin.component.html"),
            styles: [__webpack_require__(/*! ./list-build-admin.component.scss */ "./src/app/components/admin/list-build-admin/list-build-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_build_service__WEBPACK_IMPORTED_MODULE_1__["BuildService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]])
    ], ListBuildAdminComponent);
    return ListBuildAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-buyer-admin/list-buyer-admin.component.html":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/list-buyer-admin/list-buyer-admin.component.html ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <!-- <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Clientes\n    </ion-title>\n\n  </ion-toolbar> -->\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Clientes'\" [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then Load; else noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <mat-drawer [class.mat-elevation-z1]=true position=\"end\" #drawer class=\"sidenav\" [mode]=\"isDesktop ? 'side' : 'over'\"\n        [opened]=\"openMenu\">\n        <app-general-filter-buyer (filters)=\"getFilters($event)\" (resetAll)=\"getBuyerAll()\" (closeMenu)=\"drawer.close()\"\n          [isDesktop]=\"isDesktop\" [propertiesName]=\"propertiesName\"></app-general-filter-buyer>\n      </mat-drawer>\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilters}})\n        </ion-button>\n      </ion-item>\n      <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros {{(drawer.openedChange | async) ? 'cerrar' : 'abrir'}}\n        </ion-button>\n      </ion-item>\n\n      <!-- /filtros boton -->\n\n      <!-- Table  -->\n      <h2>Lista de Clientes </h2>\n      <app-general-table [columns]=\"columns\" [rows]=\"rows\" [isDesktop]=\"isDesktop\" (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\" (detailsButton)=\"detailBuyer($event)\" [showLoader]=\"showLoaderTable\"></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n\n\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab *ngIf=\"user.type !== 'seller'\" vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newBuyer()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>\n<!-- Solo vendedor y asesor -->\n<ion-footer *ngIf=\"(user.type === 'adviser' || user.type === 'seller') && sales\">\n  <ion-toolbar>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"sendToTotalSales()\" fill=\"solid\" color=\"secondary\">\n        Ventas<ion-badge color=\"dark\" style=\" margin-left: 2%;\">{{sales.length}}</ion-badge>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-footer>"

/***/ }),

/***/ "./src/app/components/admin/list-buyer-admin/list-buyer-admin.component.scss":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/list-buyer-admin/list-buyer-admin.component.scss ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n\n.toast-adv {\n  --background: #f5bd8d;\n  --color: black;\n  font-size: 15px; }\n"

/***/ }),

/***/ "./src/app/components/admin/list-buyer-admin/list-buyer-admin.component.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/components/admin/list-buyer-admin/list-buyer-admin.component.ts ***!
  \*********************************************************************************/
/*! exports provided: ListBuyerAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListBuyerAdminComponent", function() { return ListBuyerAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/status-buyer-property.service */ "./src/app/services/status-buyer-property.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/dist/index.js");
/* harmony import */ var _services_sale_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/sale.service */ "./src/app/services/sale.service.ts");
/* harmony import */ var _services_seller_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/seller.service */ "./src/app/services/seller.service.ts");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};











var ListBuyerAdminComponent = /** @class */ (function () {
    function ListBuyerAdminComponent(buyerService, sBPService, platform, menuCtr, router, alertController, toastController, navCtr, userSession, storage, saleService, sellerService, propertyService) {
        this.buyerService = buyerService;
        this.sBPService = sBPService;
        this.platform = platform;
        this.menuCtr = menuCtr;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.navCtr = navCtr;
        this.userSession = userSession;
        this.storage = storage;
        this.saleService = saleService;
        this.sellerService = sellerService;
        this.propertyService = propertyService;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // buyers
        this.buyers = [];
        this.realData = [];
        // numofFilters
        this.numOfFilters = 0;
        this.user = userSession.userSession.value;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListBuyerAdminComponent.prototype.ngOnInit = function () {
        this.columns = [
            {
                name: 'Nombre',
                prop: 'name',
                type: 'normal',
            },
            {
                name: 'Apellido',
                prop: 'fatherLastName',
                type: 'normal',
            },
            {
                name: 'Fecha Alta',
                prop: 'timestamp',
                type: 'date',
            },
            {
                name: 'Teléfono',
                prop: 'phone',
                type: 'phone',
            },
            {
                name: 'Estado',
                prop: 'properties',
                type: 'status',
            },
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonEdit: true,
                buttonDeleted: this.user.type === 'administrator' || this.user.type === 'office'
                    ? true
                    : false,
                buttonDetails: true,
            },
        ];
        this.getBuyerAll();
        this.getProperty();
    };
    ListBuyerAdminComponent.prototype.getProperty = function () {
        return __awaiter(this, void 0, void 0, function () {
            var p;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.propertyService.getAllSpecial().toPromise()];
                    case 1:
                        p = _a.sent();
                        this.propertiesName = p.map(function (property) { return property.name; });
                        return [2 /*return*/];
                }
            });
        });
    };
    ListBuyerAdminComponent.prototype.getBuyerAll = function () {
        var _this = this;
        this.numOfFilters = 0;
        this.showLoaderTable = true;
        if (this.user.type === 'administrator' || this.user.type === 'office') {
            // si es admin
            this.buyerService.getBuyerAll().subscribe(function (buyers) {
                _this.realData = buyers;
                _this.buyers = buyers;
                _this.setRows(_this.realData);
            });
        }
        else if (this.user.type === 'adviser') {
            // si es adviser
            this.toastPresent("Bienvenido " + this.user.name);
            this.buyerService.getBuyerAll().subscribe(function (buyers) {
                // filtra por id en buyer !!!
                var buyerFilter = buyers.filter(function (b) {
                    return !!b.adviser.find(function (adv) { return adv._id === _this.user.id; });
                });
                _this.realData = buyerFilter;
                _this.buyers = buyerFilter;
                _this.setRows(_this.realData);
                _this.getTotalSalesByAdv();
            });
        }
        else if (this.user.type === 'seller') {
            // si es seller
            this.toastPresent("Bienvenido " + this.user.name);
            this.buyerService.getBuyerAll().subscribe(function (buyers) {
                _this.sellerService.getSellerById(_this.user.id).subscribe(function (seller) {
                    console.log(buyers);
                    console.log(seller);
                    // todos lo que le dieron me guta a las propiedades del seller
                    var buyerFilter = buyers.filter(function (b) {
                        return !!b.statusBuyerProperty.find(function (sbp) {
                            return !!seller.property.find(function (p) { return p._id === sbp.property._id; });
                        });
                    });
                    console.log(buyerFilter);
                    _this.setRows(buyerFilter);
                    _this.getTotalSalesBySeller(seller);
                });
            });
        }
    };
    ListBuyerAdminComponent.prototype.setRows = function (buyers) {
        /* this.rows = [];
        this.rows.length = 0; */
        var rows = [];
        buyers.forEach(function (buyer) {
            var properties = [];
            if (buyer.statusBuyerProperty && buyer.statusBuyerProperty.length > 0) {
                buyer.statusBuyerProperty.forEach(function (sBP) {
                    properties.push({
                        name: sBP.property.name,
                        status: sBP.status,
                    });
                });
            }
            else {
                properties.push({
                    name: 'Sin interés',
                    status: 'gris',
                });
            }
            rows.push({
                _id: buyer._id,
                name: buyer.name,
                fatherLastName: buyer.fatherLastName,
                timestamp: buyer.timestamp,
                phone: buyer.phone,
                properties: properties,
            });
        });
        this.rows = rows;
        this.isLoading = true;
        this.showLoaderTable = false;
    };
    ListBuyerAdminComponent.prototype.newBuyer = function () {
        /* this.router.navigate(['new-buyer']);
        this.rows.length = 0; */
        this.router.navigate(['new-buyer']);
    };
    ListBuyerAdminComponent.prototype.edit = function (item) {
        var data = {
            queryParams: { id: item._id },
        };
        this.router.navigate(['new-buyer'], data);
        // this.navCtr.navigateRoot('new-buyer', false, data);
    };
    ListBuyerAdminComponent.prototype.deleted = function (buyer) {
        var _this = this;
        this.buyerService
            .deletedBuyer(buyer)
            .toPromise()
            .then(function () {
            _this.getBuyerAll();
        });
    };
    ListBuyerAdminComponent.prototype.detailBuyer = function (buyer) {
        var data = {
            queryParams: { id: buyer._id },
        };
        this.router.navigate(['detail-buyer-admin'], data);
    };
    ListBuyerAdminComponent.prototype.getTotalSalesByAdv = function () {
        var _this = this;
        this.saleService.getSaleByIdAdv(this.user.id).subscribe(function (sales) {
            _this.sales = sales;
        });
    };
    ListBuyerAdminComponent.prototype.getTotalSalesBySeller = function (seller) {
        var _this = this;
        this.saleService.getSale().subscribe(function (sales) {
            _this.sales = sales.filter(function (s) {
                return !!seller.property.find(function (p) { return p._id === s.property._id; });
            });
        });
    };
    ListBuyerAdminComponent.prototype.sendToTotalSales = function () {
        if (this.sales.length > 0) {
            this.router.navigate(['list-sales-admin']);
        }
    };
    ListBuyerAdminComponent.prototype.presentAlertConfirm = function (buyer) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Usuario',
                            message: "\u00BFDesea eliminar usuario: <strong>" + buyer.name + "</strong>?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) { },
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    },
                                },
                            ],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleted(buyer);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListBuyerAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListBuyerAdminComponent.prototype.getFilters = function (filters) {
        var buyersFinded = this.buyers.filter(function (buyer) {
            return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_4__["BuyersFilters"])(buyer, filters);
        });
        //  setea buyers
        this.setRows(buyersFinded);
        // num filters
        var numFilters = 0;
        if (filters.day) {
            numFilters++;
        }
        if (filters.month) {
            numFilters++;
        }
        if (filters.year) {
            numFilters++;
        }
        if (filters.status) {
            numFilters++;
        }
        this.numOfFilters = numFilters;
    };
    ListBuyerAdminComponent.prototype.toastPresent = function (m) {
        if (m === void 0) { m = 'Eventos pendientes hoy'; }
        return __awaiter(this, void 0, void 0, function () {
            var isPresent, toast;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.get('alert-adv')];
                    case 1:
                        isPresent = _a.sent();
                        if (!(+isPresent !== new Date().getDate())) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.toastController.create({
                                message: m,
                                position: 'bottom',
                                showCloseButton: false,
                                cssClass: 'toast-adv',
                                duration: 4000,
                            })];
                    case 2:
                        toast = _a.sent();
                        toast.present();
                        toast.onWillDismiss().then(function () {
                            _this.storage.set('alert-adv', new Date().getDate());
                        });
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ListBuyerAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-buyer-admin',
            template: __webpack_require__(/*! ./list-buyer-admin.component.html */ "./src/app/components/admin/list-buyer-admin/list-buyer-admin.component.html"),
            styles: [__webpack_require__(/*! ./list-buyer-admin.component.scss */ "./src/app/components/admin/list-buyer-admin/list-buyer-admin.component.scss")],
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [_services_buyer_service__WEBPACK_IMPORTED_MODULE_1__["BuyerService"],
            _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_2__["StatusBuyerPropertyService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["MenuController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavController"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_6__["UserSessionService"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_7__["Storage"],
            _services_sale_service__WEBPACK_IMPORTED_MODULE_8__["SaleService"],
            _services_seller_service__WEBPACK_IMPORTED_MODULE_9__["SellerService"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_10__["PropertyService"]])
    ], ListBuyerAdminComponent);
    return ListBuyerAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-credit-admin/list-credit-admin.component.html":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/list-credit-admin/list-credit-admin.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Créditos\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Créditos'\" [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then Load; else noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <!-- <mat-drawer [class.mat-elevation-z1]=true position=\"end\" #drawer class=\"sidenav\" [mode]=\"isDesktop ? 'side' : 'over'\"\n        [opened]=\"openMenu\">\n        <app-filter-seller (filters)=\"getFilters($event)\" (resetAll)=\"getSellerAll()\" (closeMenu)=\"drawer.close()\"\n          [isDesktop]=\"isDesktop\"></app-filter-seller>\n      </mat-drawer> -->\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <!-- <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilters}})\n        </ion-button>\n      </ion-item>\n      <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros {{(drawer.openedChange | async) ? 'cerrar' : 'abrir'}}\n        </ion-button>\n      </ion-item> -->\n\n      <!-- /filtros boton -->\n\n      <!-- Table  -->\n      <h2>Lista de Créditos</h2>\n      <app-general-table [columns]=\"columns\" [rows]=\"rows\" [isDesktop]=\"isDesktop\" (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\"></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n\n\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<!-- <ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newBuyer()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab> -->"

/***/ }),

/***/ "./src/app/components/admin/list-credit-admin/list-credit-admin.component.scss":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/list-credit-admin/list-credit-admin.component.scss ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-credit-admin/list-credit-admin.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/list-credit-admin/list-credit-admin.component.ts ***!
  \***********************************************************************************/
/*! exports provided: ListCreditAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListCreditAdminComponent", function() { return ListCreditAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_credit_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/credit.service */ "./src/app/services/credit.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var ListCreditAdminComponent = /** @class */ (function () {
    function ListCreditAdminComponent(creditService, platform, router, alertController, toastController, navCtr, route) {
        this.creditService = creditService;
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.navCtr = navCtr;
        this.route = route;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // credit
        this.credits = [];
        // numofFilters
        this.numOfFilters = 0;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListCreditAdminComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: 'Nombre Consumidor',
                prop: 'buyerName',
                type: 'normal',
            },
            {
                name: 'Nombre Prop',
                prop: 'propertyName',
                type: 'normal',
            },
            {
                name: 'Notas',
                prop: 'notes',
                type: 'normal',
            },
            {
                name: 'Modificado',
                prop: 'timestamp',
                type: 'date',
            },
            {
                name: 'Estado',
                prop: 'properties',
                type: 'status',
            },
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonEdit: true,
                buttonDeleted: true,
            },
        ];
        this.getCreditAll();
    };
    ListCreditAdminComponent.prototype.getCreditAll = function () {
        var _this = this;
        this.numOfFilters = 0;
        this.creditService.getCredit().subscribe(function (credits) {
            _this.credits = credits;
            console.log(credits);
            _this.setRows(_this.credits);
        });
    };
    ListCreditAdminComponent.prototype.setRows = function (credits) {
        var rows = [];
        credits.forEach(function (credit) {
            var properties = [];
            if (credit.status) {
                if (credit.status === 'verde') {
                    properties.push({
                        name: 'Interés',
                        status: credit.status,
                    });
                }
                else if (credit.status === 'amarillo') {
                    properties.push({
                        name: 'Negociación',
                        status: credit.status,
                    });
                }
                else if (credit.status === 'rojo') {
                    properties.push({
                        name: 'Respuesta',
                        status: credit.status,
                    });
                }
                else if (credit.status === 'azul') {
                    properties.push({
                        name: 'Post Venta',
                        status: credit.status,
                    });
                }
            }
            rows.push({
                _id: credit._id,
                buyerName: credit.buyer.name,
                propertyName: credit.property.name,
                notes: credit.notes,
                timestamp: credit.timestamp,
                properties: properties,
            });
        });
        this.rows = rows;
        this.isLoading = true;
    };
    ListCreditAdminComponent.prototype.edit = function (item) {
        console.log(item);
        var data = {
            queryParams: { id: item._id },
        };
        this.router.navigate(['new-edit-credit'], data);
        // this.navCtr.navigateRoot('new-buyer', false, data);
    };
    ListCreditAdminComponent.prototype.deleted = function (c) {
        var _this = this;
        this.creditService
            .deleteCredit(c._id)
            .toPromise()
            .then(function () {
            _this.getCreditAll();
        });
    };
    ListCreditAdminComponent.prototype.presentAlertConfirm = function (c) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Credito',
                            message: "\u00BFDesea eliminar credito ?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    },
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    },
                                },
                            ],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleted(c);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListCreditAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListCreditAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-credit-admin',
            template: __webpack_require__(/*! ./list-credit-admin.component.html */ "./src/app/components/admin/list-credit-admin/list-credit-admin.component.html"),
            styles: [__webpack_require__(/*! ./list-credit-admin.component.scss */ "./src/app/components/admin/list-credit-admin/list-credit-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_credit_service__WEBPACK_IMPORTED_MODULE_1__["CreditService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]])
    ], ListCreditAdminComponent);
    return ListCreditAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-goals/list-goals.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/components/admin/list-goals/list-goals.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Objetivos\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Objetivos'\" [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then Load; else noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <!-- <mat-drawer [class.mat-elevation-z1]=true position=\"end\" #drawer class=\"sidenav\" [mode]=\"isDesktop ? 'side' : 'over'\"\n            [opened]=\"openMenu\">\n            <app-filter-seller (filters)=\"getFilters($event)\" (resetAll)=\"getSellerAll()\" (closeMenu)=\"drawer.close()\"\n              [isDesktop]=\"isDesktop\"></app-filter-seller>\n          </mat-drawer> -->\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <!-- <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n            <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n              <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilters}})\n            </ion-button>\n          </ion-item>\n          <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n            <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n              <ion-icon name=\"funnel\"></ion-icon>Filtros {{(drawer.openedChange | async) ? 'cerrar' : 'abrir'}}\n            </ion-button>\n          </ion-item> -->\n\n      <!-- /filtros boton -->\n\n      <!-- Table  -->\n      <h2>Lista de Objetivos</h2>\n      <app-general-table [columns]=\"columns\" [rows]=\"rows\" [isDesktop]=\"isDesktop\" (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\" (detailsButton)=\"detail($event)\"></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n\n\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newOfert()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>"

/***/ }),

/***/ "./src/app/components/admin/list-goals/list-goals.component.scss":
/*!***********************************************************************!*\
  !*** ./src/app/components/admin/list-goals/list-goals.component.scss ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-goals/list-goals.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/components/admin/list-goals/list-goals.component.ts ***!
  \*********************************************************************/
/*! exports provided: ListGoalsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListGoalsComponent", function() { return ListGoalsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_goal_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/goal.service */ "./src/app/services/goal.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var ListGoalsComponent = /** @class */ (function () {
    function ListGoalsComponent(goalService, platform, router, alertController, toastController, route, userSession) {
        this.goalService = goalService;
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.route = route;
        this.userSession = userSession;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // goals
        this.goals = [];
        // numofFilters
        this.numOfFilters = 0;
        this.user = userSession.userSession.value;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListGoalsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: 'Titulo Objetivo',
                prop: 'title',
                type: 'normal',
            },
            {
                name: 'Número de Asesores',
                prop: 'numAdviser',
                type: 'number',
            },
            {
                name: 'Grupal',
                prop: 'isByManagement',
                type: 'boolean',
            },
            {
                name: 'Inicio',
                prop: 'timestamp',
                type: 'date',
            },
            {
                name: 'Fin',
                prop: 'dateToFinish',
                type: 'date',
            },
            {
                name: 'Contenido',
                prop: 'content',
                type: 'normal',
            },
            {
                name: 'Estado',
                prop: 'status',
                type: 'status',
            },
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonEdit: true,
                buttonDeleted: true,
                buttonDetails: true,
            },
        ];
        this.getGoalAll();
    };
    ListGoalsComponent.prototype.getGoalAll = function () {
        var _this = this;
        this.isLoading = false;
        this.numOfFilters = 0;
        if (this.user.type === 'adviser') {
            this.goalService.getGoal().subscribe(function (goal) {
                _this.goals = goal.filter(function (g) {
                    return !!g.adviser.find(function (adv) { return adv._id === _this.user.id; });
                });
                _this.setRows(_this.goals);
            });
        }
        else {
            this.goalService.getGoal().subscribe(function (goal) {
                _this.goals = goal;
                _this.setRows(_this.goals);
            });
        }
    };
    ListGoalsComponent.prototype.newOfert = function () {
        this.router.navigate(['new-edit-goal']);
    };
    ListGoalsComponent.prototype.setRows = function (goals) {
        var rows = [];
        goals.forEach(function (goal) {
            var properties = [];
            if (goal.status) {
                if (goal.status === 'amarillo') {
                    properties.push({
                        name: 'Media',
                        status: goal.status,
                    });
                }
                else if (goal.status === 'gris') {
                    properties.push({
                        name: 'En Espera',
                        status: goal.status,
                    });
                }
                else if (goal.status === 'verde') {
                    properties.push({
                        name: 'Baja',
                        status: goal.status,
                    });
                }
                else if (goal.status === 'rojo') {
                    properties.push({
                        name: 'Urgente',
                        status: goal.status,
                    });
                }
                else if (goal.status === 'azul') {
                    properties.push({
                        name: 'Cumplida',
                        status: goal.status,
                    });
                }
            }
            console.log(properties);
            rows.push({
                _id: goal._id,
                numAdviser: goal.adviser.length,
                adviser: goal.adviser,
                isByManagement: goal.isByManagement,
                title: goal.title,
                content: goal.content,
                timestamp: goal.timestamp,
                dateToFinish: new Date(goal.year, goal.month, goal.day),
                status: properties,
            });
        });
        this.rows = rows;
        this.isLoading = true;
    };
    ListGoalsComponent.prototype.edit = function (item) {
        var _this = this;
        console.log(item);
        if (item.isByManagement && this.user.type !== 'adviser') {
            var data = {
                queryParams: { id: item._id },
            };
            this.router.navigate(['new-edit-goal'], data);
        }
        else if (item.isByManagement && this.user.type === 'adviser') {
            this.presentToast('Acceso denegado');
        }
        if (!item.isByManagement) {
            var isFind = item.adviser.find(function (adv) { return adv._id === _this.user.id; });
            if (isFind) {
                var data = {
                    queryParams: { id: item._id },
                };
                this.router.navigate(['new-edit-goal'], data);
            }
            else {
                this.presentToast('Acceso denegado');
            }
        }
        // this.navCtr.navigateRoot('new-buyer', false, data);
    };
    ListGoalsComponent.prototype.deleted = function (c) {
        var _this = this;
        this.goalService
            .deleteGoal(c._id)
            .toPromise()
            .then(function () {
            _this.getGoalAll();
        });
    };
    ListGoalsComponent.prototype.detail = function (item) {
        var data = {
            queryParams: { id: item._id },
        };
        this.router.navigate(['detail-goal-admin'], data);
    };
    ListGoalsComponent.prototype.presentAlertConfirm = function (c) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Meta',
                            message: "\u00BFDesea eliminar meta ?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    },
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    },
                                },
                            ],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleted(c);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListGoalsComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListGoalsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-goals',
            template: __webpack_require__(/*! ./list-goals.component.html */ "./src/app/components/admin/list-goals/list-goals.component.html"),
            styles: [__webpack_require__(/*! ./list-goals.component.scss */ "./src/app/components/admin/list-goals/list-goals.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_goal_service__WEBPACK_IMPORTED_MODULE_3__["GoalService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_4__["UserSessionService"]])
    ], ListGoalsComponent);
    return ListGoalsComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-maker-admin/list-maker-admin.component.html":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/list-maker-admin/list-maker-admin.component.html ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Constructores\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Constructores'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then Load; else noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <!-- <mat-drawer [class.mat-elevation-z1]=true position=\"end\" #drawer class=\"sidenav\" [mode]=\"isDesktop ? 'side' : 'over'\"\n        [opened]=\"openMenu\">\n        <app-filter-seller (filters)=\"getFilters($event)\" (resetAll)=\"getSellerAll()\" (closeMenu)=\"drawer.close()\"\n          [isDesktop]=\"isDesktop\"></app-filter-seller>\n      </mat-drawer> -->\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <!-- <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilters}})\n        </ion-button>\n      </ion-item>\n      <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros {{(drawer.openedChange | async) ? 'cerrar' : 'abrir'}}\n        </ion-button>\n      </ion-item> -->\n\n      <!-- /filtros boton -->\n\n      <!-- Table  -->\n      <h2>Lista de Constructores</h2>\n      <app-general-table [columns]=\"columns\" [rows]=\"rows\" [isDesktop]=\"isDesktop\" (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\"></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n\n\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newBuild()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>"

/***/ }),

/***/ "./src/app/components/admin/list-maker-admin/list-maker-admin.component.scss":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/list-maker-admin/list-maker-admin.component.scss ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-maker-admin/list-maker-admin.component.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/components/admin/list-maker-admin/list-maker-admin.component.ts ***!
  \*********************************************************************************/
/*! exports provided: ListMakerAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListMakerAdminComponent", function() { return ListMakerAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_maker_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/maker.service */ "./src/app/services/maker.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var ListMakerAdminComponent = /** @class */ (function () {
    function ListMakerAdminComponent(makerService, platform, router, alertController, toastController, navCtr, route) {
        this.makerService = makerService;
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.navCtr = navCtr;
        this.route = route;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // makers
        this.makers = [];
        // numofFilters
        this.numOfFilters = 0;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListMakerAdminComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: 'Nombre',
                prop: 'name',
                type: 'normal',
            },
            {
                name: 'Apellido',
                prop: 'lastName',
                type: 'normal',
            },
            {
                name: 'Obra',
                prop: 'build',
                type: 'normal',
            },
            {
                name: 'Fecha Alta',
                prop: 'timestamp',
                type: 'date',
            },
            {
                name: 'Ciudad',
                prop: 'city',
                type: 'normal',
            },
            {
                name: 'Correo',
                prop: 'email',
                type: 'normal',
            },
            {
                name: 'Teléfono',
                prop: 'phone',
                type: 'phone',
            },
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonEdit: true,
                buttonDeleted: true,
            },
        ];
        this.getMakerAll();
    };
    ListMakerAdminComponent.prototype.getMakerAll = function () {
        var _this = this;
        this.isLoading = false;
        this.numOfFilters = 0;
        this.makerService.getMakerAll().subscribe(function (makers) {
            _this.makers = makers;
            console.log(makers);
            _this.setRows(_this.makers);
        });
    };
    ListMakerAdminComponent.prototype.setRows = function (makers) {
        var rows = [];
        makers.forEach(function (maker) {
            var nameBuild;
            if (maker.build && maker.build.name) {
                nameBuild = maker.build.name;
            }
            else {
                nameBuild = 'Sin Obra Asignada';
            }
            rows.push({
                _id: maker._id,
                name: maker.name,
                lastName: maker.lastName,
                build: nameBuild,
                city: maker.city,
                email: maker.email,
                phone: maker.phone,
                timestamp: maker.timestamp,
            });
        });
        this.rows = rows;
        this.isLoading = true;
    };
    ListMakerAdminComponent.prototype.newBuild = function () {
        this.router.navigate(['new-edit-maker']);
    };
    ListMakerAdminComponent.prototype.edit = function (item) {
        var data = {
            queryParams: { id: item._id },
        };
        this.router.navigate(['new-edit-maker'], data);
        // this.navCtr.navigateRoot('new-buyer', false, data);
    };
    ListMakerAdminComponent.prototype.deleted = function (prop) {
        var _this = this;
        this.makerService
            .deltedMakerById(prop._id)
            .toPromise()
            .then(function () {
            _this.getMakerAll();
        });
    };
    ListMakerAdminComponent.prototype.detailBuild = function (prop) {
        var data = {
            queryParams: { id: prop._id },
        };
        this.router.navigate(['detail-build-admin'], data);
    };
    ListMakerAdminComponent.prototype.presentAlertConfirm = function (prop) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Constructor',
                            message: "\u00BFDesea eliminar constructor: <strong>" + prop.name + "</strong>?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    },
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    },
                                },
                            ],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleted(prop);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListMakerAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListMakerAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-maker-admin',
            template: __webpack_require__(/*! ./list-maker-admin.component.html */ "./src/app/components/admin/list-maker-admin/list-maker-admin.component.html"),
            styles: [__webpack_require__(/*! ./list-maker-admin.component.scss */ "./src/app/components/admin/list-maker-admin/list-maker-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_maker_service__WEBPACK_IMPORTED_MODULE_1__["MakerService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]])
    ], ListMakerAdminComponent);
    return ListMakerAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-manager-admin/list-manager-admin.component.html":
/*!***************************************************************************************!*\
  !*** ./src/app/components/admin/list-manager-admin/list-manager-admin.component.html ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"start\">\n        <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n      </ion-buttons>\n      <ion-title>\n        Oficinista\n      </ion-title>\n\n    </ion-toolbar>\n  </ion-header>\n-->\n<ion-header>\n  <app-menu-general\n    [isMenuButton]=\"'menu'\"\n    [colorMenuButton]=\"'white'\"\n    [titleMenu]=\"'Gerentes'\"\n    [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"\n  ></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then: Load; else: noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <!--\n        <mat-drawer [class.mat-elevation-z1]=true position=\"end\" #drawer class=\"sidenav\" [mode]=\"isDesktop ? 'side' : 'over'\"\n          [opened]=\"openMenu\">\n          <app-filter-seller (filters)=\"getFilters($event)\" (resetAll)=\"getSellerAll()\" (closeMenu)=\"drawer.close()\"\n            [isDesktop]=\"isDesktop\"></app-filter-seller>\n        </mat-drawer>\n      -->\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <!--\n        <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n          <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n            <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilters}})\n          </ion-button>\n        </ion-item>\n        <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n          <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n            <ion-icon name=\"funnel\"></ion-icon>Filtros {{(drawer.openedChange | async) ? 'cerrar' : 'abrir'}}\n          </ion-button>\n        </ion-item>\n      -->\n\n      <!-- /filtros boton -->\n\n      <!-- Table -->\n      <h2>Lista de Gerentes</h2>\n      <app-general-table\n        [columns]=\"columns\"\n        [rows]=\"rows\"\n        [isDesktop]=\"isDesktop\"\n        (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\"\n      ></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newOffice()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>\n"

/***/ }),

/***/ "./src/app/components/admin/list-manager-admin/list-manager-admin.component.scss":
/*!***************************************************************************************!*\
  !*** ./src/app/components/admin/list-manager-admin/list-manager-admin.component.scss ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-manager-admin/list-manager-admin.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/list-manager-admin/list-manager-admin.component.ts ***!
  \*************************************************************************************/
/*! exports provided: ListManagerAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListManagerAdminComponent", function() { return ListManagerAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_managers_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/managers.service */ "./src/app/services/managers.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var ListManagerAdminComponent = /** @class */ (function () {
    function ListManagerAdminComponent(managerService, platform, router, alertController, toastController, route) {
        this.managerService = managerService;
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.route = route;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // manager
        this.manager = [];
        // numofFilters
        this.numOfFilters = 0;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListManagerAdminComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: 'Nombre',
                prop: 'name',
                type: 'normal'
            },
            {
                name: 'Teléfono',
                prop: 'phone',
                type: 'phone'
            },
            {
                name: 'Correo',
                prop: 'email',
                type: 'normal'
            },
            {
                name: 'Fecha Alta',
                prop: 'timestamp',
                type: 'date'
            },
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonEdit: true,
                buttonDeleted: true
            }
        ];
        this.getOfficeAll();
    };
    ListManagerAdminComponent.prototype.getOfficeAll = function () {
        var _this = this;
        this.isLoading = false;
        this.numOfFilters = 0;
        this.managerService.getManagerAll().subscribe(function (m) {
            _this.manager = m;
            _this.setRows(_this.manager);
        });
    };
    ListManagerAdminComponent.prototype.newOffice = function () {
        this.router.navigate(['new-edit-manager']);
    };
    ListManagerAdminComponent.prototype.setRows = function (managers) {
        var rows = [];
        managers.forEach(function (m) {
            rows.push({
                _id: m._id,
                name: m.name,
                email: m.email,
                phone: m.phone,
                timestamp: m.timestamp
            });
        });
        this.rows = rows;
        this.isLoading = true;
    };
    ListManagerAdminComponent.prototype.edit = function (item) {
        var data = {
            queryParams: { id: item._id }
        };
        this.router.navigate(['new-edit-manager'], data);
    };
    ListManagerAdminComponent.prototype.deleted = function (c) {
        var _this = this;
        this.managerService
            .deleteManagerById(c._id)
            .toPromise()
            .then(function () {
            _this.getOfficeAll();
        });
    };
    ListManagerAdminComponent.prototype.presentAlertConfirm = function (c) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Gerente',
                            message: "\u00BFDesea eliminar gerente?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) { }
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    }
                                }
                            ]
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleted(c);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListManagerAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListManagerAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-manager-admin',
            template: __webpack_require__(/*! ./list-manager-admin.component.html */ "./src/app/components/admin/list-manager-admin/list-manager-admin.component.html"),
            styles: [__webpack_require__(/*! ./list-manager-admin.component.scss */ "./src/app/components/admin/list-manager-admin/list-manager-admin.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_managers_service__WEBPACK_IMPORTED_MODULE_3__["ManagersService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ToastController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"]])
    ], ListManagerAdminComponent);
    return ListManagerAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-oferts-admin/list-oferts-admin.component.html":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/list-oferts-admin/list-oferts-admin.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Ofertas\n    </ion-title>\n\n  </ion-toolbar> \n</ion-header>-->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Ofertas'\" [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then Load; else noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <!-- <mat-drawer [class.mat-elevation-z1]=true position=\"end\" #drawer class=\"sidenav\" [mode]=\"isDesktop ? 'side' : 'over'\"\n          [opened]=\"openMenu\">\n          <app-filter-seller (filters)=\"getFilters($event)\" (resetAll)=\"getSellerAll()\" (closeMenu)=\"drawer.close()\"\n            [isDesktop]=\"isDesktop\"></app-filter-seller>\n        </mat-drawer> -->\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <!-- <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n          <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n            <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilters}})\n          </ion-button>\n        </ion-item>\n        <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n          <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n            <ion-icon name=\"funnel\"></ion-icon>Filtros {{(drawer.openedChange | async) ? 'cerrar' : 'abrir'}}\n          </ion-button>\n        </ion-item> -->\n\n      <!-- /filtros boton -->\n\n      <!-- Table  -->\n      <h2>Lista de Ofertas</h2>\n      <app-general-table [columns]=\"columns\" [rows]=\"rows\" [isDesktop]=\"isDesktop\" (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\"></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n\n\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newOfert()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>"

/***/ }),

/***/ "./src/app/components/admin/list-oferts-admin/list-oferts-admin.component.scss":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/list-oferts-admin/list-oferts-admin.component.scss ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-oferts-admin/list-oferts-admin.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/list-oferts-admin/list-oferts-admin.component.ts ***!
  \***********************************************************************************/
/*! exports provided: ListOfertsAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListOfertsAdminComponent", function() { return ListOfertsAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_ofert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/ofert.service */ "./src/app/services/ofert.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var ListOfertsAdminComponent = /** @class */ (function () {
    function ListOfertsAdminComponent(ofertService, platform, router, alertController, toastController, navCtr, route) {
        this.ofertService = ofertService;
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.navCtr = navCtr;
        this.route = route;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // ofert
        this.oferts = [];
        // numofFilters
        this.numOfFilters = 0;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListOfertsAdminComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: 'Nombre Consumidor',
                prop: 'buyer',
                type: 'normal'
            },
            {
                name: 'Nombre Prop',
                prop: 'property',
                type: 'normal'
            },
            {
                name: 'Notas',
                prop: 'notes',
                type: 'normal'
            },
            {
                name: 'Modificado',
                prop: 'timestamp',
                type: 'date'
            },
            {
                name: 'Estado',
                prop: 'properties',
                type: 'status'
            },
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonEdit: true,
                buttonDeleted: true
            }
        ];
        this.getOfertAll();
    };
    ListOfertsAdminComponent.prototype.getOfertAll = function () {
        var _this = this;
        this.numOfFilters = 0;
        this.ofertService.getOfert().subscribe(function (oferts) {
            _this.oferts = oferts;
            console.log(oferts);
            _this.setRows(_this.oferts);
        });
    };
    ListOfertsAdminComponent.prototype.newOfert = function () {
        this.router.navigate(['new-edit-ofert']);
    };
    ListOfertsAdminComponent.prototype.setRows = function (oferts) {
        var rows = [];
        oferts.forEach(function (ofert) {
            var properties = [];
            if (ofert.status) {
                if (ofert.status === 'amarillo') {
                    properties.push({
                        name: 'Negociación',
                        status: ofert.status
                    });
                }
                else if (ofert.status === 'rojo') {
                    properties.push({
                        name: 'Respuesta',
                        status: ofert.status
                    });
                }
                else if (ofert.status === 'verde') {
                    properties.push({
                        name: 'Nueva',
                        status: ofert.status
                    });
                }
            }
            rows.push({
                _id: ofert._id,
                buyer: ofert.buyer.name,
                property: ofert.property.name,
                notes: ofert.notes,
                timestamp: ofert.timestamp,
                properties: properties
            });
        });
        this.rows = rows;
        this.isLoading = true;
    };
    ListOfertsAdminComponent.prototype.edit = function (item) {
        console.log(item);
        var data = {
            queryParams: { id: item._id }
        };
        this.router.navigate(['new-edit-ofert'], data);
        // this.navCtr.navigateRoot('new-buyer', false, data);
    };
    ListOfertsAdminComponent.prototype.deleted = function (c) {
        var _this = this;
        this.ofertService
            .deleteOfertById(c._id)
            .toPromise()
            .then(function () {
            _this.getOfertAll();
        });
    };
    ListOfertsAdminComponent.prototype.presentAlertConfirm = function (c) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Oferta',
                            message: "\u00BFDesea eliminar oferta ?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    }
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    }
                                }
                            ]
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleted(c);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListOfertsAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListOfertsAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-oferts-admin',
            template: __webpack_require__(/*! ./list-oferts-admin.component.html */ "./src/app/components/admin/list-oferts-admin/list-oferts-admin.component.html"),
            styles: [__webpack_require__(/*! ./list-oferts-admin.component.scss */ "./src/app/components/admin/list-oferts-admin/list-oferts-admin.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_ofert_service__WEBPACK_IMPORTED_MODULE_1__["OfertService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]])
    ], ListOfertsAdminComponent);
    return ListOfertsAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-office-admin/list-office-admin.component.html":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/list-office-admin/list-office-admin.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Oficinista\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Oficinistas'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then Load; else noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <!-- <mat-drawer [class.mat-elevation-z1]=true position=\"end\" #drawer class=\"sidenav\" [mode]=\"isDesktop ? 'side' : 'over'\"\n          [opened]=\"openMenu\">\n          <app-filter-seller (filters)=\"getFilters($event)\" (resetAll)=\"getSellerAll()\" (closeMenu)=\"drawer.close()\"\n            [isDesktop]=\"isDesktop\"></app-filter-seller>\n        </mat-drawer> -->\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <!-- <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n          <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n            <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilters}})\n          </ion-button>\n        </ion-item>\n        <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n          <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n            <ion-icon name=\"funnel\"></ion-icon>Filtros {{(drawer.openedChange | async) ? 'cerrar' : 'abrir'}}\n          </ion-button>\n        </ion-item> -->\n\n      <!-- /filtros boton -->\n\n      <!-- Table  -->\n      <h2>Lista de Oficinistas</h2>\n      <app-general-table [columns]=\"columns\" [rows]=\"rows\" [isDesktop]=\"isDesktop\" (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\"></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n\n\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newOffice()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>"

/***/ }),

/***/ "./src/app/components/admin/list-office-admin/list-office-admin.component.scss":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/list-office-admin/list-office-admin.component.scss ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-office-admin/list-office-admin.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/list-office-admin/list-office-admin.component.ts ***!
  \***********************************************************************************/
/*! exports provided: ListOfficeAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListOfficeAdminComponent", function() { return ListOfficeAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_office_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/office.service */ "./src/app/services/office.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var ListOfficeAdminComponent = /** @class */ (function () {
    function ListOfficeAdminComponent(officeService, platform, router, alertController, toastController, navCtr, route) {
        this.officeService = officeService;
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.navCtr = navCtr;
        this.route = route;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // office
        this.office = [];
        // numofFilters
        this.numOfFilters = 0;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListOfficeAdminComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: 'Nombre',
                prop: 'name',
                type: 'normal',
            },
            {
                name: 'Teléfono',
                prop: 'phone',
                type: 'phone',
            },
            {
                name: 'Correo',
                prop: 'email',
                type: 'normal',
            },
            {
                name: 'Fecha Alta',
                prop: 'timestamp',
                type: 'date',
            },
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonEdit: true,
                buttonDeleted: true,
            },
        ];
        this.getOfficeAll();
    };
    ListOfficeAdminComponent.prototype.getOfficeAll = function () {
        var _this = this;
        this.isLoading = false;
        this.numOfFilters = 0;
        this.officeService.getOffice().subscribe(function (officies) {
            _this.office = officies;
            _this.setRows(_this.office);
        });
    };
    ListOfficeAdminComponent.prototype.newOffice = function () {
        this.router.navigate(['new-edit-office']);
    };
    ListOfficeAdminComponent.prototype.setRows = function (offices) {
        var rows = [];
        offices.forEach(function (office) {
            rows.push({
                _id: office._id,
                name: office.name,
                email: office.email,
                phone: office.phone,
                timestamp: office.timestamp,
            });
        });
        this.rows = rows;
        this.isLoading = true;
    };
    ListOfficeAdminComponent.prototype.edit = function (item) {
        var data = {
            queryParams: { id: item._id },
        };
        this.router.navigate(['new-edit-office'], data);
        // this.navCtr.navigateRoot('new-buyer', false, data);
    };
    ListOfficeAdminComponent.prototype.deleted = function (c) {
        var _this = this;
        this.officeService
            .deleteOfficeById(c._id)
            .toPromise()
            .then(function () {
            _this.getOfficeAll();
        });
    };
    ListOfficeAdminComponent.prototype.presentAlertConfirm = function (c) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Oficinista',
                            message: "\u00BFDesea eliminar oficinista?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) { },
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    },
                                },
                            ],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleted(c);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListOfficeAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListOfficeAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-office-admin',
            template: __webpack_require__(/*! ./list-office-admin.component.html */ "./src/app/components/admin/list-office-admin/list-office-admin.component.html"),
            styles: [__webpack_require__(/*! ./list-office-admin.component.scss */ "./src/app/components/admin/list-office-admin/list-office-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_office_service__WEBPACK_IMPORTED_MODULE_1__["OfficeService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]])
    ], ListOfficeAdminComponent);
    return ListOfficeAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-pre-build/list-pre-build.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/components/admin/list-pre-build/list-pre-build.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"start\">\n        <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n      </ion-buttons>\n      <ion-title>\n        Obras\n      </ion-title>\n\n    </ion-toolbar>\n  </ion-header>\n-->\n<ion-header>\n  <app-menu-general\n    [isMenuButton]=\"'menu'\"\n    [colorMenuButton]=\"'white'\"\n    [titleMenu]=\"'Obras'\"\n    [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"\n  ></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then: Load; else: noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <mat-drawer\n        [class.mat-elevation-z1]=\"true\"\n        position=\"end\"\n        #drawer2\n        class=\"sidenav\"\n        [mode]=\"isDesktop ? 'side' : 'over'\"\n        [opened]=\"openMenu\"\n      >\n        <app-filter-build\n          (filters)=\"getFilters($event)\"\n          (resetAll)=\"getBuildAll()\"\n          (closeMenu)=\"drawer2.close()\"\n          [isDesktop]=\"isDesktop\"\n        ></app-filter-build>\n      </mat-drawer>\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n        <ion-button\n          (click)=\"drawer2.toggle()\"\n          slot=\"end\"\n          color=\"secondary\"\n          fill=\"outline\"\n        >\n          <ion-icon name=\"funnel\"></ion-icon>Filtros({{ numOfFilters }})\n        </ion-button>\n      </ion-item>\n      <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n        <ion-button\n          (click)=\"drawer2.toggle()\"\n          slot=\"end\"\n          color=\"secondary\"\n          fill=\"outline\"\n        >\n          <ion-icon name=\"funnel\"></ion-icon>Filtros\n          {{ (drawer2.openedChange | async) ? 'cerrar' : 'abrir' }}\n        </ion-button>\n      </ion-item>\n\n      <!-- /filtros boton -->\n\n      <!-- Table -->\n      <h2>Lista de Obras</h2>\n      <app-general-table\n        [columns]=\"columns\"\n        [rows]=\"rows\"\n        [isDesktop]=\"isDesktop\"\n        (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\"\n        (detailsButton)=\"detailBuild($event)\"\n      ></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newBuild()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>\n"

/***/ }),

/***/ "./src/app/components/admin/list-pre-build/list-pre-build.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/components/admin/list-pre-build/list-pre-build.component.scss ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-pre-build/list-pre-build.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/components/admin/list-pre-build/list-pre-build.component.ts ***!
  \*****************************************************************************/
/*! exports provided: ListPreBuildComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListPreBuildComponent", function() { return ListPreBuildComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_pre_build_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/pre-build.service */ "./src/app/services/pre-build.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var ListPreBuildComponent = /** @class */ (function () {
    function ListPreBuildComponent(platform, router, alertController, toastController, route, preBuildService) {
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.route = route;
        this.preBuildService = preBuildService;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // buildings
        this.buildings = [];
        // numofFilters
        this.numOfFilters = 0;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListPreBuildComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: 'Nombre',
                prop: 'name',
                type: 'normal'
            },
            {
                name: '#Preventa',
                prop: 'preBuyer',
                type: 'number'
            },
            {
                name: 'Ciudad',
                prop: 'city',
                type: 'normal'
            },
            {
                name: 'Fecha Inicio',
                prop: 'timestamp',
                type: 'date'
            },
            {
                name: 'Fecha Fin',
                prop: 'dateToEnd',
                type: 'date'
            },
            {
                name: 'Completado',
                prop: 'isComplete',
                type: 'boolean'
            },
            {
                name: 'notas',
                prop: 'notes',
                type: 'normal'
            },
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonEdit: true,
                buttonDeleted: true,
                buttonDetails: true
            }
        ];
        this.getBuildAll();
    };
    ListPreBuildComponent.prototype.getBuildAll = function () {
        var _this = this;
        this.numOfFilters = 0;
        this.preBuildService.getAll().subscribe(function (buildings) {
            _this.buildings = buildings;
            console.log(buildings);
            _this.setRows(_this.buildings);
        });
    };
    ListPreBuildComponent.prototype.setRows = function (buildings) {
        var rows = [];
        buildings.forEach(function (build) {
            var dateToEnd = new Date();
            var isComplete = true;
            if (build.timeLine) {
                var lastIndex = build.timeLine.length - 1;
                if (build.timeLine.length > 0) {
                    build.timeLine.forEach(function (tl) {
                        if (tl.isComplete === false || tl.isComplete === undefined) {
                            isComplete = false;
                        }
                    });
                    var lastPhase = build.timeLine[lastIndex];
                    dateToEnd = new Date(lastPhase.yearToEnd, lastPhase.monthToEnd, lastPhase.dayToEnd);
                }
                else {
                    isComplete = false;
                }
            }
            rows.push({
                _id: build._id,
                name: build.name,
                preBuyer: build.preBuyer.length,
                city: build.city,
                notes: build.notes,
                timestamp: build.timestamp,
                dateToEnd: dateToEnd,
                isComplete: isComplete
            });
        });
        this.rows = rows;
        this.isLoading = true;
    };
    ListPreBuildComponent.prototype.newBuild = function () {
        this.router.navigate(['new-edit-prebuild']);
    };
    ListPreBuildComponent.prototype.edit = function (item) {
        var data = {
            queryParams: { id: item._id }
        };
        this.router.navigate(['new-edit-prebuild'], data);
        // this.navCtr.navigateRoot('new-buyer', false, data);
    };
    ListPreBuildComponent.prototype.deleted = function (prop) {
        var _this = this;
        this.preBuildService
            .deltedBuildById(prop._id)
            .toPromise()
            .then(function () {
            _this.getBuildAll();
        });
    };
    ListPreBuildComponent.prototype.detailBuild = function (prop) {
        var data = {
            queryParams: { id: prop._id }
        };
        this.router.navigate(['detail-prebuild-admin'], data);
    };
    ListPreBuildComponent.prototype.presentAlertConfirm = function (prop) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Obra',
                            message: "\u00BFDesea eliminar obra: <strong>" + prop.name + "</strong>?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    }
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    }
                                }
                            ]
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleted(prop);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListPreBuildComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListPreBuildComponent.prototype.getFilters = function (filters) {
        console.log(filters);
        var advFinded = this.buildings.filter(function (b) { return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_1__["FilerBuild"])(b, filters); });
        //  setea buyers
        this.setRows(advFinded);
        // num
        var numFilters = 0;
        if (filters.day) {
            numFilters++;
        }
        if (filters.month) {
            numFilters++;
        }
        if (filters.year) {
            numFilters++;
        }
        if (filters.isComplete !== undefined || filters.isComplete !== null) {
            numFilters++;
        }
        if (filters.day2) {
            numFilters++;
        }
        if (filters.month2) {
            numFilters++;
        }
        if (filters.year2) {
            numFilters++;
        }
        this.numOfFilters = numFilters;
    };
    ListPreBuildComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-pre-build',
            template: __webpack_require__(/*! ./list-pre-build.component.html */ "./src/app/components/admin/list-pre-build/list-pre-build.component.html"),
            styles: [__webpack_require__(/*! ./list-pre-build.component.scss */ "./src/app/components/admin/list-pre-build/list-pre-build.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
            _services_pre_build_service__WEBPACK_IMPORTED_MODULE_4__["PreBuildService"]])
    ], ListPreBuildComponent);
    return ListPreBuildComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-pre-buyer/list-pre-buyer.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/components/admin/list-pre-buyer/list-pre-buyer.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"start\">\n        <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n      </ion-buttons>\n      <ion-title>\n        Obras\n      </ion-title>\n\n    </ion-toolbar>\n  </ion-header>\n-->\n<ion-header>\n  <app-menu-general\n    [isMenuButton]=\"'menu'\"\n    [colorMenuButton]=\"'white'\"\n    [titleMenu]=\"'Preventa Usuarios'\"\n    [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"\n  ></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then: Load; else: noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- Table -->\n      <h2>Lista de Usuarios</h2>\n      <app-general-table\n        [columns]=\"columns\"\n        [rows]=\"rows\"\n        [isDesktop]=\"isDesktop\"\n        (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\"\n      ></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newBuild()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>\n"

/***/ }),

/***/ "./src/app/components/admin/list-pre-buyer/list-pre-buyer.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/components/admin/list-pre-buyer/list-pre-buyer.component.scss ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-pre-buyer/list-pre-buyer.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/components/admin/list-pre-buyer/list-pre-buyer.component.ts ***!
  \*****************************************************************************/
/*! exports provided: ListPreBuyerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListPreBuyerComponent", function() { return ListPreBuyerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_pre_buyer_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/pre-buyer.service */ "./src/app/services/pre-buyer.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var ListPreBuyerComponent = /** @class */ (function () {
    function ListPreBuyerComponent(platform, router, alertController, toastController, navCtr, route, preBuyerService) {
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.navCtr = navCtr;
        this.route = route;
        this.preBuyerService = preBuyerService;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // buildings
        // numofFilters
        this.numOfFilters = 0;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListPreBuyerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: 'Nombre',
                prop: 'name',
                type: 'normal'
            },
            {
                name: 'Apellido',
                prop: 'lastName',
                type: 'normal'
            },
            {
                name: 'Preventa',
                prop: 'preBuild',
                type: 'normal'
            },
            {
                name: 'Fecha Alta',
                prop: 'timestamp',
                type: 'date'
            },
            {
                name: 'Telefono',
                prop: 'phone',
                type: 'phone'
            },
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonEdit: true,
                buttonDeleted: true
            }
        ];
        this.getBuildAll();
    };
    ListPreBuyerComponent.prototype.getBuildAll = function () {
        var _this = this;
        this.numOfFilters = 0;
        this.preBuyerService.getAll().subscribe(function (preBuyers) {
            console.log(preBuyers);
            _this.setRows(preBuyers);
        });
    };
    ListPreBuyerComponent.prototype.setRows = function (preBuyers) {
        this.rows = preBuyers.map(function (preBuyer) {
            return {
                _id: preBuyer._id,
                name: preBuyer.name,
                preBuild: preBuyer.preBuild.map(function (p) { return p.name; }).toString(),
                email: preBuyer.email,
                lastName: preBuyer.lastName,
                timestamp: preBuyer.timestamp,
                phone: preBuyer.phone
            };
        });
        this.isLoading = true;
    };
    ListPreBuyerComponent.prototype.newBuild = function () {
        this.router.navigate(['new-edit-prebuyer']);
    };
    ListPreBuyerComponent.prototype.edit = function (item) {
        var data = {
            queryParams: { id: item._id }
        };
        this.router.navigate(['new-edit-prebuyer'], data);
        // this.navCtr.navigateRoot('new-buyer', false, data);
    };
    ListPreBuyerComponent.prototype.deleted = function (prop) {
        var _this = this;
        this.preBuyerService
            .deltedBuyerById(prop._id)
            .toPromise()
            .then(function () {
            _this.getBuildAll();
        });
    };
    ListPreBuyerComponent.prototype.presentAlertConfirm = function (prop) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Usuario',
                            message: "\u00BFDesea eliminar Usuario: <strong>" + prop.name + "</strong>?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    }
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    }
                                }
                            ]
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleted(prop);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListPreBuyerComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListPreBuyerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-pre-buyer',
            template: __webpack_require__(/*! ./list-pre-buyer.component.html */ "./src/app/components/admin/list-pre-buyer/list-pre-buyer.component.html"),
            styles: [__webpack_require__(/*! ./list-pre-buyer.component.scss */ "./src/app/components/admin/list-pre-buyer/list-pre-buyer.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _services_pre_buyer_service__WEBPACK_IMPORTED_MODULE_3__["PreBuyerService"]])
    ], ListPreBuyerComponent);
    return ListPreBuyerComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-prop-admin/list-prop-admin.component.html":
/*!*********************************************************************************!*\
  !*** ./src/app/components/admin/list-prop-admin/list-prop-admin.component.html ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Propiedades\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Propiedades'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then Load; else noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <mat-drawer [class.mat-elevation-z1]=true position=\"end\" #drawer class=\"sidenav\" [mode]=\"isDesktop ? 'side' : 'over'\"\n        [opened]=\"openMenu\">\n        <app-general-filters (filters)=\"getFilters($event)\" (resetAll)=\"getPropAll()\" (closeMenuMaterial)=\"drawer.close()\"\n          [isDesktop]=\"isDesktop\"></app-general-filters>\n      </mat-drawer>\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilters}})\n        </ion-button>\n      </ion-item>\n      <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros {{(drawer.openedChange | async) ? 'cerrar' : 'abrir'}}\n        </ion-button>\n      </ion-item>\n\n      <!-- /filtros boton -->\n\n      <!-- Table  -->\n      <h2>Lista de Propiedades </h2>\n      <app-general-table [columns]=\"columns\" [rows]=\"rows\" [isDesktop]=\"isDesktop\" (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\" (detailsButton)=\"detailProp($event)\" [isIcon]=\"!isDesktop\"></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n\n\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab *ngIf=\"isSuperRol\" vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newBuyer()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>"

/***/ }),

/***/ "./src/app/components/admin/list-prop-admin/list-prop-admin.component.scss":
/*!*********************************************************************************!*\
  !*** ./src/app/components/admin/list-prop-admin/list-prop-admin.component.scss ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-prop-admin/list-prop-admin.component.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/components/admin/list-prop-admin/list-prop-admin.component.ts ***!
  \*******************************************************************************/
/*! exports provided: ListPropAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListPropAdminComponent", function() { return ListPropAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_seller_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/seller.service */ "./src/app/services/seller.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var ListPropAdminComponent = /** @class */ (function () {
    function ListPropAdminComponent(propertyService, platform, router, alertController, toastController, navCtr, route, userSession, sellerService) {
        this.propertyService = propertyService;
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.navCtr = navCtr;
        this.route = route;
        this.userSession = userSession;
        this.sellerService = sellerService;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // prop
        this.properties = [];
        // numofFilters
        this.numOfFilters = 0;
        this.user = userSession.userSession.value;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListPropAdminComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.isSuperRol =
            this.user.type === 'administrator' ||
                this.user.type === 'management' ||
                this.user.type === 'office';
        this.columns = [
            {
                name: 'Nombre',
                prop: 'name',
                type: 'normal',
            },
            {
                name: 'Precio Max',
                prop: 'maxPrice',
                type: 'money',
            },
            {
                name: 'Precio Min',
                prop: 'minPrice',
                type: 'money',
            },
            {
                name: 'Fecha Alta',
                prop: 'timestamp',
                type: 'date',
            },
            {
                name: 'Nuevo',
                prop: 'isOld',
                type: 'boolean',
            },
            {
                name: 'Tipo',
                prop: 'typePop',
                type: 'normal',
            },
            {
                name: 'Adquirida',
                prop: 'isBuy',
                type: 'boolean',
            },
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonEdit: this.isSuperRol,
                buttonDeleted: this.isSuperRol,
                buttonDetails: true,
            },
        ];
        this.getPropAll();
    };
    ListPropAdminComponent.prototype.getPropAll = function () {
        var _this = this;
        if (this.user.type === 'seller') {
            this.numOfFilters = 0;
            this.propertyService.getAllSpecial().subscribe(function (prop) {
                _this.sellerService.getSellerById(_this.user.id).subscribe(function (seller) {
                    _this.properties = prop.filter(function (p) {
                        return !!seller.property.find(function (ps) { return ps._id === p._id; });
                    });
                    _this.setRows(_this.properties);
                });
            });
        }
        else {
            this.numOfFilters = 0;
            this.propertyService.getAllSpecial().subscribe(function (prop) {
                _this.properties = prop;
                console.log(prop);
                _this.setRows(prop);
            });
        }
    };
    ListPropAdminComponent.prototype.setRows = function (properties) {
        var rows = [];
        properties.forEach(function (property) {
            var typePop = 'Vende';
            var iconName;
            if (property.isRent) {
                typePop = 'Renta';
            }
            if (property.typeOfProperty === 'departamento') {
                iconName = 'business';
            }
            if (property.typeOfProperty === 'casa') {
                iconName = 'home';
            }
            rows.push({
                _id: property._id,
                name: property.name,
                maxPrice: property.maxPrice,
                minPrice: property.minPrice,
                isOld: !property.isOld,
                timestamp: property.timestamp,
                typePop: typePop,
                isBuy: property.isBuy,
                iconName: iconName,
            });
        });
        this.rows = rows;
        this.isLoading = true;
    };
    ListPropAdminComponent.prototype.newBuyer = function () {
        var data = {
            queryParams: { id: 'new' },
        };
        this.router.navigate(['new-edit-prop']);
    };
    ListPropAdminComponent.prototype.edit = function (item) {
        var data = {
            queryParams: { id: item._id },
        };
        this.router.navigate(['new-edit-prop'], data);
        // this.navCtr.navigateRoot('new-buyer', false, data);
    };
    ListPropAdminComponent.prototype.deleted = function (prop) {
        var _this = this;
        this.propertyService
            .deletedById(prop._id)
            .toPromise()
            .then(function () {
            _this.getPropAll();
        });
    };
    ListPropAdminComponent.prototype.detailProp = function (prop) {
        var data = {
            queryParams: { id: prop._id },
        };
        this.router.navigate(['detail-prop-admin'], data);
    };
    ListPropAdminComponent.prototype.presentAlertConfirm = function (prop) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Usuario',
                            message: "\u00BFDesea eliminar propiedad: <strong>" + prop.name + "</strong>?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    },
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    },
                                },
                            ],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleted(prop);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListPropAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListPropAdminComponent.prototype.getFilters = function (filters) {
        var _this = this;
        console.log(filters);
        var advFinded = this.properties.filter(function (prop) {
            var temp = Object(_config_helpers__WEBPACK_IMPORTED_MODULE_4__["PropertyFilter"])(filters, prop);
            _this.numOfFilters = temp.numOfFilters;
            return temp.isHope;
        });
        //  setea buyers
        this.setRows(advFinded);
    };
    ListPropAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-prop-admin',
            template: __webpack_require__(/*! ./list-prop-admin.component.html */ "./src/app/components/admin/list-prop-admin/list-prop-admin.component.html"),
            styles: [__webpack_require__(/*! ./list-prop-admin.component.scss */ "./src/app/components/admin/list-prop-admin/list-prop-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_property_service__WEBPACK_IMPORTED_MODULE_1__["PropertyService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__["UserSessionService"],
            _services_seller_service__WEBPACK_IMPORTED_MODULE_6__["SellerService"]])
    ], ListPropAdminComponent);
    return ListPropAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-sales-admin/list-sales-admin.component.html":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/list-sales-admin/list-sales-admin.component.html ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Propiedades Adquiridas\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Propiedades Adquiridas'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then Load; else noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <!--  <mat-drawer [class.mat-elevation-z1]=true position=\"end\" #drawer class=\"sidenav\" [mode]=\"isDesktop ? 'side' : 'over'\"\n            [opened]=\"openMenu\">\n            <app-general-filters (filters)=\"getFilters($event)\" (resetAll)=\"getPropAll()\" (closeMenuMaterial)=\"drawer.close()\"\n              [isDesktop]=\"isDesktop\"></app-general-filters>\n          </mat-drawer> -->\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <!-- <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n            <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n              <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilters}})\n            </ion-button>\n          </ion-item>\n          <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n            <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n              <ion-icon name=\"funnel\"></ion-icon>Filtros {{(drawer.openedChange | async) ? 'cerrar' : 'abrir'}}\n            </ion-button>\n          </ion-item> -->\n\n      <!-- /filtros boton -->\n\n      <!-- Table  -->\n      <h2>Lista de Propiedades Adquiridas </h2>\n      <p>Se muestan las propiedades que estan en estado \"Azul\" y estan compradas/rentadas </p>\n      <app-general-table [columns]=\"columns\" [rows]=\"rows\" [isDesktop]=\"isDesktop\"></app-general-table>\n      <!-- /Table -->\n      <!-- Resumen -->\n      <mat-card [class.mat-elevation-z0]=\"true\" class=\"border-sumary\">\n        <mat-card-title>\n          Resumen\n        </mat-card-title>\n\n        <mat-card-content>\n          <mat-chip-list>\n            <mat-chip class=\"background-secondary\">Total de Propiedades Adquiridas: {{totalSales}}</mat-chip>\n            <mat-chip class=\"background-secondary\">Total de Propiedades Rentadas: {{totalSalesOfRent}}</mat-chip>\n            <mat-chip class=\"background-secondary\">Total de Propiedades Vendidas: {{totalSalesOfBuy}}</mat-chip>\n            <mat-chip class=\"background-secondary\">Costo Total: ${{totalCost}}</mat-chip>\n            <mat-chip *ngIf=\"user.type !== 'adviser' && advTop\" class=\"background-secondary\">Asesor Mayor Ventas:\n              {{advTop.name}}</mat-chip>\n          </mat-chip-list>\n        </mat-card-content>\n\n      </mat-card>\n    </mat-drawer-container>\n\n\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<!-- <ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n    <ion-fab-button (click)=\"newBuyer()\" *ngIf=\"isLoading\" color=\"secondary\">\n      <ion-icon name=\"add\"></ion-icon>\n    </ion-fab-button>\n  </ion-fab> -->"

/***/ }),

/***/ "./src/app/components/admin/list-sales-admin/list-sales-admin.component.scss":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/list-sales-admin/list-sales-admin.component.scss ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-sales-admin/list-sales-admin.component.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/components/admin/list-sales-admin/list-sales-admin.component.ts ***!
  \*********************************************************************************/
/*! exports provided: ListSalesAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListSalesAdminComponent", function() { return ListSalesAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_sale_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/sale.service */ "./src/app/services/sale.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_seller_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/seller.service */ "./src/app/services/seller.service.ts");
/* harmony import */ var _services_adviser_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/adviser.service */ "./src/app/services/adviser.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








var ListSalesAdminComponent = /** @class */ (function () {
    function ListSalesAdminComponent(propertyService, platform, router, alertController, toastController, navCtr, route, salesService, userSession, sellerService, advService) {
        this.propertyService = propertyService;
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.navCtr = navCtr;
        this.route = route;
        this.salesService = salesService;
        this.userSession = userSession;
        this.sellerService = sellerService;
        this.advService = advService;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // numofFilters
        this.numOfFilters = 0;
        this.sales = [];
        this.user = userSession.userSession.value;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListSalesAdminComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: 'Consumidor',
                prop: 'buyer',
                type: 'normal',
            },
            {
                name: 'Propiedad',
                prop: 'property',
                type: 'normal',
            },
            {
                name: 'Asesores',
                prop: 'advsNames',
                type: 'normal',
            },
            {
                name: 'Notas',
                prop: 'note',
                type: 'normal',
            },
            {
                name: 'Renta',
                prop: 'isRent',
                type: 'boolean',
            },
            {
                name: 'Costo',
                prop: 'price',
                type: 'money',
            },
            {
                name: 'Fecha Adquisición',
                prop: 'timestamp',
                type: 'date',
            },
        ];
        this.getSales();
    };
    ListSalesAdminComponent.prototype.getSales = function () {
        var _this = this;
        this.isLoading = false;
        if (this.user.type === 'adviser') {
            this.salesService.getSaleByIdAdv(this.user.id).subscribe(function (sales) {
                _this.sales = sales;
                _this.setRows(sales);
                _this.getSumary(sales);
            });
        }
        else if (this.user.type === 'seller') {
            this.salesService.getSale().subscribe(function (sales) {
                _this.sellerService.getSellerById(_this.user.id).subscribe(function (seller) {
                    _this.sales = sales.filter(function (s) {
                        return !!seller.property.find(function (p) { return p._id === s.property._id; });
                    });
                    _this.setRows(_this.sales);
                    _this.getSumary(_this.sales);
                });
            });
        }
        else {
            this.salesService.getSale().subscribe(function (sales) {
                _this.sales = sales;
                _this.setRows(sales);
                _this.getSumary(sales);
            });
        }
    };
    ListSalesAdminComponent.prototype.setRows = function (sales) {
        var rows = [];
        sales.forEach(function (sale) {
            var advsNames = sale.adviser.map(function (a) { return a.name; }).toString();
            rows.push({
                _id: sale._id,
                buyer: sale.buyer.name,
                property: sale.property.name,
                adviser: sale.adviser,
                advsNames: advsNames,
                isRent: sale.isRent,
                price: sale.price,
                note: sale.note,
                timestamp: sale.timestamp,
            });
        });
        this.rows = rows;
        this.isLoading = true;
    };
    /*  detailProp(item) {
      const data: NavigationExtras = {
        queryParams: { id: item._id, credit: item.credit, ofert: item.ofert },
      };
      this.router.navigate(['detail-salesprop-admin'], data);
    } */
    ListSalesAdminComponent.prototype.presentAlertConfirm = function (prop) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Usuario',
                            message: "\u00BFDesea eliminar propiedad: <strong>" + prop.name + "</strong>?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    },
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    },
                                },
                            ],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                /*  if (res.role === 'ok') {
                                  this.deleted(prop);
                                } */
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListSalesAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListSalesAdminComponent.prototype.getSumary = function (sales) {
        return __awaiter(this, void 0, void 0, function () {
            var add, numMax, arr, idMayor, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        add = function (a, b) { return a + b; };
                        this.totalSales = sales.length;
                        this.totalSalesOfRent = sales.filter(function (s) { return s.isRent; }).length;
                        this.totalSalesOfBuy = sales.filter(function (s) { return !s.isRent; }).length;
                        this.totalCost = sales.map(function (s) { return s.price; }).reduce(add);
                        numMax = 0;
                        arr = [];
                        sales
                            .map(function (s) { return s.adviser; })
                            .map(function (adv) { return adv.map(function (a) { return a._id; }); })
                            .forEach(function (advIds) {
                            arr = arr.concat(advIds);
                        });
                        arr.forEach(function (id) {
                            var num = arr.filter(function (str) { return str === id; }).length;
                            if (num > numMax) {
                                numMax = num;
                                idMayor = id;
                            }
                        });
                        _a = this;
                        return [4 /*yield*/, this.getAdvName(idMayor)];
                    case 1:
                        _a.advTop = _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListSalesAdminComponent.prototype.getAdvName = function (id) {
        return this.advService.getAdviserById(id).toPromise();
    };
    ListSalesAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-sales-admin',
            template: __webpack_require__(/*! ./list-sales-admin.component.html */ "./src/app/components/admin/list-sales-admin/list-sales-admin.component.html"),
            styles: [__webpack_require__(/*! ./list-sales-admin.component.scss */ "./src/app/components/admin/list-sales-admin/list-sales-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_property_service__WEBPACK_IMPORTED_MODULE_1__["PropertyService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
            _services_sale_service__WEBPACK_IMPORTED_MODULE_4__["SaleService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__["UserSessionService"],
            _services_seller_service__WEBPACK_IMPORTED_MODULE_6__["SellerService"],
            _services_adviser_service__WEBPACK_IMPORTED_MODULE_7__["AdviserService"]])
    ], ListSalesAdminComponent);
    return ListSalesAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-salesprop-admin/list-salesprop-admin.component.html":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/admin/list-salesprop-admin/list-salesprop-admin.component.html ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Propiedades\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Propiedades Apartadas'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then Load; else noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <!--  <mat-drawer [class.mat-elevation-z1]=true position=\"end\" #drawer class=\"sidenav\" [mode]=\"isDesktop ? 'side' : 'over'\"\n          [opened]=\"openMenu\">\n          <app-general-filters (filters)=\"getFilters($event)\" (resetAll)=\"getPropAll()\" (closeMenuMaterial)=\"drawer.close()\"\n            [isDesktop]=\"isDesktop\"></app-general-filters>\n        </mat-drawer> -->\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <!-- <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n          <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n            <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilters}})\n          </ion-button>\n        </ion-item>\n        <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n          <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n            <ion-icon name=\"funnel\"></ion-icon>Filtros {{(drawer.openedChange | async) ? 'cerrar' : 'abrir'}}\n          </ion-button>\n        </ion-item> -->\n\n      <!-- /filtros boton -->\n\n      <!-- Table  -->\n      <h2>Lista de Propiedades Apartadas </h2>\n      <p>Se muestan las propiedades en estado \"Cerrado\" o \"Rojo\" debido a una oferta y/o crédito </p>\n      <app-general-table [columns]=\"columns\" [rows]=\"rows\" [isDesktop]=\"true\" (deletedButton)=\"presentAlertConfirm($event)\"\n        (detailsButton)=\"detailProp($event)\"></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n\n\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<!-- <ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newBuyer()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab> -->"

/***/ }),

/***/ "./src/app/components/admin/list-salesprop-admin/list-salesprop-admin.component.scss":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/admin/list-salesprop-admin/list-salesprop-admin.component.scss ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-salesprop-admin/list-salesprop-admin.component.ts":
/*!*****************************************************************************************!*\
  !*** ./src/app/components/admin/list-salesprop-admin/list-salesprop-admin.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: ListSalespropAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListSalespropAdminComponent", function() { return ListSalespropAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/status-buyer-property.service */ "./src/app/services/status-buyer-property.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var ListSalespropAdminComponent = /** @class */ (function () {
    function ListSalespropAdminComponent(propertyService, platform, router, alertController, toastController, navCtr, route, statusBPService) {
        this.propertyService = propertyService;
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.navCtr = navCtr;
        this.route = route;
        this.statusBPService = statusBPService;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // prop
        this.properties = [];
        // numofFilters
        this.numOfFilters = 0;
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListSalespropAdminComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: 'Consumidor',
                prop: 'buyer',
                type: 'normal',
            },
            {
                name: 'Propiedad',
                prop: 'property',
                type: 'normal',
            },
            {
                name: 'Ofertas',
                prop: 'ofert',
                type: 'boolean',
            },
            {
                name: 'Creditos',
                prop: 'credit',
                type: 'boolean',
            },
            {
                name: 'Fecha Actualización',
                prop: 'timestamp',
                type: 'date',
            },
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonDetails: true,
            },
        ];
        // this.getPropAll();
        this.getSBP();
    };
    /*   getPropAll() {
      this.numOfFilters = 0;
      this.propertyService.getAll().subscribe(prop => {
        this.properties = prop;
        console.log(prop);
        this.setRows(prop);
      });
    } */
    ListSalespropAdminComponent.prototype.getSBP = function () {
        var _this = this;
        this.isLoading = false;
        this.statusBPService.getStatusBuyerProperty().subscribe(function (sBPs) {
            _this.setRows(sBPs);
        });
    };
    ListSalespropAdminComponent.prototype.setRows = function (sBPs) {
        var rows = [];
        sBPs.filter(function (s) { return s.status === 'rojo'; }).forEach(function (sBP) {
            var date;
            // rojo por credito
            var isCredidRed = sBP.buyer.credit.find(function (credit) {
                return credit.status === 'rojo' &&
                    credit.property === sBP.property._id &&
                    credit.isAccept;
            });
            // rojo por oferta
            var isOfertRed = sBP.buyer.ofert.find(function (ofert) {
                return ofert.status === 'rojo' &&
                    ofert.property === sBP.property._id &&
                    ofert.isAccept;
            });
            if (isOfertRed && isCredidRed) {
                date =
                    new Date(isCredidRed.timestamp).getTime() >
                        new Date(isOfertRed.timestamp).getTime()
                        ? new Date(isCredidRed.timestamp)
                        : new Date(isOfertRed.timestamp);
            }
            else if (isOfertRed) {
                date = new Date(isOfertRed.timestamp);
            }
            else if (isCredidRed) {
                date = new Date(isCredidRed.timestamp);
            }
            if (isOfertRed || isCredidRed) {
                rows.push({
                    _id: sBP._id,
                    buyer: sBP.buyer.name,
                    property: sBP.property.name,
                    credit: !!isCredidRed,
                    ofert: !!isOfertRed,
                    timestamp: date,
                });
            }
        });
        rows.sort(function (a, b) {
            // Turn your strings into dates, and then subtract them
            // to get a value that is either negative, positive, or zero.
            return new Date(b.timestamp) - new Date(a.timestamp);
        });
        this.rows = rows;
        this.isLoading = true;
    };
    ListSalespropAdminComponent.prototype.detailProp = function (item) {
        // por servicio para seguridad
        this.statusBPService.timeToBuy = item.timestamp;
        var data = {
            queryParams: {
                id: item._id,
                credit: item.credit,
                ofert: item.ofert,
            },
        };
        this.router.navigate(['detail-salesprop-admin'], data);
    };
    ListSalespropAdminComponent.prototype.presentAlertConfirm = function (prop) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Usuario',
                            message: "\u00BFDesea eliminar propiedad: <strong>" + prop.name + "</strong>?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    },
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    },
                                },
                            ],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                /*  if (res.role === 'ok') {
                                  this.deleted(prop);
                                } */
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListSalespropAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListSalespropAdminComponent.prototype.getFilters = function (filters) {
        var _this = this;
        console.log(filters);
        var advFinded = this.properties.filter(function (prop) {
            var temp = Object(_config_helpers__WEBPACK_IMPORTED_MODULE_4__["PropertyFilter"])(filters, prop);
            _this.numOfFilters = temp.numOfFilters;
            return temp.isHope;
        });
        //  setea buyers
        this.setRows(advFinded);
    };
    ListSalespropAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-salesprop-admin',
            template: __webpack_require__(/*! ./list-salesprop-admin.component.html */ "./src/app/components/admin/list-salesprop-admin/list-salesprop-admin.component.html"),
            styles: [__webpack_require__(/*! ./list-salesprop-admin.component.scss */ "./src/app/components/admin/list-salesprop-admin/list-salesprop-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_property_service__WEBPACK_IMPORTED_MODULE_1__["PropertyService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
            _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_5__["StatusBuyerPropertyService"]])
    ], ListSalespropAdminComponent);
    return ListSalespropAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-schedule-admin/list-schedule-admin.component.html":
/*!*****************************************************************************************!*\
  !*** ./src/app/components/admin/list-schedule-admin/list-schedule-admin.component.html ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar translucent color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Calendario\n    </ion-title>\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Calendario'\" [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-header>\n  <ion-toolbar color=\"secondary\">\n    <ion-buttons slot=\"start\">\n      <ion-button *ngIf=\"showFullCalendar || showSpecific\" (click)=\"backOne()\" slot=\"start\">\n        <ion-icon mode=\"ios\" slot=\"icon-only\" name=\"arrow-back\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title style=\"text-align: center\">\n      {{showFullCalendar\n      ? month[monthNumber] + ' ' + year\n      : month[titleNavBar.getMonth()] + ' ' + titleNavBar.getFullYear()}}</ion-title>\n    <ion-buttons *ngIf=\"isDesktop\" slot=\"end\">\n      <!-- opciones de vista -->\n      <!--  <button mat-icon-button>\n        <mat-icon aria-label=\"Example icon-button with a heart icon\">favorite</mat-icon> Primary\n      </button> -->\n\n      <ion-button *ngIf=\"(showFullCalendar || showSpecific === false) && !dayItem \" (click)=\"showFullCalendar = false; showSpecific = true\"\n        slot=\"end\">\n        Agenda\n        <i slot=\"icon-only\" class=\"material-icons\">assignment</i>\n\n      </ion-button>\n      <!-- especial -->\n      <ion-button *ngIf=\"(showFullCalendar || showSpecific === false) && dayItem \" (click)=\"showFullCalendar = false; showSpecific = true; getEvents()\"\n        slot=\"end\">\n        Agenda\n        <!-- <ion-icon slot=\"icon-only\" name=\"clipboard\"></ion-icon> -->\n        <i slot=\"icon-only\" class=\"material-icons\">assignment</i>\n\n      </ion-button>\n      <!-- /especial -->\n\n      <ion-button *ngIf=\"(showFullCalendar || showSpecific === true) && !dayItem \" (click)=\"showFullCalendar = false; showSpecific = false;\"\n        slot=\"end\">\n        Lista\n        <!-- <ion-icon slot=\"icon-only\" name=\"reorder\"></ion-icon> -->\n        <i slot=\"icon-only\" class=\"material-icons\">view_list</i>\n\n      </ion-button>\n      <!-- especial -->\n      <ion-button *ngIf=\"!showFullCalendar && showSpecific === true && !showWeek && dayItem\" (click)=\"showFullCalendar = false; showSpecific = false; calendarSelect(dayItem, true)\"\n        slot=\"end\">\n        Lista Dia\n        <!-- <ion-icon slot=\"icon-only\" name=\"reorder\"></ion-icon> -->\n        <i slot=\"icon-only\" class=\"material-icons \">view_list</i>\n      </ion-button>\n      <!-- /especial -->\n\n      <ion-button *ngIf=\"!showFullCalendar\" (click)=\"showFullCalendar = true; showSpecific = true; getEvents() \" slot=\"end\">\n        Calendario\n        <!-- <ion-icon slot=\"icon-only\" name=\"calendar\"></ion-icon> -->\n        <i slot=\"icon-only\" class=\"material-icons \">date_range</i>\n\n      </ion-button>\n\n      <ion-button *ngIf=\"!showFullCalendar && showSpecific \" (click)=\"showWeek = !showWeek;\" slot=\"end\">{{showWeek\n        ?\n        'Día' :\n        'Semana'}}\n        <!-- <ion-icon slot=\"icon-only\" [name]=\"showWeek ? 'today' : 'clipboard'\"></ion-icon> -->\n        <i slot=\"icon-only\" class=\"material-icons \">{{showWeek ? 'view_agenda' : 'view_week'}}</i>\n\n\n\n      </ion-button>\n      <ion-button *ngIf=\"showFullCalendar || showSpecific\" (click)=\"fowardOne()\" slot=\"end\">\n        <ion-icon mode=\"ios\" slot=\"icon-only\" name=\"arrow-forward\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <!-- movil -->\n    <ion-buttons *ngIf=\"!isDesktop\" slot=\"end\">\n      <ion-button *ngIf=\"showFullCalendar || showSpecific\" (click)=\"fowardOne()\" slot=\"end\">\n        <ion-icon mode=\"ios\" slot=\"icon-only\" name=\"arrow-forward\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n  <!-- movil -->\n  <ion-toolbar *ngIf=\"!isDesktop\" color=\"secondary\">\n    <ion-buttons justify-content-center>\n      <!-- opciones de vista -->\n\n      <ion-button *ngIf=\"(showFullCalendar || showSpecific === false) && !dayItem \" (click)=\"showFullCalendar = false; showSpecific = true\"\n        slot=\"end\">\n        Agenda\n        <!-- <ion-icon slot=\"icon-only\" name=\"clipboard\"></ion-icon> -->\n        <i slot=\"icon-only\" class=\"material-icons\">assignment</i>\n\n      </ion-button>\n      <!-- especial -->\n      <ion-button *ngIf=\"(showFullCalendar || showSpecific === false) && dayItem \" (click)=\"showFullCalendar = false; showSpecific = true; getEvents()\"\n        slot=\"end\">\n        Agenda\n        <!-- <ion-icon slot=\"icon-only\" name=\"clipboard\"></ion-icon> -->\n        <i slot=\"icon-only\" class=\"material-icons\">assignment</i>\n\n      </ion-button>\n      <!-- /especial -->\n\n      <ion-button *ngIf=\"(showFullCalendar || showSpecific === true) && !dayItem \" (click)=\"showFullCalendar = false; showSpecific = false;\"\n        slot=\"end\">\n        Lista\n        <!-- <ion-icon slot=\"icon-only\" name=\"reorder\"></ion-icon> -->\n        <i slot=\"icon-only\" class=\"material-icons \">view_list</i>\n\n      </ion-button>\n      <!-- especial -->\n      <ion-button *ngIf=\"!showFullCalendar && showSpecific === true && !showWeek && dayItem\" (click)=\"showFullCalendar = false; showSpecific = false; calendarSelect(dayItem, true)\"\n        slot=\"end\">\n        Lista Dia\n        <!-- <ion-icon slot=\"icon-only\" name=\"reorder\"></ion-icon> -->\n        <i slot=\"icon-only\" class=\"material-icons \">view_list</i>\n\n      </ion-button>\n      <!-- /especial -->\n\n      <ion-button *ngIf=\"!showFullCalendar\" (click)=\"showFullCalendar = true; showSpecific = true; getEvents() \" slot=\"end\">\n        Calendario\n        <!-- <ion-icon slot=\"icon-only\" name=\"calendar\"></ion-icon> -->\n        <i slot=\"icon-only\" class=\"material-icons \">date_range</i>\n\n      </ion-button>\n      <ion-button *ngIf=\"!showFullCalendar && showSpecific \" (click)=\"showWeek = !showWeek;\" slot=\"end\">{{showWeek\n        ?\n        'Día' :\n        'Semana'}}\n        <!-- <ion-icon slot=\"icon-only\" [name]=\"showWeek ? 'today' : 'clipboard'\"></ion-icon> -->\n        <i slot=\"icon-only\" class=\"material-icons \">{{showWeek ? 'view_agenda' : 'view_week'}}</i>\n\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding>\n  <ion-grid fixed style=\"height: 100%;\">\n    <span *ngIf=\"isLoad\">\n      <ng-container *ngIf=\"showFullCalendar; then thenTemplate; else elseTemplate\"></ng-container>\n      <ng-template #thenTemplate>\n        <!-- calendario general -->\n        <app-general-calendar [year]=\"year\" [month]=\"monthNumber\" [schedules]=\"schedule\" (calendarSelect)=\"calendarSelect($event)\"\n          (alertOfToday)=\"toastPresent()\"></app-general-calendar>\n      </ng-template>\n      <ng-template #elseTemplate>\n        <ng-container *ngIf=\"showSpecific; then Specific; else EventsList\"></ng-container>\n        <ng-template #Specific>\n\n          <!-- Calendario especifico -->\n          <app-calendar-specific [currentWeek]=\"currentWeek\" (newEvent)=\"newEventByDate($event)\" (editPersonalEvent)=\"editEventPersonalById($event)\"\n            (editEvent)=\"newEventById($event)\" (deletedEvent)=\"presentAlertConfirm($event)\" [isWeek]=\"showWeek\"\n            [schedules]=\"schedule\" [add]=\"fowarkWeek\" [remove]=\"backWeek\" (titleNavBar)=\"titleNavBar = $event\"></app-calendar-specific>\n          <!-- /Calendario especifico -->\n\n        </ng-template>\n        <ng-template #EventsList>\n          <h2 *ngIf=\"isAll\">Todos los Eventos</h2>\n          <h2 *ngIf=\"!isAll\">Mostrando Eventos del {{dateDaySelect}}</h2>\n          <ion-item lines=\"none\">\n            <ion-button *ngIf=\"!isAll\" shape=\"round\" color=\"secondary\" (click)=\"getEvents(); isAll=true; \">Mostrar\n              todos</ion-button>\n            <ion-button *ngIf=\"!isAll\" shape=\"round\" (click)=\"newEventByDate(dayItem)\">Crear Evento este\n              día</ion-button>\n            <ion-button *ngIf=\"isAll\" shape=\"round\" (click)=\"newEventByDate()\">Crear Evento Nuevo</ion-button>\n          </ion-item>\n\n          <!-- Eventos -->\n          <mat-accordion *ngFor=\"let item of schedule\" style=\"margin: 1%\">\n            <mat-expansion-panel [ngClass]=\"{'state-verde': item.status === 'verde', \n                'state-amarillo':  item.status === 'amarillo',\n                'state-rojo':  item.status === 'rojo',\n                'state-gris': item.status === 'gris',\n                'state-azul':  item.status === 'azul' }\">\n              <mat-expansion-panel-header>\n                <mat-panel-title>\n                  <b>{{formatState(item.status)}}</b>\n                </mat-panel-title>\n                <mat-panel-description *ngIf=\" !item.administrator && !item.personal \">\n                  {{item.buyer.name}} {{item.adviser ? 'con ' + item.adviser.name : ''}}\n                </mat-panel-description>\n                <mat-panel-description *ngIf=\"item.administrator || item.personal \">\n                  {{item.title}}\n                </mat-panel-description>\n              </mat-expansion-panel-header>\n              <!-- listado -->\n              <ion-list lines=\"none\">\n                <ion-item lines=\"none\" *ngIf=\"item.buyer\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"contact\"></ion-icon>\n                  <ion-label slot=\"start\" text-wrap>\n                    <p><b>Cliente:</b> </p>\n                    <p>{{item.buyer.name}}</p>\n                  </ion-label>\n                </ion-item>\n                <ion-item lines=\"none\" *ngIf=\"item.adviser\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"contact\"></ion-icon>\n                  <ion-label slot=\"start\" text-wrap>\n                    <p><b>Asesor:</b> </p>\n                    <p>{{item.adviser.name}}</p>\n                  </ion-label>\n                </ion-item>\n                <ion-item lines=\"none\" *ngIf=\"item.seller\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"contact\"></ion-icon>\n                  <ion-label slot=\"start\" text-wrap>\n                    <p><b>Propietario:</b> </p>\n                    <p>{{item.seller.name}}</p>\n                  </ion-label>\n                </ion-item>\n                <ion-item lines=\"none\" *ngIf=\"item.property\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"home\"></ion-icon>\n                  <ion-label slot=\"start\" text-wrap>\n                    <p><b>Propiedad:</b> </p>\n                    <p>{{item.property.name}}</p>\n                  </ion-label>\n                </ion-item>\n                <ion-item lines=\"none\" *ngIf=\"item.address\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"pin\"></ion-icon>\n                  <ion-label slot=\"start\" text-wrap>\n                    <p><b>Lugar:</b> </p>\n                    <p>{{item.address}}</p>\n                    <!-- <a [href]=\"'http://maps.google.com/?q='+item.address+', Puebla'\">Ver mapa</a> -->\n                    <app-maps-button slot=\"end\" [address]=\"item.address\"></app-maps-button>\n                    <!-- <a (click)=\"openMaps(item.address)\">Ver mapa</a> -->\n                  </ion-label>\n                </ion-item>\n                <ion-item lines=\"none\" *ngIf=\"item.day\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"calendar\"></ion-icon>\n                  <ion-label slot=\"start\" text-wrap>\n                    <p><b>Fecha del Evento:</b> </p>\n                    <p>{{item.day}}/{{item.month + 1}}/{{item.year}}</p>\n                  </ion-label>\n                </ion-item>\n                <ion-item lines=\"none\" *ngIf=\"item.day\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"time\"></ion-icon>\n                  <ion-label slot=\"start\" text-wrap>\n                    <p><b>Hora del Evento:</b> </p>\n                    <p>{{formatHours(item.hour,item.minute)}}</p>\n                  </ion-label>\n                </ion-item>\n                <!-- <ion-item lines=\"none\" *ngIf=\"item.status\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"cash\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Estado:</b> </p>\n                            <p *ngIf=\"item.status === 'gris'\">Cita Generada</p>\n                            <p *ngIf=\"item.status === 'verde'\">Propuesta Cita</p>\n                            <p *ngIf=\"item.status === 'amarillo'\">Esperando Visita</p>\n                            <p *ngIf=\"item.status === 'rojo'\">Visitada</p>\n                          </ion-label>\n                        </ion-item> -->\n                <ion-item *ngIf=\"item.note\" lines=\"none\">\n                  <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"clipboard\"></ion-icon>\n                  <ion-label slot=\"start\" text-wrap>\n                    <p><b>Notas:</b> </p>\n                    <p>{{item.note}}</p>\n                  </ion-label>\n                </ion-item>\n                <ion-item *ngIf=\"item.scoreByAdviser\" lines=\"none\">\n                  <ion-chip [ngClass]=\"\n                            {\n                            'background-verde': item.scoreByAdviser === 'verde', \n                            'background-amarillo':  item.scoreByAdviser === 'amarillo',\n                            'background-rojo':  item.scoreByAdviser === 'rojo',\n                            'background-gris': item.scoreByAdviser === 'gris',\n                            'background-azul':  item.scoreByAdviser === 'azul'\n                          }\">\n                    <ion-chip-icon class=\"icon-chip-detail\" name=\"eye\"></ion-chip-icon>\n                    <ion-label *ngIf=\"item.scoreByAdviser ===  'verde'\">Poco interés</ion-label>\n                    <ion-label *ngIf=\"item.scoreByAdviser ===  'amarillo'\">Oportunidad de venta</ion-label>\n                    <ion-label *ngIf=\"item.scoreByAdviser ===  'rojo'\">Venta muy probable</ion-label>\n                    <ion-label *ngIf=\"item.scoreByAdviser ===  'gris'\">No hay interés</ion-label>\n                    <ion-label *ngIf=\"item.scoreByAdviser ===  'azul'\">Muy bien</ion-label>\n                  </ion-chip>\n                </ion-item>\n                <ion-item lines=\"none\">\n                  <ion-button *ngIf=\"!item.administrator && !item.personal && user.type === 'adviser' && item.status === 'amarillo' && comparateDate(item.year, item.month, item.day) \"\n                    (click)=\"presentAlertVisit(item)\" color=\"warning\" fill=\"outline\" slot=\"end\">\n                    Calificar <ion-icon name=\"clipboard\"></ion-icon>\n                  </ion-button>\n                  <ion-button *ngIf=\"!item.administrator && !item.personal\" (click)=\"newEventById(item._id)\" color=\"success\"\n                    fill=\"outline\" slot=\"end\">\n                    Editar <ion-icon name=\"create\"></ion-icon>\n                  </ion-button>\n                  <ion-button *ngIf=\"item.administrator || item.personal \" (click)=\"editEventPersonalById(item._id)\"\n                    color=\"success\" fill=\"outline\" slot=\"end\">\n                    Editar Evento Personal <ion-icon name=\"create\"></ion-icon>\n                  </ion-button>\n                  <ion-button (click)=\"presentAlertConfirm(item._id)\" color=\"danger\" fill=\"outline\" slot=\"end\">\n                    Borrar <ion-icon name=\"trash\"></ion-icon>\n                  </ion-button>\n\n                </ion-item>\n              </ion-list>\n              <!-- /listado -->\n\n\n            </mat-expansion-panel>\n          </mat-accordion>\n          <!-- /eventos -->\n\n        </ng-template>\n      </ng-template>\n\n\n\n\n\n    </span>\n    <span *ngIf=\"!isLoad\">\n      <app-general-skeleton></app-general-skeleton>\n    </span>\n\n  </ion-grid>\n\n</ion-content>\n<!-- Solo vendedor y asesor -->\n<ion-footer *ngIf=\"(user.type === 'adviser' || user.type === 'seller') && sales\">\n  <ion-toolbar>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"sendToTotalSales()\" fill=\"solid\" color=\"secondary\">\n        Ventas<ion-badge color=\"dark\" style=\" margin-left: 2%;\">{{sales.length}}</ion-badge>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-footer>"

/***/ }),

/***/ "./src/app/components/admin/list-schedule-admin/list-schedule-admin.component.scss":
/*!*****************************************************************************************!*\
  !*** ./src/app/components/admin/list-schedule-admin/list-schedule-admin.component.scss ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".icon-chip-detail {\n  border-radius: 50%;\n  background-color: black;\n  color: white; }\n\nmat-panel-description {\n  justify-content: flex-end; }\n"

/***/ }),

/***/ "./src/app/components/admin/list-schedule-admin/list-schedule-admin.component.ts":
/*!***************************************************************************************!*\
  !*** ./src/app/components/admin/list-schedule-admin/list-schedule-admin.component.ts ***!
  \***************************************************************************************/
/*! exports provided: ListScheduleAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListScheduleAdminComponent", function() { return ListScheduleAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_schedule_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/schedule.service */ "./src/app/services/schedule.service.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/dist/index.js");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _services_seller_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/seller.service */ "./src/app/services/seller.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _services_sale_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../services/sale.service */ "./src/app/services/sale.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












var ListScheduleAdminComponent = /** @class */ (function () {
    function ListScheduleAdminComponent(buyerService, userSessionService, navController, router, scheduleService, alertController, userService, toastController, storage, route, oneSignalService, sellerService, saleService, platform) {
        var _this = this;
        this.buyerService = buyerService;
        this.userSessionService = userSessionService;
        this.navController = navController;
        this.router = router;
        this.scheduleService = scheduleService;
        this.alertController = alertController;
        this.userService = userService;
        this.toastController = toastController;
        this.storage = storage;
        this.route = route;
        this.oneSignalService = oneSignalService;
        this.sellerService = sellerService;
        this.saleService = saleService;
        this.platform = platform;
        this.month = [
            'Enero',
            'Febrero',
            'Marzo',
            'Abril',
            'Mayo',
            'Junio',
            'Julio',
            'Agosto',
            'Septiembre',
            'Octubre',
            'Noviembre',
            'Diciembre'
        ];
        this.isLoad = false;
        this.showFullCalendar = true;
        this.showSpecific = false;
        // week
        this.showWeek = true;
        this.fowarkWeek = 0;
        this.backWeek = 0;
        this.currentWeek = new Date();
        this.titleNavBar = new Date();
        this.isDesktop = platform.is('desktop');
        console.log(this.isDesktop);
        this.user = userService.userSession.value;
        this.monthNumber = new Date().getMonth();
        this.year = new Date().getFullYear();
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.getEvents();
        this.isAll = true;
    }
    ListScheduleAdminComponent.prototype.ngOnInit = function () {
        /* const buyer = this.userSessionService.userSession.value;
        this.buyerService.getBuyerById(buyer.id).subscribe(b => {
          this.schedule = b.schedule;
          this.isLoad = true;
        }); */
    };
    ListScheduleAdminComponent.prototype.calendarSelect = function (item, islist) {
        if (item.day !== 0) {
            var isFinded = this.schedule.filter(function (s) {
                return s.day === item.day && s.month === item.month && s.year === item.year;
            });
            if (isFinded.length > 0) {
                this.dateDaySelect = Object(_config_helpers__WEBPACK_IMPORTED_MODULE_6__["FormatDatesFront"])(new Date(item.year, item.month, item.day));
                if (islist) {
                    this.schedule = isFinded;
                }
                this.showFullCalendar = false;
                this.isAll = false;
                this.dayItem = item;
                if (!islist) {
                    this.currentWeek = new Date(item.year, item.month, item.day);
                    this.showWeek = false;
                    this.showSpecific = true;
                }
            }
            else {
                this.newEventByDate(item);
            }
        }
    };
    ListScheduleAdminComponent.prototype.getEvents = function () {
        var _this = this;
        this.isLoad = false;
        this.dayItem = undefined;
        this.isAll = true;
        this.scheduleService.getSchedule().subscribe(function (schedules) {
            // console.log('schedules', schedules);
            var user = _this.userService.userSession.value;
            if (user.type === 'administrator') {
                _this.schedule = schedules.filter(function (s) { return !s.personal; });
            }
            else if (user.type === 'adviser') {
                _this.getTotalSalesByAdv();
                _this.toastPresentAdv("Bienvenido " + _this.user.name);
                _this.schedule = schedules.filter(function (s) {
                    return (s.adviser && s.adviser._id === user.id) ||
                        (s.personal && s.personal === user.id);
                });
            }
            else if (user.type === 'office') {
                _this.schedule = schedules.filter(function (s) { return !s.administrator || (s.personal && s.personal === user.id); });
            }
            else if (user.type === 'seller') {
                _this.schedule = schedules.filter(function (s) {
                    return (s.seller && s.seller._id === user.id) ||
                        (s.personal && s.personal === user.id);
                });
            }
            _this.schedule.sort(function (a, b) {
                // Turn your strings into dates, and then subtract them
                // to get a value that is either negative, positive, or zero.
                return new Date(b.timestamp) - new Date(a.timestamp);
            });
            // console.log(this.schedule);
            _this.isLoad = true;
        });
    };
    ListScheduleAdminComponent.prototype.newEventByDate = function (date) {
        if (date) {
            var data = {
                queryParams: {
                    day: date.day,
                    month: date.month,
                    year: date.year,
                    hour: date.hour
                }
            };
            this.router.navigate(['new-edit-schedule'], data);
        }
        else {
            this.router.navigate(['new-edit-schedule']);
        }
    };
    ListScheduleAdminComponent.prototype.newEventById = function (id) {
        var data = {
            queryParams: { id: id }
        };
        this.router.navigate(['new-edit-schedule'], data);
    };
    ListScheduleAdminComponent.prototype.editEventPersonalById = function (id) {
        var data = {
            queryParams: { id: id }
        };
        this.router.navigate(['personal-schedule'], data);
    };
    ListScheduleAdminComponent.prototype.deleteEvent = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            var schedule;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.scheduleService.getScheduleById(id).toPromise()];
                    case 1:
                        schedule = _a.sent();
                        if (schedule.notificationOneSignal) {
                            schedule.notificationOneSignal.forEach(function (idN) {
                                _this.oneSignalService.deleteOneSignalSchedule(idN).subscribe();
                            });
                        }
                        this.scheduleService
                            .deltedScheduleById(id)
                            .toPromise()
                            .then(function () {
                            _this.getEvents();
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    // dialogs
    ListScheduleAdminComponent.prototype.presentAlertConfirm = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar evento',
                            message: "\u00BFDesea eliminar evento?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) { }
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    }
                                }
                            ]
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleteEvent(id);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Calificar visita
     */
    ListScheduleAdminComponent.prototype.presentAlertVisit = function (schedule) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Calificar',
                            subHeader: 'Califica la visita realizada',
                            inputs: [
                                {
                                    name: 'radio2',
                                    type: 'radio',
                                    label: 'No hay interés',
                                    value: 'gris'
                                },
                                {
                                    name: 'radio3',
                                    type: 'radio',
                                    label: 'Poco interés',
                                    value: 'verde'
                                },
                                {
                                    name: 'radio4',
                                    type: 'radio',
                                    label: 'Oportunidad de venta',
                                    value: 'amarillo'
                                },
                                {
                                    name: 'radio5',
                                    type: 'radio',
                                    label: 'Venta muy probable',
                                    value: 'rojo'
                                }
                            ],
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function () { }
                                },
                                {
                                    text: 'Ok',
                                    role: 'ok',
                                    handler: function () { }
                                }
                            ]
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    schedule.scoreByAdviser = res.data.values;
                                    schedule.status = 'rojo';
                                    _this.putEvent(schedule);
                                }
                            })];
                    case 3:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListScheduleAdminComponent.prototype.getSellerOfProperty = function (propId) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.sellerService
                            .getSellerAll()
                            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["map"])(function (sellers) {
                            return sellers.find(function (s) { return !!s.property.find(function (p) { return p._id === propId; }); });
                        }))
                            .toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    // end dialogs
    ListScheduleAdminComponent.prototype.putEvent = function (schedule) {
        return __awaiter(this, void 0, void 0, function () {
            var seller;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getSellerOfProperty(schedule.property._id)];
                    case 1:
                        seller = _a.sent();
                        this.notification('Calificación de Visita', "El asesor " + this.userSessionService.userSession.value.name + " calific\u00F3 como \"" + (schedule.scoreByAdviser === 'rojo'
                            ? 'Venta muy probable'
                            : schedule.scoreByAdviser === 'amarillo'
                                ? 'Oportunidad de venta'
                                : schedule.scoreByAdviser === 'verde'
                                    ? 'Poco interés'
                                    : 'Sin interés') + "\" la visita a la propiedad " + schedule.property.name + " con el comprador " + schedule.buyer.name, 'rojo', 'schedule', ['administrator', 'office'], seller === undefined ? undefined : [seller._id]);
                        this.scheduleService
                            .putSchedule(schedule)
                            .toPromise()
                            .then(function () {
                            _this.getEvents();
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    ListScheduleAdminComponent.prototype.toastPresent = function (m) {
        if (m === void 0) { m = 'Eventos pendientes hoy'; }
        return __awaiter(this, void 0, void 0, function () {
            var isPresent, toast;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.get('alert-today')];
                    case 1:
                        isPresent = _a.sent();
                        console.log(isPresent);
                        if (!(+isPresent !== new Date().getDate())) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.toastController.create({
                                message: m,
                                showCloseButton: true,
                                position: 'bottom',
                                closeButtonText: 'OK',
                                cssClass: 'toast-alert',
                                duration: 5000
                            })];
                    case 2:
                        toast = _a.sent();
                        toast.present();
                        toast.onWillDismiss().then(function () {
                            _this.storage.set('alert-today', new Date().getDate());
                        });
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ListScheduleAdminComponent.prototype.toastPresentAdv = function (m) {
        return __awaiter(this, void 0, void 0, function () {
            var isPresent, toast;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.get('alert-adv')];
                    case 1:
                        isPresent = _a.sent();
                        if (!(+isPresent !== new Date().getDate())) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.toastController.create({
                                message: m,
                                position: 'bottom',
                                showCloseButton: false,
                                cssClass: 'toast-adv',
                                duration: 4000
                            })];
                    case 2:
                        toast = _a.sent();
                        toast.present();
                        toast.onWillDismiss().then(function () {
                            _this.storage.set('alert-adv', new Date().getDate());
                        });
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ListScheduleAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    // _helpers
    ListScheduleAdminComponent.prototype.backOne = function () {
        if (this.showFullCalendar === false) {
            this.backWeek++;
        }
        else {
            if (this.monthNumber === 0) {
                this.year--;
                this.monthNumber = 11;
            }
            else {
                this.monthNumber--;
            }
        }
    };
    ListScheduleAdminComponent.prototype.fowardOne = function () {
        if (this.showFullCalendar === false) {
            this.fowarkWeek++;
        }
        else {
            if (this.monthNumber === 11) {
                this.year++;
                this.monthNumber = 0;
            }
            else {
                this.monthNumber++;
            }
        }
    };
    ListScheduleAdminComponent.prototype.formatDate = function (item) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_6__["FormatDatesFront"])(item);
    };
    ListScheduleAdminComponent.prototype.formatState = function (state) {
        if (state === 'verde') {
            return 'En espera de confirmación';
        }
        else if (state === 'amarillo') {
            return 'Confirmada en espera de asistencia';
        }
        else if (state === 'rojo') {
            return 'Cita pasada';
        }
        else if (state === 'azul') {
        }
        else if (state === undefined) {
            return 'Evento Personal';
        }
        else if (state === 'gris') {
            return 'Solicitud de Cita';
        }
    };
    ListScheduleAdminComponent.prototype.formatHours = function (hours, minutes) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_6__["FormatHoursFront"])(hours, minutes);
    };
    ListScheduleAdminComponent.prototype.comparateDate = function (year, month, day) {
        var today = new Date().getTime();
        var date = new Date(year, month, day).getTime();
        return date < today;
    };
    ListScheduleAdminComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userSessionService.userSession.value.id,
            status: status,
            type: type
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, tags, receiversId)
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    ListScheduleAdminComponent.prototype.getTotalSalesByAdv = function () {
        var _this = this;
        this.saleService.getSaleByIdAdv(this.user.id).subscribe(function (sales) {
            _this.sales = sales;
        });
    };
    ListScheduleAdminComponent.prototype.sendToTotalSales = function () {
        if (this.sales.length > 0) {
            this.router.navigate(['list-sales-admin']);
        }
    };
    ListScheduleAdminComponent.prototype.openMaps = function (schedule) {
        Object(_config_helpers__WEBPACK_IMPORTED_MODULE_6__["OpenGoogleMaps"])(schedule);
    };
    ListScheduleAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-schedule-admin',
            template: __webpack_require__(/*! ./list-schedule-admin.component.html */ "./src/app/components/admin/list-schedule-admin/list-schedule-admin.component.html"),
            styles: [__webpack_require__(/*! ./list-schedule-admin.component.scss */ "./src/app/components/admin/list-schedule-admin/list-schedule-admin.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_buyer_service__WEBPACK_IMPORTED_MODULE_1__["BuyerService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__["UserSessionService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
            _services_schedule_service__WEBPACK_IMPORTED_MODULE_5__["ScheduleService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["AlertController"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__["UserSessionService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_7__["Storage"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_8__["OnesignalService"],
            _services_seller_service__WEBPACK_IMPORTED_MODULE_9__["SellerService"],
            _services_sale_service__WEBPACK_IMPORTED_MODULE_11__["SaleService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"]])
    ], ListScheduleAdminComponent);
    return ListScheduleAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/list-seller-admin/list-seller-admin.component.html":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/list-seller-admin/list-seller-admin.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Propietarios\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Propietarios'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then Load; else noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <mat-drawer [class.mat-elevation-z1]=true position=\"end\" #drawer class=\"sidenav\" [mode]=\"isDesktop ? 'side' : 'over'\"\n        [opened]=\"openMenu\">\n        <app-filter-seller (filters)=\"getFilters($event)\" (resetAll)=\"getSellerAll()\" (closeMenu)=\"drawer.close()\"\n          [isDesktop]=\"isDesktop\"></app-filter-seller>\n      </mat-drawer>\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilters}})\n        </ion-button>\n      </ion-item>\n      <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n        <ion-button (click)=\"drawer.toggle()\" slot=\"end\" color=\"secondary\" fill=\"outline\">\n          <ion-icon name=\"funnel\"></ion-icon>Filtros {{(drawer.openedChange | async) ? 'cerrar' : 'abrir'}}\n        </ion-button>\n      </ion-item>\n\n      <!-- /filtros boton -->\n\n      <!-- Table  -->\n      <h2>Lista de Dueños </h2>\n      <app-general-table [columns]=\"columns\" [rows]=\"rows\" [isDesktop]=\"isDesktop\" (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\" (detailsButton)=\"detailSeller($event)\"></app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n\n\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newBuyer()\" *ngIf=\"isLoading\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>"

/***/ }),

/***/ "./src/app/components/admin/list-seller-admin/list-seller-admin.component.scss":
/*!*************************************************************************************!*\
  !*** ./src/app/components/admin/list-seller-admin/list-seller-admin.component.scss ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/admin/list-seller-admin/list-seller-admin.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/components/admin/list-seller-admin/list-seller-admin.component.ts ***!
  \***********************************************************************************/
/*! exports provided: ListSellerAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListSellerAdminComponent", function() { return ListSellerAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_seller_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/seller.service */ "./src/app/services/seller.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var ListSellerAdminComponent = /** @class */ (function () {
    function ListSellerAdminComponent(sellerService, platform, router, alertController, toastController, navCtr, route) {
        this.sellerService = sellerService;
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.navCtr = navCtr;
        this.route = route;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // sellers
        this.seller = [];
        // numofFilters
        this.numOfFilters = 0;
        console.log('init');
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    ListSellerAdminComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: 'Nombre',
                prop: 'name',
                type: 'normal',
            },
            {
                name: 'Apellido',
                prop: 'lastName',
                type: 'normal',
            },
            {
                name: 'Fecha Alta',
                prop: 'timestamp',
                type: 'date',
            },
            {
                name: 'Tipo',
                prop: 'typeSeller',
                type: 'normal',
            },
            {
                name: 'Propiedades',
                prop: 'property',
                type: 'normal',
            },
            {
                name: 'Notas',
                prop: 'notes',
                type: 'normal',
            },
            {
                name: 'Acciones',
                prop: 'acction',
                type: 'buttons',
                buttonEdit: true,
                buttonDeleted: true,
                buttonDetails: true,
            },
        ];
        this.getSellerAll();
    };
    ListSellerAdminComponent.prototype.getSellerAll = function () {
        var _this = this;
        this.isLoading = false;
        this.numOfFilters = 0;
        this.sellerService.getSellerAll().subscribe(function (seller) {
            _this.seller = seller;
            console.log(seller);
            _this.setRows(seller);
        });
    };
    ListSellerAdminComponent.prototype.setRows = function (sellers) {
        var rows = [];
        sellers.forEach(function (seller) {
            var prop = seller.property
                .map(function (p) { return p.name; })
                .slice(0, 4)
                .toString();
            var typeSeller = 'Vende';
            if (seller.isRenter) {
                typeSeller = 'Renta';
            }
            rows.push({
                _id: seller._id,
                name: seller.name,
                lastName: seller.lastName,
                timestamp: seller.timestamp,
                typeSeller: typeSeller,
                property: prop,
                notes: seller.notes,
            });
        });
        this.rows = rows;
        this.isLoading = true;
    };
    ListSellerAdminComponent.prototype.newBuyer = function () {
        var data = {
            queryParams: { id: 'new' },
        };
        // this.navCtr.navigateRoot('new-edit-seller');
        this.router.navigate(['new-edit-seller']);
    };
    ListSellerAdminComponent.prototype.edit = function (item) {
        var data = {
            queryParams: { id: item._id },
        };
        this.router.navigate(['new-edit-seller'], data);
        // this.router
        //   .navigateByUrl('/list-seller-admin', { skipLocationChange: true })
        //   .then(() => this.router.navigate(['new-edit-seller'], data));
        // this.isLoading = false;
        // this.navCtr.navigateRoot('new-edit-seller', false, data);
    };
    ListSellerAdminComponent.prototype.deleted = function (seller) {
        var _this = this;
        this.sellerService
            .deletedSellerById(seller._id)
            .toPromise()
            .then(function () {
            _this.getSellerAll();
        });
    };
    ListSellerAdminComponent.prototype.detailSeller = function (buyer) {
        var data = {
            queryParams: { id: buyer._id },
        };
        this.router.navigate(['detail-seller-admin'], data);
    };
    ListSellerAdminComponent.prototype.presentAlertConfirm = function (seller) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Eliminar Usuario',
                            message: "\u00BFDesea eliminar usuario: <strong>" + seller.name + "</strong>?",
                            buttons: [
                                {
                                    text: 'Cancelar',
                                    role: 'cancel',
                                    cssClass: 'secondary',
                                    handler: function (blah) {
                                        console.log('Confirm Cancel: blah');
                                    },
                                },
                                {
                                    text: 'Sí',
                                    role: 'ok',
                                    handler: function () {
                                        /* this.deleted(buyer);
                                        this.getBuyerAll(); */
                                    },
                                },
                            ],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        // IMPORTANTE ASYNC !!!!!
                        return [4 /*yield*/, alert.onWillDismiss().then(function (res) {
                                if (res.role === 'ok') {
                                    _this.deleted(seller);
                                }
                            })];
                    case 3:
                        // IMPORTANTE ASYNC !!!!!
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListSellerAdminComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ListSellerAdminComponent.prototype.getFilters = function (filters) {
        var advFinded = this.seller.filter(function (adv) { return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_4__["SellerFilter"])(adv, filters); });
        //  setea buyers
        this.setRows(advFinded);
        // num filters
        var numFilters = 0;
        if (filters.day) {
            numFilters++;
        }
        if (filters.month) {
            numFilters++;
        }
        if (filters.year) {
            numFilters++;
        }
        if (filters.isRenter) {
            numFilters++;
        }
        this.numOfFilters = numFilters;
    };
    ListSellerAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-seller-admin',
            template: __webpack_require__(/*! ./list-seller-admin.component.html */ "./src/app/components/admin/list-seller-admin/list-seller-admin.component.html"),
            styles: [__webpack_require__(/*! ./list-seller-admin.component.scss */ "./src/app/components/admin/list-seller-admin/list-seller-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_seller_service__WEBPACK_IMPORTED_MODULE_1__["SellerService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]])
    ], ListSellerAdminComponent);
    return ListSellerAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/admin/main-admin/main-admin.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/components/admin/main-admin/main-admin.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <!--  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Administrador\n    </ion-title>\n\n  </ion-toolbar> -->\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Administrador'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n  <ion-toolbar [ngClass]=\"{'desktop-tabs': isDesktop}\" color=\"primary\">\n    <ion-segment color=\"secondary\" (ionChange)=\"segmentChanged($event)\">\n      <ion-segment-button checked value=\"movementsSegment\">\n        Movimientos\n      </ion-segment-button>\n      <ion-segment-button value=\"eventsSegment\">\n        Citas\n      </ion-segment-button>\n    </ion-segment>\n  </ion-toolbar>\n</ion-header>\n<ion-content>\n  <!-- <ion-grid [ngClass]=\"{'desktop-grid': isDesktop}\"> -->\n  <ion-grid>\n    <ng-container *ngIf=\"isLoad; then thenLoad; else elseLoad\"></ng-container>\n    <!-- cargado -->\n    <ng-template #thenLoad>\n\n\n      <span [ngSwitch]=\"segment\">\n        <!-- movementsSegment -->\n        <span *ngSwitchCase=\"'movementsSegment'\">\n          <!-- titulos -->\n          <h2>Movimientos en el Sistema </h2>\n          <p>Se muestra cada acción realizada en el sistema con su estado</p>\n          <!-- filtros -->\n          <div class=\"filters-conteiner\">\n            <div class=\"filters-day\">\n              <mat-form-field appearance=\"fill\">\n                <mat-label>Filtrar por tiempo</mat-label>\n                <mat-select #time [(ngModel)]=\"filterTime\" (valueChange)=\"filterTime = time.value; getFiltersGeneral()\"\n                  placeholder=\"Fitrar Días\">\n                  <mat-option value=7>\n                    7 Días\n                  </mat-option>\n                  <mat-option value=14>\n                    14 Días\n                  </mat-option>\n                  <mat-option value=30>\n                    Último mes\n                  </mat-option>\n                  <mat-option value='dateSpecific'>\n                    Rango de Fecha\n                  </mat-option>\n                </mat-select>\n                <button mat-button *ngIf=\"filterTime\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"filterTime = undefined; startDate= undefined; endDate= undefined; getFiltersGeneral()\">\n                  <mat-icon>close</mat-icon>\n                </button>\n              </mat-form-field>\n              <!-- inicio -->\n              <mat-form-field *ngIf=\"isCalendar\" appearance=\"fill\">\n                <mat-label>Fecha Inicio</mat-label>\n                <input (dateChange)=\"dateSelectStart($event)\" (focus)=\"picker.open()\" matInput [matDatepicker]=\"picker\"\n                  placeholder=\"Selecciona Fecha\" required>\n                <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n                <mat-datepicker #picker></mat-datepicker>\n              </mat-form-field>\n              <!-- fecha fin -->\n\n              <mat-form-field *ngIf=\"isCalendar\" appearance=\"fill\">\n                <mat-label>Fecha Fin</mat-label>\n                <input (dateChange)=\"dateSelectEnd($event)\" (focus)=\"pickerEnd.open()\" matInput [matDatepicker]=\"pickerEnd\"\n                  placeholder=\"Selecciona Fecha\" required>\n                <mat-datepicker-toggle matSuffix [for]=\"pickerEnd\"></mat-datepicker-toggle>\n                <mat-datepicker #pickerEnd></mat-datepicker>\n              </mat-form-field>\n            </div>\n\n            <div class=\"filters-toogle\">\n              <mat-button-toggle-group [value]=\"matButtonToggleGroup\" style=\"flex-wrap: wrap\" (change)=\"matButtonToggleGroup = $event.value; getFiltersGeneral(); \">\n                <mat-button-toggle value=\"schedule\">Citas</mat-button-toggle>\n                <mat-button-toggle value=\"ofert\">Ofertas</mat-button-toggle>\n                <mat-button-toggle value=\"sbp\">Estados</mat-button-toggle>\n                <mat-button-toggle value=\"credit\">Créditos</mat-button-toggle>\n                <mat-button-toggle value=\"all\">Todos</mat-button-toggle>\n              </mat-button-toggle-group>\n            </div>\n\n          </div>\n\n\n          <!-- <ion-row justify-content-around> -->\n          <ion-row>\n            <ion-col size=\"12\" size-md=\"6\" size-lg=\"6\" size-xl=\"6\" *ngFor=\"let item of allData\">\n              <!-- \n              decide que carta\n              ofert\n              schedule\n              credit\n              sbp\n            -->\n              <span [ngSwitch]=\"item.type\">\n                <span *ngSwitchCase=\"'ofert'\">\n                  <!-- oferta -->\n                  <mat-accordion>\n                    <mat-expansion-panel [ngClass]=\"{'state-verde': item.data.oferts.status === 'verde', \n                    'state-amarillo':  item.data.oferts.status === 'amarillo',\n                    'state-rojo':  item.data.oferts.status === 'rojo',\n                    'state-gris': item.data.oferts.status === 'gris',\n                    'state-azul':  item.data.oferts.status === 'azul'}\">\n                      <mat-expansion-panel-header>\n                        <mat-panel-title>\n                          <b>Oferta</b>\n                        </mat-panel-title>\n                        <mat-panel-description>\n                          {{item.data.oferts.buyer.name}}\n                        </mat-panel-description>\n                        <mat-panel-description>\n                          {{formatDates(item.time)}}\n                        </mat-panel-description>\n                      </mat-expansion-panel-header>\n\n                      <!-- listado -->\n                      <ion-list lines=\"none\">\n                        <ion-item lines=\"none\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"clipboard\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Notas:</b> </p>\n                            <p>{{item.data.oferts.notes}}</p>\n                          </ion-label>\n                        </ion-item>\n                        <ion-item lines=\"none\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"cash\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Precio:</b> </p>\n                            <p>${{item.data.oferts.ofertPrice}}</p>\n                          </ion-label>\n                        </ion-item>\n                        <ion-item lines=\"none\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"contact\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Cliente:</b> </p>\n                            <p>{{item.data.oferts.buyer.name}}</p>\n                          </ion-label>\n                        </ion-item>\n                        <ion-item lines=\"none\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"home\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Propiedad:</b> </p>\n                            <p>{{item.data.oferts.property.name}}</p>\n                          </ion-label>\n                        </ion-item>\n                      </ion-list>\n                      <!-- /listado -->\n                    </mat-expansion-panel>\n                  </mat-accordion>\n                  <!-- /ofertas -->\n\n                </span>\n                <span *ngSwitchCase=\"'schedule'\">\n\n                  <!-- Citas -->\n                  <mat-accordion>\n                    <mat-expansion-panel [ngClass]=\"{'state-verde': item.data.schedules.status === 'verde', \n                    'state-amarillo':  item.data.schedules.status === 'amarillo',\n                    'state-rojo':  item.data.schedules.status === 'rojo',\n                    'state-gris': item.data.schedules.status === 'gris',\n                    'state-azul':  item.data.schedules.status === 'azul'}\">\n                      <mat-expansion-panel-header>\n                        <mat-panel-title>\n                          <b>Cita</b>\n                        </mat-panel-title>\n                        <mat-panel-description>\n                          {{item.data.schedules.buyer.name}}\n                        </mat-panel-description>\n                        <mat-panel-description>\n                          {{formatDates(item.time)}}\n                        </mat-panel-description>\n                      </mat-expansion-panel-header>\n                      <!-- listado -->\n                      <ion-list lines=\"none\">\n                        <ion-item lines=\"none\" *ngIf=\"item.data.schedules.buyer\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"contact\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Cliente:</b> </p>\n                            <p>{{item.data.schedules.buyer.name}}</p>\n                          </ion-label>\n                        </ion-item>\n                        <ion-item lines=\"none\" *ngIf=\"item.data.schedules.adviser\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"contact\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Asesor:</b> </p>\n                            <p>{{item.data.schedules.adviser.name}}</p>\n                          </ion-label>\n                        </ion-item>\n                        <ion-item lines=\"none\" *ngIf=\"item.data.schedules.seller\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"cash\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Vendedor:</b> </p>\n                            <p>{{item.data.schedules.seller.name}}</p>\n                          </ion-label>\n                        </ion-item>\n                        <ion-item lines=\"none\" *ngIf=\"item.data.schedules.property\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"home\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Propiedad:</b> </p>\n                            <p>{{item.data.schedules.property.name}}</p>\n                          </ion-label>\n                        </ion-item>\n                        <ion-item lines=\"none\" *ngIf=\"item.data.schedules.address\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"pin\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Lugar:</b> </p>\n                            <p>{{item.data.schedules.address}}</p>\n                          </ion-label>\n                        </ion-item>\n                        <ion-item lines=\"none\" *ngIf=\"item.data.schedules.day\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"calendar\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Fecha del Evento:</b> </p>\n                            <p>{{item.data.schedules.day}}/{{item.data.schedules.month +\n                              1}}/{{item.data.schedules.year}}</p>\n                          </ion-label>\n                        </ion-item>\n                        <ion-item lines=\"none\" *ngIf=\"item.data.schedules.hour\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"time\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Hora del Evento:</b> </p>\n                            <p> {{formatHours(item.data.schedules.hour,item.data.schedules.minute)}} </p>\n                          </ion-label>\n                        </ion-item>\n                        <ion-item lines=\"none\" *ngIf=\"item.data.schedules.status\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"cash\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Estado:</b> </p>\n                            <p *ngIf=\"item.data.schedules.status === 'gris'\">Cita Generada</p>\n                            <p *ngIf=\"item.data.schedules.status === 'verde'\">Propuesta Cita</p>\n                            <p *ngIf=\"item.data.schedules.status === 'amarillo'\">Esperando Visita</p>\n                            <p *ngIf=\"item.data.schedules.status === 'rojo'\">Visitada</p>\n                          </ion-label>\n                        </ion-item>\n                        <ion-item *ngIf=\"item.data.schedules.note\" lines=\"none\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"clipboard\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Notas:</b> </p>\n                            <p>{{item.data.schedules.note}}</p>\n                          </ion-label>\n                        </ion-item>\n                      </ion-list>\n                      <!-- /listado -->\n\n\n                    </mat-expansion-panel>\n                  </mat-accordion>\n                  <!-- /Citas -->\n\n\n\n                </span>\n                <span *ngSwitchCase=\"'credit'\">\n                  <!-- creditos -->\n                  <mat-accordion>\n                    <mat-expansion-panel [ngClass]=\"{'state-verde': item.data.credits.status === 'verde', \n                    'state-amarillo':  item.data.credits.status === 'amarillo',\n                    'state-rojo':  item.data.credits.status === 'rojo',\n                    'state-gris': item.data.credits.status === 'gris',\n                    'state-azul':  item.data.credits.status === 'azul' }\">\n                      <mat-expansion-panel-header>\n                        <mat-panel-title>\n                          <b>Crédito</b>\n                        </mat-panel-title>\n                        <mat-panel-description>\n                          {{item.data.credits.buyer.name}}\n                        </mat-panel-description>\n                        <mat-panel-description>\n                          {{formatDates(item.time)}}\n                        </mat-panel-description>\n                      </mat-expansion-panel-header>\n\n                      <!-- listado -->\n                      <ion-list lines=\"none\">\n                        <ion-item lines=\"none\" *ngIf=\"item.data.credits.buyer\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"contact\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Cliente:</b> </p>\n                            <p>{{item.data.credits.buyer.name}}</p>\n                          </ion-label>\n                        </ion-item>\n                        <ion-item lines=\"none\" *ngIf=\"item.data.credits.property\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"home\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Propiedad:</b> </p>\n                            <p>{{item.data.credits.property.name}}</p>\n                          </ion-label>\n                        </ion-item>\n                        <p><b>Notas:</b> </p>\n                        <ion-label text-wrap>\n                          {{item.data.credits.notes}}\n                        </ion-label>\n                      </ion-list>\n                      <!-- /listado -->\n                    </mat-expansion-panel>\n                  </mat-accordion>\n                  <!-- /creditos -->\n\n\n                </span>\n                <span *ngSwitchCase=\"'sbp'\">\n                  <!-- sbp -->\n                  <mat-accordion>\n                    <mat-expansion-panel [ngClass]=\"{'state-verde': item.data.sbps.status === 'verde', \n                    'state-amarillo':  item.data.sbps.status === 'amarillo',\n                    'state-rojo':  item.data.sbps.status === 'rojo',\n                    'state-gris': item.data.sbps.status === 'gris',\n                    'state-azul':  item.data.sbps.status === 'azul' }\">\n                      <mat-expansion-panel-header>\n                        <mat-panel-title>\n                          <b>Progreso</b>\n                        </mat-panel-title>\n                        <mat-panel-description>\n                          {{item.data.sbps.buyer.name}}\n                        </mat-panel-description>\n                        <mat-panel-description>\n                          {{formatDates(item.time)}}\n                        </mat-panel-description>\n                      </mat-expansion-panel-header>\n\n                      <!-- listado -->\n                      <ion-list lines=\"none\">\n                        <ion-item lines=\"none\" *ngIf=\"item.data.sbps.buyer\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"contact\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Cliente:</b> </p>\n                            <p>{{item.data.sbps.buyer.name}}</p>\n                          </ion-label>\n                        </ion-item>\n                        <ion-item lines=\"none\" *ngIf=\"item.data.sbps.property\">\n                          <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"home\"></ion-icon>\n                          <ion-label slot=\"start\" text-wrap>\n                            <p><b>Propiedad:</b> </p>\n                            <p>{{item.data.sbps.property.name}}</p>\n                          </ion-label>\n                        </ion-item>\n                        <!-- Progreso -->\n                        <p><b>Progreso:</b> </p>\n                        <ng-container *ngIf=\"isiOS; then thenTemplate; else elseTemplate\"></ng-container>\n                        <ng-template #thenTemplate>\n                          <p> <span class=\"status-point\" [ngClass]=\"\n                            {'background-verde': item.data.sbps.status === 'verde', \n                           'background-amarillo': item.data.sbps.status === 'amarillo',\n                           'background-rojo':  item.data.sbps.status === 'rojo',\n                           'background-gris': item.data.sbps.status === 'gris',\n                           'background-azul':  item.data.sbps.status === 'azul' }\"></span>\n                            {{item.data.sbps.status\n                            === 'rojo' ? 'Cierre' : item.data.sbps.status\n                            === 'verde' ? 'Interés': item.data.sbps.status\n                            === 'amarillo' ? 'Seguimiento': item.data.sbps.status\n                            === 'azul' ? 'Post Venta' : ''}}</p>\n                        </ng-template>\n                        <ng-template #elseTemplate>\n                          <div class=\"container\">\n                            <ul class=\"progressbar\">\n                              <li class=\"item \" [ngClass]=\"\n                                  {'active-verde': item.data.sbps.status === 'verde', \n                            'active-amarillo':  item.data.sbps.status === 'amarillo',\n                            'active-rojo':  item.data.sbps.status === 'rojo',\n                            'active-azul':  item.data.sbps.status === 'azul' }\">Información</li>\n                              <li class=\"item\" [ngClass]=\"\n                                  { \n                            'active-amarillo':  item.data.sbps.status === 'amarillo',\n                            'active-rojo':  item.data.sbps.status === 'rojo',\n                            'active-azul':  item.data.sbps.status === 'azul' }\">Seguimiento</li>\n                              <li class=\"item\" [ngClass]=\"\n                                  {\n                            'active-rojo':  item.data.sbps.status === 'rojo',\n                            'active-azul':  item.data.sbps.status === 'azul' }\">Cierre</li>\n                              <li class=\"item\" [ngClass]=\"\n                                  {\n                            'active-azul':  item.data.sbps.status === 'azul' }\">PostVenta</li>\n                            </ul>\n                          </div>\n                        </ng-template>\n\n\n                      </ion-list>\n                      <!-- /listado -->\n                    </mat-expansion-panel>\n                  </mat-accordion>\n                  <!-- /sbp -->\n                </span>\n              </span>\n\n            </ion-col>\n\n\n          </ion-row>\n          <!-- Cargar mas -->\n          <div style=\"text-align: center; margin-top: 1%\">\n            <ion-button (click)=\"loadMore();getFiltersGeneral()\" shape=\"round\">\n              <ion-spinner *ngIf=\"isSpinner\" style=\"color: white\" name=\"bubbles\"></ion-spinner>\n              {{titleButton}}\n            </ion-button>\n          </div>\n        </span>\n        <!-- eventsSegment -->\n        <span *ngSwitchCase=\"'eventsSegment'\">\n          <!-- Toggles in a List -->\n          <ng-container *ngIf=\"scheduleToShow.length !== 0; then showSchedule; else noShow\"></ng-container>\n          <ng-template #showSchedule>\n            <h2>Citas Personales </h2>\n\n            <ion-list lines=\"none\" *ngIf=\"!isOne\">\n              <ion-item lines=\"none\">\n                <ion-button (click)=\"isAll = !isAll;getAllSchedule(); \">{{isAll ? 'Mostrar Citas de hoy':'Mostrar\n                  todos'}}</ion-button>\n              </ion-item>\n              <ion-item lines=\"none\" *ngIf=\"!isAll\">\n                <ion-chip color=\"secondary\">\n                  <ion-label>Mostrando Citas de hoy\n                  </ion-label>\n                </ion-chip>\n              </ion-item>\n\n            </ion-list>\n            <ion-grid>\n              <ion-row>\n                <ion-col size-sm=\"6\" size-md=\"6\" size-lg=\"6\" size-xl=\"6\" size=\"12\" *ngFor=\"let schedule of scheduleToShow\">\n                  <ion-card [ngClass]=\"{\n                'desktop-card': isDesktop  }\">\n                    <ion-card-header>\n                      <ion-card-subtitle text-wrap>Fecha del Cita:\n                        {{schedule.day}}/{{schedule.month + 1}}/{{schedule.year}}</ion-card-subtitle>\n                      <ion-card-subtitle>Hora: {{formatHours(schedule.hour,schedule.minute)}} </ion-card-subtitle>\n\n                      <ion-card-title text-wrap>{{schedule.title}}</ion-card-title>\n                    </ion-card-header>\n                    <ion-card-content text-wrap>\n                      <ion-item lines=\"none\">\n                        <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"clipboard\"></ion-icon>\n                        <ion-label text-wrap><b>Detalles del evento:</b>\n                          <p>\n                            {{schedule.note}}\n                          </p>\n                        </ion-label>\n                      </ion-item>\n                      <ion-item lines=\"none\">\n                        <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"pin\"></ion-icon>\n                        <ion-label text-wrap><b>Dirección: </b>\n                          <p>{{schedule.address}}</p>\n                          <!-- <a [href]=\"'http://maps.google.com/?q='+schedule.address+', Puebla'\">Ver mapa</a> -->\n                          <!-- <a (click)=\"openMaps(schedule.address)\">Ver mapa</a> -->\n                          <!-- https://www.google.com/maps/search/?api=1&parameters -->\n                          <app-maps-button slot=\"end\" [address]=\"schedule.address\"></app-maps-button>\n                        </ion-label>\n                      </ion-item>\n\n                    </ion-card-content>\n                  </ion-card>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n\n\n          </ng-template>\n          <ng-template #noShow>\n            <ion-list lines=\"none\" *ngIf=\"!isOne\">\n              <ion-item lines=\"none\">\n                <ion-button (click)=\"isAll = !isAll;getAllSchedule(); \">Mostrar Todos</ion-button>\n              </ion-item>\n            </ion-list>\n            <ion-card>\n              <ion-card-header>\n                <ion-card-title> No hay Citas hoy</ion-card-title>\n              </ion-card-header>\n            </ion-card>\n          </ng-template>\n        </span>\n        <!-- /event -->\n      </span>\n    </ng-template>\n    <!-- nocargado -->\n    <ng-template #elseLoad>\n      <ion-skeleton-text width=40px></ion-skeleton-text>\n      <ion-skeleton-text width=200px></ion-skeleton-text>\n      <ion-skeleton-text width=600px></ion-skeleton-text>\n      <ion-skeleton-text width=100px></ion-skeleton-text>\n      <ion-skeleton-text width=80px></ion-skeleton-text>\n    </ng-template>\n  </ion-grid>\n\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n  <ion-fab-button [routerLink]=\"['/personal-schedule']\" *ngIf=\"segment === 'eventsSegment'\" color=\"secondary\">\n    <ion-icon name=\"calendar\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>"

/***/ }),

/***/ "./src/app/components/admin/main-admin/main-admin.component.scss":
/*!***********************************************************************!*\
  !*** ./src/app/components/admin/main-admin/main-admin.component.scss ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".status-point {\n  touch-action: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-user-drag: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  display: inline-block;\n  margin: 2px; }\n\n.filters-conteiner {\n  display: flex;\n  flex-wrap: wrap;\n  margin: 1% 3% 0% 3%; }\n\n.filters-toogle {\n  display: flex;\n  align-items: center;\n  width: 50%;\n  justify-content: flex-end; }\n\n.filters-day {\n  display: flex;\n  align-items: center;\n  width: 50%; }\n\n.filters-day > * {\n  margin: 1%; }\n\n.mat-button-toggle-label-content {\n  padding: 0 4px !important; }\n\n@media (max-width: 900px) {\n  .filters-toogle {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    justify-content: center; }\n  .filters-day {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    justify-content: center;\n    flex-wrap: wrap; } }\n\n.desktop-card {\n  height: 100% !important; }\n\n.description-panel {\n  margin-right: 2%; }\n\n.desktop-tabs {\n  padding: 0% 30% 0% 30%; }\n\n.desktop-grid {\n  padding: 0% 20% 0% 20%; }\n\n.container {\n  width: 100%; }\n\n.progressbar {\n  counter-reset: step; }\n\n.progressbar .item {\n  position: relative;\n  float: left;\n  width: 20.33%;\n  list-style: none;\n  text-align: center;\n  font-size: smaller; }\n\n.progressbar .item:before {\n  content: counter(step);\n  counter-increment: step;\n  display: block;\n  width: 30px;\n  height: 30px;\n  margin: 0 auto 10px auto;\n  border: 1px solid #ddd;\n  border-radius: 50%;\n  background-color: #fff;\n  text-align: center;\n  line-height: 30px; }\n\n.progressbar .item:after {\n  content: '';\n  position: absolute;\n  /*width: 80%;*/\n  width: 100%;\n  height: 1px;\n  top: 15px;\n  /*left: -40%;*/\n  left: -50%;\n  z-index: -1;\n  background-color: #ddd; }\n\n.progressbar .item:first-child:after {\n  content: none; }\n\n.progressbar .item.active {\n  color: green; }\n\n.progressbar .item.active:before {\n  border-color: green; }\n\n.progressbar .item.active + .item:after {\n  background-color: green; }\n\n.progressbar .item.active-verde {\n  color: var(--ion-color-success); }\n\n.progressbar .item.active-verde:before {\n  border-color: var(--ion-color-success); }\n\n.progressbar .item.active-verde + .item:after {\n  background-color: var(--ion-color-success); }\n\n.progressbar .item.active-amarillo {\n  color: var(--ion-color-warning); }\n\n.progressbar .item.active-amarillo:before {\n  border-color: var(--ion-color-warning); }\n\n.progressbar .item.active-amarillo + .item:after {\n  background-color: var(--ion-color-warning); }\n\n.progressbar .item.active-rojo {\n  color: var(--ion-color-danger); }\n\n.progressbar .item.active-rojo:before {\n  border-color: var(--ion-color-danger); }\n\n.progressbar .item.active-rojo + .item:after {\n  background-color: var(--ion-color-danger); }\n\n.progressbar .item.active-azul {\n  color: var(--ion-color-blue); }\n\n.progressbar .item.active-azul:before {\n  border-color: var(--ion-color-blue); }\n\n.progressbar .item.active-azul + .item:after {\n  background-color: var(--ion-color-blue); }\n\n/* ol.progtrckr {\n    // margin: 0;\n    padding: 0;\n    list-style-type: none;\n}\n\nol.progtrckr li {\n    display: inline-block;\n    text-align: center;\n    line-height: 3em;\n}\n\nol.progtrckr li.progtrckr-done {\n    color: black;\n    border-bottom: 4px solid yellowgreen;\n}\n\nol.progtrckr li.progtrckr-todo {\n    color: silver;\n    border-bottom: 4px solid silver;\n}\n\nol.progtrckr li:after {\n    content: \"\\00a0\\00a0\";\n}\n\nol.progtrckr li:before {\n    position: relative;\n    bottom: -2.5em;\n    float: left;\n    left: 50%;\n    line-height: 1em;\n}\n\nol.progtrckr li.progtrckr-done:before {\n    content: \"\\2713\";\n    color: white;\n    background-color: yellowgreen;\n    height: 1.2em;\n    width: 1.2em;\n    line-height: 1.2em;\n    border: none;\n    border-radius: 1.2em;\n}\n\nol.progtrckr li.progtrckr-todo:before {\n    content: \"\\039F\";\n    color: silver;\n    background-color: white;\n    font-size: 1.5em;\n    bottom: -1.6em;\n}\n */\n\n/* .progressbar {\n    margin-bottom: 30px;\n    margin-top: 10px;\n    counter-reset: step;\n    clear: both;\n    list-style: none;\n}\n\n.progressbar li {\n    font-size: 12px;\n    width: 24%;\n    float: left;\n    position: relative;\n    text-align: center;\n}\n\n.progressbar li:before {\n    content: counter(step);\n    counter-increment: step;\n    width: 25px;\n    line-height: 25px;\n    display: block;\n    font-size: 12px;\n    color: transparent;\n    border: 6px solid #ececec;\n    background: #27ae60;\n    border-radius: 19px;\n    margin: 0 auto 4px;\n}\n\n.progressbar li:after {\n    content: '';\n    width: 85%;\n    height: 3px;\n    background: #B9B9B9;\n    position: absolute;\n    left: -42%;\n    top: 17px;\n    z-index: 0;\n}\n\n.progressbar li:first-child:after {\n    content: none;\n}\n\n.progress-payment li {\n    width: 50%;\n}\n\n.progressbar li.active:after,\n.progressbar li.active:before {\n    background: #27ae60;\n    color: white;\n}\n\n.progressbar li.complete:after {\n    background: #27ae60;\n}\n\n.progressbar li.half-complete:after {\n    background: linear-gradient(to right, #27ae60 50%, #B9B9B9 50%);\n    color: white;\n} */\n"

/***/ }),

/***/ "./src/app/components/admin/main-admin/main-admin.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/components/admin/main-admin/main-admin.component.ts ***!
  \*********************************************************************/
/*! exports provided: MainAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainAdminComponent", function() { return MainAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_administrator_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/administrator.service */ "./src/app/services/administrator.service.ts");
/* harmony import */ var _services_ofert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/ofert.service */ "./src/app/services/ofert.service.ts");
/* harmony import */ var _services_credit_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/credit.service */ "./src/app/services/credit.service.ts");
/* harmony import */ var _services_schedule_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/schedule.service */ "./src/app/services/schedule.service.ts");
/* harmony import */ var _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/status-buyer-property.service */ "./src/app/services/status-buyer-property.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

// import { fuseAnimations } from '../../../_config/_animations';









var MainAdminComponent = /** @class */ (function () {
    function MainAdminComponent(userSessionService, adminService, ofertService, creditService, scheduleService, sbpService, platform) {
        this.userSessionService = userSessionService;
        this.adminService = adminService;
        this.ofertService = ofertService;
        this.creditService = creditService;
        this.scheduleService = scheduleService;
        this.sbpService = sbpService;
        this.platform = platform;
        this.segment = 'movementsSegment';
        this.isLoad = false;
        this.scheduleToShow = [];
        this.allData = [];
        this.allDataBackUp = [];
        this.isDesktop = false;
        this.pageNumber = 1;
        this.titleButton = 'Cargar más';
        this.matButtonToggleGroup = 'all';
        this.isSpinner = false;
        this.isDesktop = platform.is('desktop');
        this.isiOS = platform.is('ios');
        console.log(this.isDesktop);
        //  schedule de hoy y vincularlo a calendario general
        this.getScheduleToday();
        // historial de movimientos
        // this.getOfert();
        this.getAll(this.pageNumber);
    }
    MainAdminComponent.prototype.ngOnInit = function () { };
    MainAdminComponent.prototype.getAll = function (pageNumber) {
        var _this = this;
        this.adminService.getAdminEvents(pageNumber).subscribe(function (allData) {
            if (allData.length > 0) {
                if (pageNumber === 1) {
                    _this.allData = allData;
                    _this.allDataBackUp = _this.allData;
                }
                else {
                    _this.allData = _this.allData.concat(allData);
                    _this.allDataBackUp = _this.allData;
                }
            }
            else {
                _this.titleButton = 'Son todos los Eventos';
            }
            _this.isSpinner = false;
            _this.isLoad = true;
        });
    };
    MainAdminComponent.prototype.loadMore = function () {
        this.matButtonToggleGroup = 'all';
        this.filterTime = undefined;
        this.startDate = undefined;
        this.endDate = undefined;
        this.isSpinner = true;
        this.allData = this.allDataBackUp;
        this.pageNumber++;
        this.getAll(this.pageNumber);
    };
    // filters
    MainAdminComponent.prototype.getFiltersGeneral = function () {
        this.allData = this.allDataBackUp;
        this.getByType(this.matButtonToggleGroup);
        this.getByTime(this.filterTime);
    };
    MainAdminComponent.prototype.getByType = function (type) {
        if (type === 'all') {
        }
        else {
            var filter = this.allData.filter(function (data) { return data.type === type; });
            this.allData = filter;
        }
    };
    MainAdminComponent.prototype.getByTime = function (time) {
        var _this = this;
        if (time !== undefined && time !== 'dateSpecific') {
            console.log(time);
            this.isCalendar = false;
            var filterDay_1 = function (timeData) {
                var diff = Object(_config_helpers__WEBPACK_IMPORTED_MODULE_8__["DiffDays"])(timeData);
                if (diff <= time) {
                    return true;
                }
                else {
                    return false;
                }
            };
            var filter = this.allData.filter(function (data) { return filterDay_1(data.time); });
            this.allData = filter;
            // console.log('time', filter);
        }
        else if (time === 'dateSpecific') {
            this.isCalendar = true;
            if (this.startDate && this.endDate) {
                this.allData = this.allData.filter(function (data) {
                    return _this.getRangeDate(data.time);
                });
            }
            else if (this.startDate && !this.endDate) {
                this.allData = this.allData.filter(function (data) {
                    return _this.getRangeByStartDate(data.time);
                });
            }
            else if (!this.startDate && this.endDate) {
                this.allData = this.allData.filter(function (data) {
                    return _this.getRangeByEndDate(data.time);
                });
            }
        }
        else {
            this.isCalendar = false;
        }
    };
    MainAdminComponent.prototype.formatDates = function (dateInput) {
        var day = new Date(dateInput).getDate().toString();
        var month = (new Date(dateInput).getMonth() + 1).toString();
        var year = new Date(dateInput).getFullYear().toString();
        var date = day + '/' + month + '/' + year;
        return date;
    };
    MainAdminComponent.prototype.formatHours = function (hours, minutes) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_8__["FormatHoursFront"])(hours, minutes);
    };
    MainAdminComponent.prototype.segmentChanged = function (segment) {
        this.segment = segment.detail.value;
    };
    MainAdminComponent.prototype.getScheduleToday = function () {
        var _this = this;
        var adminId = this.userSessionService.userSession.value.id;
        this.scheduleService
            .getSchedule()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(function (s) { return s.filter(function (f) { return f.administrator && f.administrator === adminId; }); }))
            .subscribe(function (schedule) {
            _this.schedule = schedule;
            var dateToday = new Date();
            _this.getByDay(dateToday.getFullYear(), dateToday.getMonth(), dateToday.getDate());
        });
    };
    MainAdminComponent.prototype.getByDay = function (year, month, day) {
        var isFinded = this.schedule.filter(function (s) { return s.day === day && s.month === month && s.year === year; });
        this.scheduleToShow = isFinded;
    };
    // _helpers
    MainAdminComponent.prototype.dateSelectStart = function (event) {
        if (event) {
            this.startDate = new Date(event.value._i.year, event.value._i.month, event.value._i.date);
            this.getFiltersGeneral();
        }
    };
    MainAdminComponent.prototype.dateSelectEnd = function (event) {
        if (event) {
            this.endDate = new Date(event.value._i.year, event.value._i.month, event.value._i.date);
            this.getFiltersGeneral();
        }
    };
    MainAdminComponent.prototype.getRangeDate = function (allData) {
        var date = new Date(allData).getTime();
        if (date >= this.startDate.getTime() && date <= this.endDate.getTime()) {
            return true;
        }
        else {
            return false;
        }
    };
    MainAdminComponent.prototype.getRangeByStartDate = function (allData) {
        var date = new Date(allData).getTime();
        if (date >= this.startDate.getTime()) {
            return true;
        }
        else {
            return false;
        }
    };
    MainAdminComponent.prototype.getRangeByEndDate = function (allData) {
        var date = new Date(allData).getTime();
        if (date <= this.endDate.getTime()) {
            return true;
        }
        else {
            return false;
        }
    };
    MainAdminComponent.prototype.getAllSchedule = function () {
        if (this.isAll === true) {
            this.scheduleToShow = this.schedule;
        }
        else {
            var dateToday = new Date();
            this.getByDay(dateToday.getFullYear(), dateToday.getMonth(), dateToday.getDate());
        }
    };
    MainAdminComponent.prototype.openMaps = function (schedule) {
        Object(_config_helpers__WEBPACK_IMPORTED_MODULE_8__["OpenGoogleMaps"])(schedule);
    };
    MainAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-main-admin',
            template: __webpack_require__(/*! ./main-admin.component.html */ "./src/app/components/admin/main-admin/main-admin.component.html"),
            styles: [__webpack_require__(/*! ./main-admin.component.scss */ "./src/app/components/admin/main-admin/main-admin.component.scss")],
            // animations: fuseAnimations,
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [_services_user_session_service__WEBPACK_IMPORTED_MODULE_1__["UserSessionService"],
            _services_administrator_service__WEBPACK_IMPORTED_MODULE_2__["AdministratorService"],
            _services_ofert_service__WEBPACK_IMPORTED_MODULE_3__["OfertService"],
            _services_credit_service__WEBPACK_IMPORTED_MODULE_4__["CreditService"],
            _services_schedule_service__WEBPACK_IMPORTED_MODULE_5__["ScheduleService"],
            _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_6__["StatusBuyerPropertyService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_7__["Platform"]])
    ], MainAdminComponent);
    return MainAdminComponent;
}());

/*   getOfert() {
    this.ofertService.getOfert().subscribe(oferts => {
      this.creditService.getCredit().subscribe(credits => {
        this.scheduleService.getSchedule().subscribe(s => {
          this.sbpService.getStatusBuyerProperty().subscribe(sbps => {
            this.allData = <any>this.getMerge(oferts, credits, s, sbps);
            this.allDataBackUp = this.allData;
            this.isLoad = true;
          });
        });
      });
    });
  } */
/*  getMerge(
    oferts: IOfert[],
    credits: ICredit[],
    schedules: ISchedule[],
    sbps: IStatusBuyerProperty[],
  ) {
    const allData: {
      data: {
        oferts?: IOfert;
        credits?: ICredit;
        schedules?: ISchedule;
        sbps?: IStatusBuyerProperty;
      };
      type: string;
      time: any;
    }[] = [];
    oferts.forEach(ofert => {
      allData.push({
        type: 'ofert',
        time: ofert.timestamp,
        data: { oferts: ofert },
      });
    });
    schedules.forEach(schedule => {
      if (!schedule.administrator && !schedule.personal) {
        allData.push({
          type: 'schedule',
          time: schedule.timestamp.toString(),
          data: { schedules: schedule },
        });
      }
    });
    credits.forEach(credit => {
      allData.push({
        type: 'credit',
        time: credit.timestamp.toString(),
        data: { credits: credit },
      });
    });
    sbps.forEach(sbp => {
      allData.push({
        type: 'sbp',
        time: sbp.timestamp.toString(),
        data: { sbps: sbp },
      });
    });
    allData.sort((a, b) => {
      // Turn your strings into dates, and then subtract them
      // to get a value that is either negative, positive, or zero.
      return <any>new Date(b.time) - <any>new Date(a.time);
    });
    console.log(allData);
    return allData;
  } */


/***/ }),

/***/ "./src/app/components/admin/simulate-search-admin/simulate-search-admin.component.html":
/*!*********************************************************************************************!*\
  !*** ./src/app/components/admin/simulate-search-admin/simulate-search-admin.component.html ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Simulador\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Simulador'\" [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n    <ng-container *ngIf=\"isSimulate; then thenTemplate; else elseTemplate\"></ng-container>\n    <ng-template #thenTemplate>\n      <h1>Propiedades Sugeridas</h1>\n      <ion-label>Se muestran las coincidencias con tu perfil</ion-label>\n      <ion-list lines=\"full\">\n        <ion-item lines=\"inset\" *ngFor=\"let property of propertiesMatch\">\n          <ion-icon *ngIf=\"property.typeOfProperty === 'departamento'\" style=\"color: #F5811E\" name=\"business\" slot=\"start\"></ion-icon>\n          <ion-icon *ngIf=\"property.typeOfProperty === 'casa'\" style=\"color: #F5811E\" name=\"home\" slot=\"start\"></ion-icon>\n          <ion-label text-wrap>\n            <h2>{{property.name}}</h2>\n            <p>{{property.zone}}</p>\n            <ion-chip *ngIf=\"property.percentage > 60\" class=\"high\">\n              <ion-label>Alta coincidencia</ion-label>\n            </ion-chip>\n            <ion-chip *ngIf=\"property.percentage <= 60 && property.percentage > 30 \" class=\"medium\">\n              <ion-label>Media coincidencia</ion-label>\n            </ion-chip>\n            <ion-chip *ngIf=\"property.percentage <= 30\" class=\"low\">\n              <ion-label>Baja coincidencia</ion-label>\n            </ion-chip>\n          </ion-label>\n        </ion-item>\n      </ion-list>\n    </ng-template>\n    <ng-template #elseTemplate>\n      <h1>Simulador de Búsqueda Match</h1>\n      <p>Llene los campos para encontrar propiedades de acuerdo al perfil</p>\n\n      <div class=\"container\" style=\"margin-top: 3%\">\n        <form #newUserForm=\"ngForm\">\n          <mat-card>\n            <div class=\"flex-container\">\n              <!-- isRent  -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Venta o Renta</mat-label>\n                <mat-select [(ngModel)]=\"property.isRent\" #isRent=\"ngModel\" id=\"isRent\" name=\"isRent\" required>\n                  <mat-option [value]=true>\n                    Renta\n                  </mat-option>\n                  <mat-option [value]=false>\n                    Venta\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"isRent.dirty || isRent.touched\">Selecciona una</mat-error>\n              </mat-form-field>\n              <!-- typeOfProperty -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Tipo de Vivienda</mat-label>\n                <mat-select [(ngModel)]=\"property.typeOfProperty\" #typeOfProperty=\"ngModel\" id=\"typeOfProperty\" name=\"typeOfProperty\"\n                  required>\n                  <mat-option value=\"casa\">Casa\n                  </mat-option>\n                  <mat-option value=\"departamento\">Departamento\n                  </mat-option>\n                  <mat-option value=\"nave industrial\">Nave Industrial\n                  </mat-option>\n                  <mat-option value=\"terreno\">Terreno\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"typeOfProperty.dirty || typeOfProperty.touched\">Anotar Correo</mat-error>\n              </mat-form-field>\n              <!-- space-->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Espacio</mat-label>\n                <input matInput type=\"number\" [(ngModel)]=\"property.space\" #space=\"ngModel\" id=\"space\" name=\"space\"\n                  required>\n                <mat-error *ngIf=\"space.dirty || space.touched\">Anotar Espacio</mat-error>\n              </mat-form-field>\n              <!-- Fecha a comprar -->\n              <!-- Fecha -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Fecha para ser adquirido</mat-label>\n                <input (dateChange)=\"dateSelect($event)\" (focus)=\"picker.open()\" matInput [matDatepicker]=\"picker\"\n                  placeholder=\"Selecciona Fecha\" required>\n                <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n                <mat-datepicker #picker></mat-datepicker>\n              </mat-form-field>\n              <!-- zone -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Zona</mat-label>\n                <input matInput placeholder=\"\" [(ngModel)]=\"property.zone\" #zone=\"ngModel\" id=\"zone\" name=\"zone\"\n                  required>\n                <mat-error *ngIf=\"zone.dirty || zone.touched\">Anotar Zona</mat-error>\n              </mat-form-field>\n              <!-- minPrice -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Precio Minimo</mat-label>\n                <input matInput type=\"number\" placeholder=\"\" [(ngModel)]=\"property.minPrice\" #minPrice=\"ngModel\" id=\"minPrice\"\n                  name=\"minPrice\" required>\n                <mat-error *ngIf=\"minPrice.dirty || minPrice.touched\">Anotar Numero</mat-error>\n              </mat-form-field>\n              <!-- max -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Precio Maximo</mat-label>\n                <input matInput type=\"number\" placeholder=\"\" [(ngModel)]=\"property.maxPrice\" #maxPrice=\"ngModel\" id=\"maxPrice\"\n                  name=\"maxPrice\" required>\n                <mat-error *ngIf=\"maxPrice.dirty || maxPrice.touched\">Anotar Numero</mat-error>\n              </mat-form-field>\n              <!-- numRooms -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Numero de Cuartos</mat-label>\n                <input matInput type=\"number\" placeholder=\"\" [(ngModel)]=\"property.numRooms\" #numRooms=\"ngModel\" id=\"numRooms\"\n                  name=\"numRooms\" required>\n                <mat-error *ngIf=\"numRooms.dirty || numRooms.touched\">Anotar Numero</mat-error>\n              </mat-form-field>\n              <!-- numBathrooms -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Numero de Baños</mat-label>\n                <input matInput type=\"number\" placeholder=\"\" [(ngModel)]=\"property.numBathrooms\" #numBathrooms=\"ngModel\"\n                  id=\"numBathrooms\" name=\"numBathrooms\" required>\n                <mat-error *ngIf=\"numBathrooms.dirty || numBathrooms.touched\">Anotar Numero</mat-error>\n              </mat-form-field>\n              <!-- numCars -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Lugares Estacionamiento</mat-label>\n                <input matInput type=\"number\" placeholder=\"\" [(ngModel)]=\"property.numCars\" #numCars=\"ngModel\" id=\"numCars\"\n                  name=\"numCars\" required>\n                <mat-error *ngIf=\"numCars.dirty || numCars.touched\">Anotar Numero</mat-error>\n              </mat-form-field>\n              <!-- isOld -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Estado</mat-label>\n                <mat-select [(ngModel)]=\"property.isOld\" #isOld=\"ngModel\" id=\"isOld\" name=\"isOld\" required>\n                  <mat-option [value]=false>Nuevo\n                  </mat-option>\n                  <mat-option [value]=true>Usado\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"isOld.dirty || isOld.touched\">Selecciona uno</mat-error>\n              </mat-form-field>\n              <!-- isClose -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Tipo Fraccionamiento</mat-label>\n                <mat-select [(ngModel)]=\"property.isClose\" #isClose=\"ngModel\" id=\"isClose\" name=\"isClose\" required>\n                  <mat-option [value]=false>Abierto\n                  </mat-option>\n                  <mat-option [value]=true>Cerrado\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"isClose.dirty || isClose.touched\">Selecciona uno</mat-error>\n              </mat-form-field>\n              <!-- hasGarden -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Con Jardin</mat-label>\n                <mat-select [(ngModel)]=\"property.hasGarden\" #hasGarden=\"ngModel\" id=\"hasGarden\" name=\"hasGarden\"\n                  required>\n                  <mat-option [value]=true>Sí\n                  </mat-option>\n                  <mat-option [value]=false>No\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"hasGarden.dirty || hasGarden.touched\">Selecciona uno</mat-error>\n              </mat-form-field>\n              <!-- isLowLevel -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Planta Baja</mat-label>\n                <mat-select [(ngModel)]=\"property.isLowLevel\" #isLowLevel=\"ngModel\" id=\"isLowLevel\" name=\"isLowLevel\"\n                  required>\n                  <mat-option [value]=true>Sí\n                  </mat-option>\n                  <mat-option [value]=false>No\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"isLowLevel.dirty || isLowLevel.touched\">Selecciona uno</mat-error>\n              </mat-form-field>\n              <!-- hasElevator -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Con Elevador</mat-label>\n                <mat-select [(ngModel)]=\"property.hasElevator\" #hasElevator=\"ngModel\" id=\"hasElevator\" name=\"hasElevator\"\n                  required>\n                  <mat-option [value]=true>Sí\n                  </mat-option>\n                  <mat-option [value]=false>No\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"hasElevator.dirty || hasElevator.touched\">Selecciona uno</mat-error>\n              </mat-form-field>\n              <!-- allServices -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Todos los Servicios </mat-label>\n                <mat-select [(ngModel)]=\"property.allServices\" #allServices=\"ngModel\" id=\"allServices\" name=\"allServices\"\n                  required>\n                  <mat-option [value]=true>Sí\n                  </mat-option>\n                  <mat-option [value]=false>No\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"allServices.dirty || allServices.touched\">Selecciona uno</mat-error>\n              </mat-form-field>\n              <!-- wayToBuy FOVISSTE, IMSS, contado, PEMEX, Infonavit, aliados, otros -->\n\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Forma de Venta/Renta </mat-label>\n                <mat-select [(ngModel)]=\"property.wayToBuy\" #wayToBuy=\"ngModel\" id=\"wayToBuy\" name=\"wayToBuy\" required\n                  placeholder=\"Selecciona\">\n                  <mat-option value=\"FOVISSTE\">FOVISSTE</mat-option>\n                  <mat-option value=\"IMSS\">IMSS</mat-option>\n                  <mat-option value=\"contado\">contado</mat-option>\n                  <mat-option value=\"PEMEX\">Pemex</mat-option>\n                  <mat-option value=\"infonavit\">Infonavit</mat-option>\n                  <mat-option value=\"infonavit\">Aliados</mat-option>\n                  <mat-option value=\"otros\">Otros</mat-option>\n                </mat-select>\n              </mat-form-field>\n            </div>\n            <!-- tag -->\n            <app-form-str-list nameTitle=\"Lista Etiquetas\" nameItems=\"Etiqueta\" [arrStr]=\"property.tag\" (arrList)=\"property.tag = $event\">\n            </app-form-str-list>\n            <mat-card-actions align=\"end\">\n              <div style=\"margin: 3%\">\n                <span [matTooltip]=errorToShow [matTooltipClass]=\"'tooltip-size'\" (mouseenter)=\"getPopMessage($event)\">\n                  <ion-button shape=\"round\" style=\"margin: 3%\" id=\"submitUser\" color=\"primary\" (click)=\"startSimulate()\"\n                    [disabled]=\"!newUserForm.form.valid\">Simular Búsqueda</ion-button>\n                </span>\n              </div>\n\n\n            </mat-card-actions>\n\n          </mat-card>\n        </form>\n\n      </div>\n    </ng-template>\n\n\n  </ion-grid>\n\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n  <ion-fab-button *ngIf=\"isSimulate\" color=\"secondary\" (click)=\"isSimulate = false\">\n    <ion-icon name=\"refresh\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>"

/***/ }),

/***/ "./src/app/components/admin/simulate-search-admin/simulate-search-admin.component.scss":
/*!*********************************************************************************************!*\
  !*** ./src/app/components/admin/simulate-search-admin/simulate-search-admin.component.scss ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  /* display: flex;\n    flex-direction: column;\n    padding: 5%; */\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 50%;\n  padding: 1%; }\n\n@media (max-width: 900px) {\n  .flex-container > * {\n    width: 100%; } }\n"

/***/ }),

/***/ "./src/app/components/admin/simulate-search-admin/simulate-search-admin.component.ts":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/admin/simulate-search-admin/simulate-search-admin.component.ts ***!
  \*******************************************************************************************/
/*! exports provided: SimulateSearchAdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimulateSearchAdminComponent", function() { return SimulateSearchAdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SimulateSearchAdminComponent = /** @class */ (function () {
    function SimulateSearchAdminComponent(route, router, propertyService) {
        this.route = route;
        this.router = router;
        this.propertyService = propertyService;
        this.months = [
            'Enero',
            'Febrero',
            'Marzo',
            'Abril',
            'Mayo',
            'Junio',
            'Julio',
            'Agosto',
            'Septiembre',
            'Octubre',
            'Noviembre',
            'Diciembre',
        ];
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.property = {};
        this.isSimulate = false;
        this.propertiesMatch = [];
        this.percentage = 10;
        var arrStr = [''];
        this.property.tag = arrStr;
    }
    SimulateSearchAdminComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.propertyService.getPropertyById(params['id']).subscribe(function (prop) {
                    console.log(prop);
                    _this.property = prop;
                    _this.words = '';
                    _this.property.tag.forEach(function (word, i) {
                        if (_this.property.tag.length === i + 1) {
                            _this.words += word;
                        }
                        else {
                            _this.words += word + ',';
                        }
                    });
                    _this.files = '';
                    _this.property.files.forEach(function (f, i) {
                        if (_this.property.files.length === i + 1) {
                            _this.files += f;
                        }
                        else {
                            _this.files += f + ',';
                        }
                    });
                    var date = _this.property.dateToBuy.split('/');
                    _this.daySelect = +date[0];
                    _this.monthSelect = +date[1];
                    _this.yearSelect = +date[2];
                });
                _this.isNew = false;
            }
            else {
                _this.isNew = true;
            }
        });
    };
    SimulateSearchAdminComponent.prototype.startSimulate = function () {
        var _this = this;
        this.isSimulate = false;
        console.log(this.property);
        this.property.dateToBuy = this.daySelect + "/" + this.monthSelect + "/" + this.yearSelect;
        console.log(this.property);
        this.propertyService
            .getPropertySimulate(this.property, this.percentage)
            .subscribe(function (properties) {
            _this.propertiesMatch = Object(_config_helpers__WEBPACK_IMPORTED_MODULE_3__["CalcPercentage"])(_this.property, properties, _this.percentage);
            _this.isSimulate = true;
        });
    };
    SimulateSearchAdminComponent.prototype.reset = function () {
        this.isSimulate = false;
    };
    SimulateSearchAdminComponent.prototype.dateSelect = function (event) {
        if (event) {
            this.daySelect = event.value._i.date;
            this.monthSelect = event.value._i.month;
            this.yearSelect = event.value._i.year;
        }
    };
    SimulateSearchAdminComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    SimulateSearchAdminComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    SimulateSearchAdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-simulate-search-admin',
            template: __webpack_require__(/*! ./simulate-search-admin.component.html */ "./src/app/components/admin/simulate-search-admin/simulate-search-admin.component.html"),
            styles: [__webpack_require__(/*! ./simulate-search-admin.component.scss */ "./src/app/components/admin/simulate-search-admin/simulate-search-admin.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_2__["PropertyService"]])
    ], SimulateSearchAdminComponent);
    return SimulateSearchAdminComponent;
}());



/***/ }),

/***/ "./src/app/components/adviser/new-edit-adviser/new-edit-adviser.component.html":
/*!*************************************************************************************!*\
  !*** ./src/app/components/adviser/new-edit-adviser/new-edit-adviser.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"isNew ? 'Nuevo Asesor': 'Editar Asesor'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n\n<ion-content>\n  <ion-grid fixed>\n    <div class=\"container\" style=\"margin-top: 3%\">\n      <form #newUserForm=\"ngForm\">\n        <mat-card>\n          <mat-card-title>Complete los campos</mat-card-title>\n          <div class=\"flex-container\">\n            <!-- name -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Nombre</mat-label>\n              <input matInput placeholder=\"\" [(ngModel)]=\"adviser.name\" #name=\"ngModel\" id=\"name\" name=\"name\" required>\n              <mat-error *ngIf=\"name.dirty || name.touched\">Anotar Nombre</mat-error>\n            </mat-form-field>\n            <!-- lastname -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Apellido</mat-label>\n              <input matInput [(ngModel)]=\"adviser.lastName\" #lastName=\"ngModel\" id=\"lastName\" name=\"lastName\" required>\n              <mat-error *ngIf=\"lastName.dirty || lastName.touched\">Anotar Apellido</mat-error>\n            </mat-form-field>\n            <!-- email -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Correo</mat-label>\n              <input matInput [(ngModel)]=\"adviser.email\" #email=\"ngModel\" id=\"email\" name=\"email\" required>\n              <mat-error *ngIf=\"email.dirty || email.touched\">Anotar Correo</mat-error>\n            </mat-form-field>\n            <!-- hora inicio -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Hora de Inicio (24Hrs)</mat-label>\n              <input matInput type=\"number\" [(ngModel)]=\"adviser.hourStart\" #hourStart=\"ngModel\" id=\"hourStart\" name=\"hourStart\"\n                required>\n              <mat-error *ngIf=\"hourStart.dirty || hourStart.touched\">Anotar Horas</mat-error>\n            </mat-form-field>\n            <!-- hora fin -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Hora Fin (24Hrs)</mat-label>\n              <input matInput type=\"number\" [(ngModel)]=\"adviser.hourEnd\" #hourEnd=\"ngModel\" id=\"hourEnd\" name=\"hourEnd\"\n                required>\n              <mat-error *ngIf=\"hourEnd.dirty || hourEnd.touched\">Anotar Horas</mat-error>\n            </mat-form-field>\n            <!-- city -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Ciudad</mat-label>\n              <mat-select [(ngModel)]=\"adviser.city\" #city=\"ngModel\" id=\"city\" name=\"city\" required>\n                <mat-option value=\"puebla\">\n                  Puebla\n                </mat-option>\n                <mat-option value=\"mexico\">\n                  México\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"city.dirty || city.touched\">Anotar Ciudad</mat-error>\n            </mat-form-field>\n            <!-- pass -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Contraseña</mat-label>\n              <input matInput [type]=\"hide ? 'password' : 'text'\" [(ngModel)]=\"adviser.password\" #password=\"ngModel\" id=\"password\"\n                name=\"password\" required>\n              <mat-error *ngIf=\"password.dirty || password.touched\">Anotar Contraseña</mat-error>\n              <mat-icon matSuffix (click)=\"hide = !hide\">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>\n            </mat-form-field>\n            <!-- buyers -->\n            <div *ngIf=\"user.type !== 'adviser'\" class=\"flex-container2\">\n              <div *ngIf=\"adviser.buyer && adviser.buyer.length > 0\">\n                <mat-list role=\"list\">\n                  <h3 mat-subheader>Clientes del Asesor</h3>\n                  <mat-list-item role=\"listitem\" *ngFor=\"let buyer of adviser.buyer\">\n                    {{buyer.name}}\n                    <!-- <button mat-button matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"schedule.adviser=undefined\"></button> -->\n                    <button mat-icon-button (click)=\"deleteBuyer(buyer._id)\">\n                      <mat-icon color=\"warn\">clear</mat-icon>\n                    </button>\n                  </mat-list-item>\n                  <mat-divider style=\"position: relative;\"></mat-divider>\n                </mat-list>\n              </div>\n              <!--    <mat-form-field appearance=\"outline\">\n                <mat-label>Asignar Clientes</mat-label>\n                <mat-select [(ngModel)]=\"buyerInput\" [value]=\"buyerInput\" #b=\"ngModel\" id=\"b\" name=\"b\" multiple>\n                  <mat-option *ngFor=\"let buyer of buyers$ | async\" [value]=\"buyer\">\n                    {{buyer.name}} {{buyer.fatherLastName}}\n                  </mat-option>\n                </mat-select>\n              </mat-form-field> -->\n              <mat-list>\n                <h3 mat-subheader>{{buyerInput.length === 0 ? 'Asignar Nuevos clientes' : 'Clientes Nuevos\n                  Seleccionados'}}\n                </h3>\n                <mat-list-item *ngFor=\"let buyer of buyerInput; let i=index\">{{ buyer.name }} {{ buyer.fatherLastName\n                  }}\n                  <button mat-icon-button (click)=\"buyerInput.splice(i, 1)\">\n                    <mat-icon color=\"warn\">clear</mat-icon>\n                  </button>\n                </mat-list-item>\n              </mat-list>\n              <div style=\"margin-bottom: 1%;\">\n                <button mat-stroked-button color=\"accent\" (click)=\"searchBuyers()\">\n                  <ion-spinner *ngIf=\"isSpinner\" color=\"secondary\" name=\"bubbles\"></ion-spinner>\n                  Buscar Clientes\n                </button>\n              </div>\n\n            </div>\n\n          </div>\n          <mat-card-actions align=\"end\">\n            <div style=\"margin-right: 2%\">\n              <span [matTooltip]=errorToShow [matTooltipClass]=\"'tooltip-size'\" (mouseenter)=\"getPopMessage($event)\">\n                <button *ngIf=\"isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" (click)=\"newCustomer()\"\n                  [disabled]=\"!newUserForm.form.valid\">Crear</button>\n                <button *ngIf=\"!isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" (click)=\"editCustomer()\">Editar</button>\n              </span>\n            </div>\n\n\n          </mat-card-actions>\n\n        </mat-card>\n      </form>\n\n    </div>\n  </ion-grid>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/adviser/new-edit-adviser/new-edit-adviser.component.scss":
/*!*************************************************************************************!*\
  !*** ./src/app/components/adviser/new-edit-adviser/new-edit-adviser.component.scss ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%; }\n\n.flex-container2 {\n  display: flex;\n  flex-direction: column;\n  padding-left: 5%;\n  padding-right: 5%;\n  padding-top: 3%;\n  border: 2px solid darkgray;\n  border-radius: 8px; }\n"

/***/ }),

/***/ "./src/app/components/adviser/new-edit-adviser/new-edit-adviser.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/components/adviser/new-edit-adviser/new-edit-adviser.component.ts ***!
  \***********************************************************************************/
/*! exports provided: NewEditAdviserComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewEditAdviserComponent", function() { return NewEditAdviserComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_adviser_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/adviser.service */ "./src/app/services/adviser.service.ts");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var _general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../general/search-select/search-select.component */ "./src/app/components/general/search-select/search-select.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var NewEditAdviserComponent = /** @class */ (function () {
    function NewEditAdviserComponent(route, router, adviserService, buyerService, navCtr, userSession, oneSignalService, dialog) {
        this.route = route;
        this.router = router;
        this.adviserService = adviserService;
        this.buyerService = buyerService;
        this.navCtr = navCtr;
        this.userSession = userSession;
        this.oneSignalService = oneSignalService;
        this.dialog = dialog;
        this.hide = true;
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.adviser = {};
        this.buyerInput = [];
        this.isSpinner = false;
        this.user = userSession.userSession.value;
    }
    NewEditAdviserComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.getBuyers();
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.adviserService.getAdviserById(params['id']).subscribe(function (adv) {
                    console.log(adv);
                    _this.adviser = adv;
                });
                _this.isNew = false;
            }
            else if (_this.user.type === 'adviser') {
                _this.adviserService.getAdviserById(_this.user.id).subscribe(function (adv) {
                    console.log(adv);
                    _this.adviser = adv;
                });
                _this.isNew = false;
            }
            else {
                _this.isNew = true;
            }
        });
    };
    NewEditAdviserComponent.prototype.getBuyers = function () {
        this.buyers$ = this.buyerService.getBuyerAll();
    };
    NewEditAdviserComponent.prototype.newCustomer = function () {
        var _this = this;
        this.adviser.buyer = this.buyerInput;
        this.adviserService.newAdviser(this.adviser).subscribe(function (adv) {
            _this.buyerInput.forEach(function (buyer) {
                var indexFinded = buyer.adviser.findIndex(function (ad) { return ad._id === adv._id; });
                if (indexFinded === -1) {
                    var arr = buyer.adviser.map(function (ad) { return ad._id; });
                    arr.push(adv._id);
                    buyer.adviser = arr;
                    // noti
                    _this.notification('Nuevo Cliente Asignado', "Se le ha asignado el cliente: " + buyer.name, 'verde', 'buyer', undefined, [adv._id]);
                    _this.buyerService.putBuyer(buyer).subscribe(function () { });
                }
            });
            var toast = {
                queryParams: { res: 'Nuevo Asesor Agregado' },
            };
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-adviser-admin'], toast); });
        });
    };
    NewEditAdviserComponent.prototype.deleteBuyer = function (buyerId) {
        var _this = this;
        console.log(buyerId);
        // buyer
        this.buyerService.getBuyerById(buyerId).subscribe(function (b) {
            var indexAdvBuyer = b.adviser.findIndex(function (ab) { return ab._id === _this.adviser._id; });
            console.log(indexAdvBuyer);
            b.adviser.splice(indexAdvBuyer, 1);
            console.log(b);
            _this.buyerService.putBuyer(b).subscribe(function () {
                // adviser
                _this.adviserService.getAdviserById(_this.adviser._id).subscribe(function (adv) {
                    var indexBA = adv.buyer.findIndex(function (bu) { return bu._id === buyerId; });
                    console.log(indexBA);
                    adv.buyer.splice(indexBA, 1);
                    _this.adviserService.putAdviser(adv).subscribe(function () {
                        _this.adviser.buyer = adv.buyer;
                        console.log(_this.adviser);
                    });
                });
            });
        });
    };
    NewEditAdviserComponent.prototype.editCustomer = function () {
        var _this = this;
        if (this.buyerInput && this.buyerInput.length > 0) {
            this.buyerInput.forEach(function (b) {
                var index = _this.adviser.buyer.findIndex(function (ab) { return ab._id === b._id; });
                if (index === -1) {
                    _this.adviser.buyer.push(b._id);
                }
                _this.newAdviserToBuyer(b, _this.adviser._id);
            });
        }
        console.log(this.adviser);
        this.adviserService.putAdviser(this.adviser).subscribe(function () {
            var toast = {
                queryParams: { res: ' Asesor Editado' },
            };
            /**
             * Es para recargar el componente previo
             */
            if (_this.user.type === 'adviser') {
                _this.router.navigate(['list-buyer-admin'], toast);
            }
            else {
                _this.router
                    .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                    .then(function () { return _this.router.navigate(['list-adviser-admin'], toast); });
            }
        });
    };
    NewEditAdviserComponent.prototype.newAdviserToBuyer = function (buyer, adviserId) {
        var indexFinded = buyer.adviser.findIndex(function (adv) { return adv._id === adviserId; });
        if (indexFinded === -1) {
            var arr = buyer.adviser.map(function (adv) { return adv._id; });
            arr.push(adviserId);
            buyer.adviser = arr;
            // noti
            this.notification('Nuevo Cliente Asignado', "Se le ha asignado el cliente: " + buyer.name, 'verde', 'buyer', undefined, [adviserId]);
            this.buyerService.putBuyer(buyer).subscribe(function () { return console.log('act'); });
        }
    };
    NewEditAdviserComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userSession.userSession.value.id,
            status: status,
            type: type,
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, tags, receiversId)
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    // dialog
    NewEditAdviserComponent.prototype.searchBuyers = function () {
        return __awaiter(this, void 0, void 0, function () {
            var buyers, dialogRef, sub;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isSpinner = true;
                        return [4 /*yield*/, this.buyerService.getBuyerAll().toPromise()];
                    case 1:
                        buyers = _a.sent();
                        this.isSpinner = false;
                        dialogRef = this.dialog.open(_general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_8__["SearchSelectComponent"], {
                            /*  maxWidth: '50%',
                              minWidth: '20%', */
                            data: {
                                header: 'Buscar clientes para asignar un asesor, seleccione uno o varios',
                                hideButtonCancel: true,
                                okButton: 'OK',
                                isMultiple: true,
                                filtersDetail: true,
                                itemsIdDisable: this.adviser.buyer !== undefined
                                    ? this.buyerInput.map(function (b) { return b._id; }).concat(this.adviser.buyer.map(function (b) { return b._id; })) : this.buyerInput.map(function (b) { return b._id; }),
                                rows: buyers,
                                typeFilter: 'filter-buyer',
                                columns: [
                                    {
                                        name: 'Nombre',
                                        prop: 'name',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Apellido',
                                        prop: 'fatherLastName',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Fecha Alta',
                                        prop: 'timestamp',
                                        type: 'date',
                                    },
                                    {
                                        name: 'Estado',
                                        prop: 'statusBuyerProperty',
                                        type: 'statusBuyerProperty',
                                    },
                                ],
                            },
                        });
                        sub = dialogRef.componentInstance.buttons.subscribe(function (res) {
                            console.log(res);
                            if (res.options) {
                                _this.buyerInput = res.arrSelect.concat(_this.buyerInput);
                                console.log(_this.buyerInput);
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewEditAdviserComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    NewEditAdviserComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    NewEditAdviserComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-edit-adviser',
            template: __webpack_require__(/*! ./new-edit-adviser.component.html */ "./src/app/components/adviser/new-edit-adviser/new-edit-adviser.component.html"),
            styles: [__webpack_require__(/*! ./new-edit-adviser.component.scss */ "./src/app/components/adviser/new-edit-adviser/new-edit-adviser.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _services_adviser_service__WEBPACK_IMPORTED_MODULE_2__["AdviserService"],
            _services_buyer_service__WEBPACK_IMPORTED_MODULE_3__["BuyerService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["NavController"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__["UserSessionService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_6__["OnesignalService"],
            _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialog"]])
    ], NewEditAdviserComponent);
    return NewEditAdviserComponent;
}());



/***/ }),

/***/ "./src/app/components/build/new-edit-build/new-edit-build.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/components/build/new-edit-build/new-edit-build.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"start\">\n        <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n      </ion-buttons>\n      <ion-title>\n        Obra\n      </ion-title>\n\n    </ion-toolbar>\n  </ion-header>\n-->\n<ion-header>\n  <app-menu-general\n    [isMenuButton]=\"'back'\"\n    [colorMenuButton]=\"'white'\"\n    [titleMenu]=\"'Obra'\"\n    [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"\n  ></app-menu-general>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n    <h1 *ngIf=\"isNew\">Nueva Obra</h1>\n    <h1 *ngIf=\"!isNew\">Editar Obra</h1>\n    <div class=\"container\" style=\"margin-top: 3%\">\n      <form #newUserForm=\"ngForm\">\n        <mat-card>\n          <mat-card-title>Complete los campos</mat-card-title>\n          <div class=\"flex-container\">\n            <!-- makers -->\n            <div>\n              <mat-form-field style=\"width: 100%\" appearance=\"outline\">\n                <mat-label>Constructores de la obra</mat-label>\n                <mat-select\n                  [(value)]=\"maker\"\n                  [(ngModel)]=\"maker\"\n                  #property=\"ngModel\"\n                  id=\"property\"\n                  name=\"property\"\n                  multiple\n                >\n                  <mat-option\n                    [disabled]=\"prop.build\"\n                    *ngFor=\"let prop of makers\"\n                    [value]=\"prop._id\"\n                  >\n                    {{ prop.name }}\n                    <small *ngIf=\"prop.build\"\n                      >Pertenece a: {{ prop.build.name }}\n                    </small>\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"property.dirty || property.touched\"\n                  >Selcciona</mat-error\n                >\n              </mat-form-field>\n              <div>\n                <button\n                  mat-raised-button\n                  color=\"primary\"\n                  (click)=\"searchBuyers()\"\n                >\n                  <ion-spinner\n                    *ngIf=\"isSpinner\"\n                    style=\"color: white\"\n                    name=\"bubbles\"\n                  ></ion-spinner>\n                  Buscar Constructores\n                </button>\n              </div>\n            </div>\n\n            <!-- name -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Nombre</mat-label>\n              <input\n                matInput\n                placeholder=\"\"\n                [(ngModel)]=\"build.name\"\n                #name=\"ngModel\"\n                id=\"name\"\n                name=\"name\"\n                required\n              />\n              <mat-error *ngIf=\"name.dirty || name.touched\"\n                >Anotar Nombre</mat-error\n              >\n            </mat-form-field>\n            <!-- city -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Ciudad</mat-label>\n              <mat-select\n                [(ngModel)]=\"build.city\"\n                #city=\"ngModel\"\n                id=\"city\"\n                name=\"city\"\n                required\n              >\n                <mat-option value=\"puebla\"> Puebla </mat-option>\n                <mat-option value=\"mexico\"> México </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"city.dirty || city.touched\"\n                >Anotar Ciudad</mat-error\n              >\n            </mat-form-field>\n            <!-- notas -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Notas</mat-label>\n              <textarea\n                matInput\n                [(ngModel)]=\"build.notes\"\n                #notes=\"ngModel\"\n                id=\"notes\"\n                name=\"notes\"\n              ></textarea>\n            </mat-form-field>\n          </div>\n          <!-- faeses List -->\n          <app-form-str-list\n            [forms]=\"forms\"\n            nameTitle=\"Fases de la Obra\"\n            nameItems=\"Fase\"\n            nameItems2=\"Notas\"\n            (arrOutput)=\"getPhases($event)\"\n            [arrStr]=\"arrStr\"\n            [arrStr2]=\"arrStr2\"\n            [arrDate]=\"arrDate\"\n            [arrDate2]=\"arrDate2\"\n            [numOfItems]=\"isNew ? 2 : arrStr.length\"\n            [isDesktop]=\"isDesktop\"\n            [isRequired]=\"true\"\n          ></app-form-str-list>\n          <mat-card-actions align=\"end\">\n            <div style=\"margin-right: 2%\">\n              <span\n                [matTooltip]=\"errorToShow\"\n                [matTooltipClass]=\"'tooltip-size'\"\n                (mouseenter)=\"getPopMessage($event)\"\n              >\n                <button\n                  *ngIf=\"isNew\"\n                  id=\"submitUser\"\n                  mat-raised-button\n                  color=\"primary\"\n                  (click)=\"newCustomer()\"\n                  [disabled]=\"!newUserForm.form.valid || !isPhasesValid\"\n                >\n                  Crear\n                </button>\n                <button\n                  *ngIf=\"!isNew\"\n                  id=\"submitUser\"\n                  mat-raised-button\n                  color=\"primary\"\n                  [disabled]=\"!newUserForm.form.valid || !isPhasesValid\"\n                  (click)=\"editCustomer()\"\n                >\n                  Editar\n                </button>\n              </span>\n            </div>\n          </mat-card-actions>\n        </mat-card>\n      </form>\n    </div>\n  </ion-grid>\n</ion-content>\n"

/***/ }),

/***/ "./src/app/components/build/new-edit-build/new-edit-build.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/components/build/new-edit-build/new-edit-build.component.scss ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  /* display: flex;\n    flex-direction: column;\n    padding: 5%; */\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 50%;\n  padding: 1%; }\n\n@media (max-width: 900px) {\n  .flex-container > * {\n    width: 100%; } }\n"

/***/ }),

/***/ "./src/app/components/build/new-edit-build/new-edit-build.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/components/build/new-edit-build/new-edit-build.component.ts ***!
  \*****************************************************************************/
/*! exports provided: NewEditBuildComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewEditBuildComponent", function() { return NewEditBuildComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_build_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/build.service */ "./src/app/services/build.service.ts");
/* harmony import */ var _services_maker_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/maker.service */ "./src/app/services/maker.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var _general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../general/search-select/search-select.component */ "./src/app/components/general/search-select/search-select.component.ts");
/* harmony import */ var rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/internal/operators/map */ "./node_modules/rxjs/internal/operators/map.js");
/* harmony import */ var rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_10__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};











var NewEditBuildComponent = /** @class */ (function () {
    function NewEditBuildComponent(route, router, buildService, makerService, platform, userSessionService, oneSignalService, dialog) {
        this.route = route;
        this.router = router;
        this.buildService = buildService;
        this.makerService = makerService;
        this.platform = platform;
        this.userSessionService = userSessionService;
        this.oneSignalService = oneSignalService;
        this.dialog = dialog;
        this.hide = true;
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.build = {};
        this.forms = {
            arrStr: true,
            arrStr2: true,
            arrDate: true,
            arrDate2: true,
        };
        this.arrStr = [];
        this.arrStr2 = [];
        this.arrDate = [];
        this.arrDate2 = [];
        this.isPhasesValid = false;
        this.isDesktop = platform.is('desktop');
    }
    NewEditBuildComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.getMakers();
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.buildService.getBuildById(params['id']).subscribe(function (build) {
                    _this.maker = build.maker.map(function (m) { return m._id; });
                    _this.build = build;
                    console.log(build);
                    // generar arr inputs
                    // arrStr
                    _this.arrStr = build.timeLine.map(function (tl) { return tl.namePhase; });
                    _this.arrStr2 = build.timeLine.map(function (tl) { return tl.notes; });
                    _this.arrDate = build.timeLine.map(function (tl) { return new Date(tl.yearToStart, tl.monthToStart, tl.dayToStart); });
                    _this.arrDate2 = build.timeLine.map(function (tl) { return new Date(tl.yearToEnd, tl.monthToEnd, tl.dayToEnd); });
                });
                _this.isNew = false;
            }
            else {
                _this.build.timeLine = [{}];
                _this.isNew = true;
            }
        });
    };
    NewEditBuildComponent.prototype.getMakers = function () {
        var _this = this;
        this.makerService.getMakerAll().subscribe(function (m) {
            console.log(m);
            _this.makers = m;
        });
    };
    NewEditBuildComponent.prototype.getPhases = function (phases) {
        var _this = this;
        this.isPhasesValid = phases.isValid;
        phases.arrStr.forEach(function (str, i) {
            var phaseObj = {
                namePhase: str,
                notes: phases.arrStr2[i],
                dayToStart: phases.arrDate[i] ? phases.arrDate[i].getDate() : undefined,
                monthToStart: phases.arrDate[i]
                    ? phases.arrDate[i].getMonth()
                    : undefined,
                yearToStart: phases.arrDate[i]
                    ? phases.arrDate[i].getFullYear()
                    : undefined,
                dayToEnd: phases.arrDate2[i] ? phases.arrDate2[i].getDate() : undefined,
                monthToEnd: phases.arrDate2[i]
                    ? phases.arrDate2[i].getMonth()
                    : undefined,
                yearToEnd: phases.arrDate2[i]
                    ? phases.arrDate2[i].getFullYear()
                    : undefined,
            };
            if (_this.build && _this.build.timeLine && _this.build.timeLine[i]) {
                _this.build.timeLine[i] = phaseObj;
            }
            else {
                _this.build.timeLine.push(phaseObj);
            }
        });
    };
    NewEditBuildComponent.prototype.newCustomer = function () {
        var _this = this;
        this.build.maker = this.maker;
        this.buildService.newBuild(this.build).subscribe(function (b) {
            _this.notification('Nueva Obra', "Se le ha asignado: " + _this.build.name, 'verde', 'build', undefined, b.maker);
            b.timeLine.forEach(function (tm) {
                _this.notificationBySchedule(tm, b.name, b);
            });
            b.maker.forEach(function (m) {
                console.log(m);
                var maker = { _id: m, build: b };
                _this.makerService.putMaker(maker).subscribe(function () { });
            });
            var toast = {
                queryParams: { res: 'Nuevo Obra Agregada' },
            };
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-build-admin'], toast); });
        });
    };
    NewEditBuildComponent.prototype.editCustomer = function () {
        var _this = this;
        this.build.notificationOneSignal = this.deleteOneSignal(this.build);
        this.setMakers();
        // this.build.maker = this.maker;
        this.buildService.putBuild(this.build).subscribe(function () {
            var toast = {
                queryParams: { res: ' Obra Editada' },
            };
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-build-admin'], toast); });
        });
    };
    NewEditBuildComponent.prototype.setMakers = function () {
        var _this = this;
        // noti
        this.notification('Asignación de Obra', "Se le ha asignado: " + this.build.name, 'verde', 'build', undefined, this.maker);
        this.maker.forEach(function (element) {
            var indexFinded = _this.build.maker.findIndex(function (m) { return m._id === element; });
            if (indexFinded === -1) {
                _this.build.maker.push(element);
                var maker = { _id: element, build: _this.build };
                _this.makerService.putMaker(maker).subscribe(function () { return console.log('add'); });
            }
        });
    };
    // dialog
    NewEditBuildComponent.prototype.searchBuyers = function () {
        return __awaiter(this, void 0, void 0, function () {
            var makers, dialogRef, sub;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isSpinner = true;
                        return [4 /*yield*/, this.makerService
                                .getMakerAll()
                                .pipe(Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_10__["map"])(function (arr) {
                                return arr.map(function (maker) {
                                    if (maker.build) {
                                        maker.buildName = maker.build.name;
                                    }
                                    else {
                                        maker.buildName = '';
                                    }
                                    return maker;
                                });
                            }))
                                .toPromise()];
                    case 1:
                        makers = _a.sent();
                        console.log(makers);
                        this.isSpinner = false;
                        dialogRef = this.dialog.open(_general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_9__["SearchSelectComponent"], {
                            /*  maxWidth: '50%',
                              minWidth: '20%', */
                            data: {
                                header: 'Buscar constructores para asignarle una obra, seleccione uno o varios',
                                hideButtonCancel: true,
                                okButton: 'OK',
                                isMultiple: true,
                                filtersDetail: false,
                                itemsIdDisable: makers.filter(function (m) { return m.buildName !== ''; }).map(function (m) { return m._id; }),
                                rows: makers,
                                typeFilter: 'filter-makers',
                                columns: [
                                    {
                                        name: 'Nombre',
                                        prop: 'name',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Apellido',
                                        prop: 'lastName',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Fecha Alta',
                                        prop: 'timestamp',
                                        type: 'date',
                                    },
                                    {
                                        name: 'Obra',
                                        prop: 'buildName',
                                        type: 'normal',
                                    },
                                ],
                            },
                        });
                        sub = dialogRef.componentInstance.buttons.subscribe(function (res) {
                            if (res.options) {
                                _this.maker = res.arrSelect.map(function (r) { return r._id; });
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewEditBuildComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    NewEditBuildComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    NewEditBuildComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userSessionService.userSession.value.id,
            status: status,
            type: type,
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, tags, receiversId)
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    NewEditBuildComponent.prototype.notificationBySchedule = function (timeLine, buildName, build) {
        var _this = this;
        var date = this.getDate(timeLine.dayToEnd, timeLine.monthToEnd, timeLine.yearToEnd);
        // onesignal
        this.oneSignalService
            .postOneSignalBySchedule('Recordatorio de Fase', "La fase \"" + timeLine.namePhase + "\" de la obra " + buildName + " lleg\u00F3 a la fecha l\u00EDmite: " + date, new Date(timeLine.yearToEnd, timeLine.monthToEnd, timeLine.dayToEnd, 10, 40), ['office', 'administrator'], build.maker === undefined ? undefined : build.maker.map(function (m) { return m._id; }))
            .subscribe(function (data) {
            if (!build.notificationOneSignal) {
                build.notificationOneSignal = [];
            }
            build.notificationOneSignal.push(data.id);
            _this.buildService.putBuild(build).subscribe();
        });
    };
    NewEditBuildComponent.prototype.deleteOneSignal = function (build) {
        var _this = this;
        /* const schedule = await this.scheduleService
          .getScheduleById(scheduleId)
          .toPromise(); */
        if (build.notificationOneSignal && build.notificationOneSignal.length > 0) {
            build.notificationOneSignal.forEach(function (idN, i) {
                _this.oneSignalService.deleteOneSignalSchedule(idN).subscribe();
            });
            return (build.notificationOneSignal = []);
        }
    };
    NewEditBuildComponent.prototype.getDate = function (day, month, year) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_7__["FormatDatesFront"])(new Date(year, month, day));
    };
    NewEditBuildComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-edit-build',
            template: __webpack_require__(/*! ./new-edit-build.component.html */ "./src/app/components/build/new-edit-build/new-edit-build.component.html"),
            styles: [__webpack_require__(/*! ./new-edit-build.component.scss */ "./src/app/components/build/new-edit-build/new-edit-build.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _services_build_service__WEBPACK_IMPORTED_MODULE_3__["BuildService"],
            _services_maker_service__WEBPACK_IMPORTED_MODULE_4__["MakerService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__["UserSessionService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_6__["OnesignalService"],
            _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__["MatDialog"]])
    ], NewEditBuildComponent);
    return NewEditBuildComponent;
}());



/***/ }),

/***/ "./src/app/components/buyer/calendar-buyer/calendar-buyer.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/components/buyer/calendar-buyer/calendar-buyer.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar translucent color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Calendario\n    </ion-title>\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [buttonNotification]=\"'notifications'\" [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Calendario'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-header>\n  <ion-toolbar color=\"secondary\">\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"backOne()\" slot=\"start\">\n        <ion-icon mode=\"ios\" slot=\"icon-only\" name=\"arrow-back\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title style=\"text-align: center\">{{month[monthNumber]}} {{year}}</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"getEvents()\" slot=\"end\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"clipboard\"></ion-icon>\n      </ion-button>\n      <ion-button (click)=\"fowardOne()\" slot=\"end\">\n        <ion-icon mode=\"ios\" slot=\"icon-only\" name=\"arrow-forward\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding>\n  <ion-grid fixed style=\"height: 100%;\">\n    <span *ngIf=\"isLoad\">\n      <app-general-calendar [year]=\"year\" [month]=\"monthNumber\" [schedules]=\"schedule\" (calendarSelect)=\"calendarSelect($event)\"\n        (alertOfToday)=\"toastPresent()\"></app-general-calendar>\n    </span>\n\n  </ion-grid>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/buyer/calendar-buyer/calendar-buyer.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/components/buyer/calendar-buyer/calendar-buyer.component.scss ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* .cal_calendar {\n    border: 1px solid black;\n    padding: 1px;\n    background-color: #4594ff;\n    width: 300px;\n    margin: auto;\n    height: 246px;\n    background-image: url('http://www.webestools.com/ftp/ybouane/scripts_tutorials/javascript/calendar/bak-300-250.gif');\n}\n\n.cal_calendar th {\n    border: 1px solid black;\n    background-color: #ffffff;\n    width: 36px;\n}\n\n.cal_calendar td {\n    border: 1px solid black;\n    background-color: #ffffff;\n    text-align: center;\n    width: 36px;\n    height: 36px;\n}\n\n.cal_today {\n    color: #ff0000;\n    font-weight: bold;\n}\n\n.cal_days_bef_aft {\n    color: #5a779e;\n} */\n/* .currentmonth {\n    color: blue;\n    text-align: center;\n}\n\n.currentday {\n    border: 1px solid black;\n    color: #00FF00;\n    text-align: center;\n}\n\ntable.calendar {\n    margin: 1em 1em 2em 1em;\n}\n\ntable.calendar td,\ntable.calendar th {\n    padding: 0.5em;\n}\n\ntable.calendar {\n    display: inline-block;\n    *display: inline;\n    zoom: 1;\n    vertical-align: top;\n} */\n"

/***/ }),

/***/ "./src/app/components/buyer/calendar-buyer/calendar-buyer.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/components/buyer/calendar-buyer/calendar-buyer.component.ts ***!
  \*****************************************************************************/
/*! exports provided: CalendarBuyerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalendarBuyerComponent", function() { return CalendarBuyerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_adviser_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/adviser.service */ "./src/app/services/adviser.service.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/dist/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var CalendarBuyerComponent = /** @class */ (function () {
    function CalendarBuyerComponent(buyerService, userSessionService, navController, router, adviserService, storage, toastController) {
        this.buyerService = buyerService;
        this.userSessionService = userSessionService;
        this.navController = navController;
        this.router = router;
        this.adviserService = adviserService;
        this.storage = storage;
        this.toastController = toastController;
        this.month = [
            'Enero',
            'Febrero',
            'Marzo',
            'Abril',
            'Mayo',
            'Junio',
            'Julio',
            'Agosto',
            'Septiembre',
            'Octubre',
            'Noviembre',
            'Diciembre',
        ];
        this.isLoad = false;
        this.monthNumber = new Date().getMonth();
        this.year = new Date().getFullYear();
    }
    CalendarBuyerComponent.prototype.ngOnInit = function () {
        var _this = this;
        var user = this.userSessionService.userSession.value;
        if (user.type === 'buyer') {
            // buyer
            this.buyerService.getBuyerById(user.id).subscribe(function (b) {
                _this.schedule = b.schedule;
                _this.isLoad = true;
            });
        }
        else if ((user.type = 'adviser')) {
            // adv
            this.adviserService.getAdviserById(user.id).subscribe(function (b) {
                _this.schedule = b.schedule;
                _this.isLoad = true;
            });
        }
    };
    CalendarBuyerComponent.prototype.calendarSelect = function (item) {
        if (item.day !== 0) {
            var isFinded = this.schedule.filter(function (s) {
                return s.day === item.day && s.month === item.month && s.year === item.year;
            });
            if (isFinded.length > 0) {
                var data = { queryParams: item };
                this.router.navigate(['event-detail-buyer'], data);
            }
        }
    };
    CalendarBuyerComponent.prototype.getEvents = function () {
        this.router.navigate(['event-detail-buyer']);
    };
    CalendarBuyerComponent.prototype.backOne = function () {
        if (this.monthNumber === 0) {
            this.year--;
            this.monthNumber = 11;
        }
        else {
            this.monthNumber--;
        }
    };
    CalendarBuyerComponent.prototype.fowardOne = function () {
        if (this.monthNumber === 11) {
            this.year++;
            this.monthNumber = 0;
        }
        else {
            this.monthNumber++;
        }
    };
    CalendarBuyerComponent.prototype.toastPresent = function (m) {
        if (m === void 0) { m = 'Eventos pendientes hoy'; }
        return __awaiter(this, void 0, void 0, function () {
            var isPresent, toast;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.get('alert-today')];
                    case 1:
                        isPresent = _a.sent();
                        if (!(+isPresent !== new Date().getDate())) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.toastController.create({
                                message: m,
                                showCloseButton: true,
                                position: 'bottom',
                                closeButtonText: 'OK',
                                cssClass: 'toast-alert',
                                duration: 50000,
                            })];
                    case 2:
                        toast = _a.sent();
                        toast.present();
                        toast.onWillDismiss().then(function () {
                            _this.storage.set('alert-today', new Date().getDate());
                        });
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    CalendarBuyerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-calendar-buyer',
            template: __webpack_require__(/*! ./calendar-buyer.component.html */ "./src/app/components/buyer/calendar-buyer/calendar-buyer.component.html"),
            styles: [__webpack_require__(/*! ./calendar-buyer.component.scss */ "./src/app/components/buyer/calendar-buyer/calendar-buyer.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_buyer_service__WEBPACK_IMPORTED_MODULE_1__["BuyerService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__["UserSessionService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
            _services_adviser_service__WEBPACK_IMPORTED_MODULE_5__["AdviserService"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_6__["Storage"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"]])
    ], CalendarBuyerComponent);
    return CalendarBuyerComponent;
}());



/***/ }),

/***/ "./src/app/components/buyer/credit-event-buyer/credit-event-buyer.component.html":
/*!***************************************************************************************!*\
  !*** ./src/app/components/buyer/credit-event-buyer/credit-event-buyer.component.html ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button style=\"color: white !important\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>\n      Detalles\n    </ion-title>\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [buttonNotification]=\"'notifications'\" [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Créditos y Eventos'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <!-- cargar -->\n  <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n  <!-- si cargado -->\n  <ng-template #thenTemplate>\n    <!-- credito -->\n    <div style=\"text-align: center\">\n      <ion-chip class=\"chips-detail\" color=\"secondary\">\n        <ion-label>Créditos</ion-label>\n      </ion-chip>\n    </div>\n\n    <ng-container *ngIf=\"hasCredit; then Credit; else noCredit\"></ng-container>\n    <ng-template #Credit>\n\n      <ion-card [ngClass]=\"{'state-verde': credit.status === 'verde', \n        'state-amarillo': credit.status === 'amarillo',\n        'state-rojo': credit.status === 'rojo',\n        'state-azul': credit.status === 'azul' }\">\n\n        <span *ngIf=\"credit.status === 'verde'\">\n          <ion-card-header>\n            <ion-card-subtitle>Estado: Interés</ion-card-subtitle>\n            <ion-card-title text-wrap>En espera</ion-card-title>\n          </ion-card-header>\n          <ion-card-content text-wrap>\n            En poco tiempo recibirá respuesta de la solicitud\n          </ion-card-content>\n\n        </span>\n\n        <span *ngIf=\"credit.status === 'amarillo'\">\n          <ion-card-header>\n            <ion-card-subtitle>Estado: Negociación</ion-card-subtitle>\n            <ion-card-title text-wrap>Favor de Responder</ion-card-title>\n          </ion-card-header>\n          <ion-card-content text-wrap>\n            <ion-label text-wrap>Detalles de la oferta : {{credit.notes}}</ion-label>\n            <ion-list lines=\"none\">\n              <ion-list-header text-wrap> Documentos Requeridos:</ion-list-header>\n              <ion-item lines=\"none\" *ngFor=\"let doc of credit.files\">{{doc}}</ion-item>\n            </ion-list>\n          </ion-card-content>\n          <!-- Poner en notes Aceptado o Denagado -->\n\n          <ion-item lines=\"none\">\n            <ion-button (click)=\"respondOfert('Aceptado', true)\" color=\"success\" fill=\"outline\" slot=\"end\">\n              Aceptar <ion-icon name=\"checkmark-circle\"></ion-icon>\n            </ion-button>\n            <ion-button (click)=\"respondOfert('Denagado', false)\" color=\"danger\" fill=\"outline\" slot=\"end\">\n              Denegar <ion-icon name=\"close-circle\"></ion-icon>\n            </ion-button>\n\n          </ion-item>\n\n        </span>\n\n        <span *ngIf=\"credit.status === 'rojo'\">\n          <ion-card-header>\n            <ion-card-subtitle>Estado: Respuesta de Crédito</ion-card-subtitle>\n            <!-- Poner en notes Aceptado o Denagado -->\n            <ion-card-title text-wrap> Crédito: {{credit.notes}}</ion-card-title>\n            <ion-card-content text-wrap>\n            </ion-card-content>\n          </ion-card-header>\n        </span>\n\n      </ion-card>\n    </ng-template>\n    <ng-template #noCredit>\n      <ion-card>\n        <ion-card-header>\n          <ion-card-title style=\"display: flex; align-items: center;\">\n            <ion-icon name=\"paper\"></ion-icon> Solicitar Crédito\n          </ion-card-title>\n        </ion-card-header>\n        <ion-card-content>\n          <ion-label text-wrap><b>Aún no cuentas con algún credito para esta propiedad</b></ion-label>\n          <ion-label text-wrap>Solicita uno de manera gratuita presionando en el botón:</ion-label>\n        </ion-card-content>\n        <ion-item lines=\"none\">\n          <ion-button (click)=\"createCredit()\" color=\"secondary\" fill=\"outline\" slot=\"end\">\n            Solicitar Crédito <ion-icon name=\"send\"></ion-icon>\n          </ion-button>\n        </ion-item>\n      </ion-card>\n    </ng-template>\n    <!-- /credito -->\n    <!-- schedule -->\n    <div style=\"text-align: center\">\n      <ion-chip class=\"chips-detail\" color=\"secondary\">\n        <ion-label>Citas</ion-label>\n      </ion-chip>\n    </div>\n    <ion-card *ngFor=\"let schedule of schedules\" [ngClass]=\"{'state-verde': schedule.status === 'verde', \n        'state-amarillo': schedule.status === 'amarillo',\n        'state-rojo': schedule.status === 'rojo',\n        'state-gris': schedule.status === 'gris',\n        'state-azul': schedule.status === 'azul' }\">\n      <span *ngIf=\"schedule.status === 'gris'\">\n        <ion-card-header>\n          <ion-card-subtitle>Estado: Cita Generada</ion-card-subtitle>\n          <ion-card-title text-wrap>En espera</ion-card-title>\n        </ion-card-header>\n        <ion-card-content text-wrap>\n          En poco tiempo recibirá respuesta de la cita solicitada\n        </ion-card-content>\n\n      </span>\n\n      <span *ngIf=\"schedule.status === 'verde'\">\n        <ion-card-header>\n          <ion-card-subtitle>Estado: Propuesta Cita</ion-card-subtitle>\n          <ion-card-title text-wrap>Favor de Responder</ion-card-title>\n        </ion-card-header>\n        <ion-card-content text-wrap>\n          <ion-label text-wrap>Detalles de la cita : {{schedule.note}}</ion-label>\n          <ion-list lines=\"none\">\n            <ion-item lines=\"none\" text-wrap> Fecha: {{schedule.day}}/{{schedule.month + 1}}/{{schedule.year}}</ion-item>\n            <ion-item lines=\"none\" text-wrap>Hora: {{formatHours(schedule.hour, schedule.minute)}}</ion-item>\n          </ion-list>\n        </ion-card-content>\n        <!-- Poner en notes Aceptado o Denagado -->\n\n        <ion-item lines=\"none\">\n          <ion-button (click)=\"respondSchedule('Aceptado', schedule)\" color=\"success\" fill=\"outline\" slot=\"end\">\n            Aceptar <ion-icon name=\"checkmark-circle\"></ion-icon>\n          </ion-button>\n          <ion-button (click)=\"respondSchedule('Denagado', schedule)\" color=\"danger\" fill=\"outline\" slot=\"end\">\n            Denegar <ion-icon name=\"close-circle\"></ion-icon>\n          </ion-button>\n\n        </ion-item>\n\n      </span>\n\n\n      <span *ngIf=\"schedule.status === 'amarillo'\">\n        <ion-card-header>\n          <ion-card-subtitle>Estado: Cita Agendada</ion-card-subtitle>\n          <ion-card-title text-wrap>Favor de asistir</ion-card-title>\n        </ion-card-header>\n        <ion-card-content text-wrap>\n          <ion-label text-wrap>Detalles de la cita : {{schedule.note}}</ion-label>\n          <ion-list lines=\"none\">\n            <ion-item lines=\"none\" text-wrap> Fecha: {{schedule.day}}/{{schedule.month + 1}}/{{schedule.year}}</ion-item>\n            <ion-item lines=\"none\" text-wrap>Hora: {{formatHours(schedule.hour, schedule.minute)}} </ion-item>\n          </ion-list>\n        </ion-card-content>\n        <!-- Poner en notes Aceptado o Denagado -->\n\n        <ion-item lines=\"none\">\n          <ion-button [routerLink]=\"['/calendar-buyer']\" fill=\"outline\" slot=\"end\">\n            Ver agenda <ion-icon name=\"calendar\"></ion-icon>\n          </ion-button>\n\n        </ion-item>\n\n      </span>\n\n      <span *ngIf=\"schedule.status === 'rojo'\">\n        <ion-card-header>\n          <ion-card-subtitle>Estado: Visitada</ion-card-subtitle>\n          <!-- Poner en notes Visitada o No Visitada -->\n          <ion-card-title text-wrap> Cita Pasada</ion-card-title>\n          <ion-card-content text-wrap>\n            <ion-list lines=\"none\">\n              <ion-item lines=\"none\" text-wrap> Fecha: {{schedule.day}}/{{schedule.month + 1}}/{{schedule.year}}</ion-item>\n              <ion-item lines=\"none\" text-wrap>Hora: {{formatHours(schedule.hour, schedule.minute)}} </ion-item>\n            </ion-list>\n          </ion-card-content>\n        </ion-card-header>\n      </span>\n\n    </ion-card>\n\n    <ion-card>\n      <ion-card-header>\n        <ion-card-title style=\"display: flex; align-items: center;\">\n          <ion-icon name=\"calendar\"></ion-icon> Solicitar Visita\n        </ion-card-title>\n      </ion-card-header>\n      <!-- form -->\n      <form #loginForm2=\"ngForm\">\n        <ion-card-content>\n          <ion-label text-wrap><b>Propuesta de Visita</b></ion-label>\n          <ion-label text-wrap>Solicita una de manera gratuita anotando la posible fecha y presionando en el botón:</ion-label>\n          <!-- fecha -->\n          <mat-form-field>\n            <input matInput (dateChange)=\"dateSelect($event)\" [matDatepicker]=\"picker\" (focus)=\"picker.open()\"\n              placeholder=\"Fecha\" required>\n            <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n            <mat-datepicker touchUi #picker></mat-datepicker>\n          </mat-form-field>\n          <!-- day -->\n          <!-- <mdc-text-field label=\"Dia\" type=\"number\" [(ngModel)]=\"daySelect\" #d=\"ngModel\" id=\"d\" name=\"d\" required\n              [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"d.dirty || d.touched\">Anota Dia</span>\n            </mdc-text-field-helper-text> -->\n          <!-- mm -->\n          <!--  <ion-item lines=\"none\" class=\"margin-field\" style=\"    margin-right: 10%;\">\n              <ion-label>Mes</ion-label>\n              <ion-select [(ngModel)]=\"monthSelect\" #me=\"ngModel\" id=\"me\" name=\"me\" required>\n                <ion-select-option *ngFor=\"let m of months; let i = index\" [value]=\"i\">{{m}}</ion-select-option>\n              </ion-select>\n            </ion-item> -->\n          <!-- aa -->\n          <!-- <mdc-text-field label=\"Año\" type=\"number\" [(ngModel)]=\"yearSelect\" #y=\"ngModel\" id=\"y\" name=\"y\" required\n              [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"y.dirty || y.touched\">Anota Año</span>\n            </mdc-text-field-helper-text> -->\n          <!-- hh -->\n          <mdc-text-field label=\"Hora (formato 24hrs)\" type=\"number\" [(ngModel)]=\"hourSelect\" #h=\"ngModel\" id=\"h\" name=\"h\"\n            required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n          <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n            <span *ngIf=\"h.dirty || h.touched\">Anota Hora</span>\n          </mdc-text-field-helper-text>\n\n\n        </ion-card-content>\n        <ion-item lines=\"none\">\n          <ion-button [disabled]=\"!hourSelect && !yearSelect\" (click)=\"createSchedule()\" color=\"secondary\" fill=\"outline\"\n            slot=\"end\">\n            Solicitar Cita <ion-icon name=\"send\"></ion-icon>\n          </ion-button>\n        </ion-item>\n      </form>\n    </ion-card>\n    <!-- /Schedule -->\n\n\n  </ng-template>\n  <!-- no cargado -->\n  <ng-template #elseTemplate>\n    <ion-skeleton-text width=40px></ion-skeleton-text>\n    <ion-skeleton-text width=200px></ion-skeleton-text>\n    <ion-skeleton-text width=600px></ion-skeleton-text>\n    <ion-skeleton-text width=100px></ion-skeleton-text>\n    <ion-skeleton-text width=80px></ion-skeleton-text>\n  </ng-template>\n  <!-- /cargar -->\n</ion-content>"

/***/ }),

/***/ "./src/app/components/buyer/credit-event-buyer/credit-event-buyer.component.scss":
/*!***************************************************************************************!*\
  !*** ./src/app/components/buyer/credit-event-buyer/credit-event-buyer.component.scss ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".state-verde {\n  border-left: 4px solid var(--ion-color-success); }\n\n.state-amarillo {\n  border-left: 4px solid var(--ion-color-warning); }\n\n.state-rojo {\n  border-left: 4px solid var(--ion-color-danger); }\n\n.state-azul {\n  border-left: 4px solid var(--ion-color-blue); }\n\n.chips-detail {\n  padding: 15px;\n  font-size: 1.3em; }\n"

/***/ }),

/***/ "./src/app/components/buyer/credit-event-buyer/credit-event-buyer.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/components/buyer/credit-event-buyer/credit-event-buyer.component.ts ***!
  \*************************************************************************************/
/*! exports provided: CreditEventBuyerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreditEventBuyerComponent", function() { return CreditEventBuyerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_credit_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/credit.service */ "./src/app/services/credit.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/status-buyer-property.service */ "./src/app/services/status-buyer-property.service.ts");
/* harmony import */ var _services_schedule_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/schedule.service */ "./src/app/services/schedule.service.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _services_seller_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../services/seller.service */ "./src/app/services/seller.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};













var CreditEventBuyerComponent = /** @class */ (function () {
    function CreditEventBuyerComponent(route, propertyService, buyerService, userSessionService, creditService, toastController, statusBuyerPropertyService, scheduleService, oneSignalService, sellerService) {
        var _this = this;
        this.route = route;
        this.propertyService = propertyService;
        this.buyerService = buyerService;
        this.userSessionService = userSessionService;
        this.creditService = creditService;
        this.toastController = toastController;
        this.statusBuyerPropertyService = statusBuyerPropertyService;
        this.scheduleService = scheduleService;
        this.oneSignalService = oneSignalService;
        this.sellerService = sellerService;
        this.isLoad = false;
        this.hasCredit = false;
        this.hasSchedule = false;
        this.months = [
            'Enero',
            'Febrero',
            'Marzo',
            'Abril',
            'Mayo',
            'Junio',
            'Julio',
            'Agosto',
            'Septiembre',
            'Octubre',
            'Noviembre',
            'Diciembre'
        ];
        this.schedules = [];
        console.log(userSessionService.userSession.value);
        this.route.queryParams.subscribe(function (params) {
            if (params.id) {
                _this.propertyId = params.id;
                _this.statusBuyerPropertyId = params.statusId;
                _this.getBuyerById(params.id);
            }
        });
    }
    CreditEventBuyerComponent.prototype.ngOnInit = function () { };
    /**
     *
     * @param propertyId id de propiedad
     */
    CreditEventBuyerComponent.prototype.getBuyerById = function (propertyId) {
        var _this = this;
        var buyerId = this.userSessionService.userSession.value.id;
        this.buyerService.getBuyerById(buyerId).subscribe(function (buyer) {
            _this.buyer = buyer;
            var buyerGet = buyer;
            var isCreditFinded = buyerGet.credit.find(function (credit) { return credit.property._id === propertyId; });
            // cambiar a filters si tine varias
            var isScheduleFinded = buyer.schedule.filter(function (s) { return s.property._id === propertyId; });
            if (isCreditFinded) {
                _this.credit = isCreditFinded;
                _this.hasCredit = true;
            }
            _this.schedules = isScheduleFinded;
            _this.isLoad = true;
        });
    };
    CreditEventBuyerComponent.prototype.createCredit = function () {
        var _this = this;
        this.propertyService
            .getPropertyById(this.propertyId)
            .subscribe(function (property) {
            var buyerId = _this.userSessionService.userSession.value.id;
            var buyerName = _this.userSessionService.userSession.value.name;
            var credit = {
                buyer: buyerId,
                property: _this.propertyId,
                status: 'verde',
                notes: "El cliente \"" + buyerName + "\" requiere info. para adquirir un cr\u00E9dito para la propiedad: \"" + property.name + "\""
            };
            // Crear notif
            _this.notification('Solicitud de crédito', credit.notes, credit.status, 'credit', ['office', 'administrator'], undefined);
            _this.creditService.newCredit(credit).subscribe(function (c) {
                if (c) {
                    _this.buyerService.getBuyerById(buyerId).subscribe(function (b) {
                        var arr = b.credit.map(function (item) { return item._id; });
                        arr.push(c._id);
                        var buyer = {
                            _id: buyerId,
                            credit: arr
                        };
                        _this.buyerService.putBuyer(buyer).subscribe(function () {
                            _this.getBuyerById(_this.propertyId);
                            _this.presentToast('Solicitud enviada');
                        });
                    });
                }
            });
        });
    };
    CreditEventBuyerComponent.prototype.respondOfert = function (str, isAcept) {
        var _this = this;
        var buyerName = this.userSessionService.userSession.value.name;
        this.statusBuyerPropertyService
            .upgradeStatus(this.statusBuyerPropertyId, 'rojo')
            .subscribe();
        this.credit.status = 'rojo';
        this.credit.notes = str;
        this.credit.isAccept = isAcept;
        this.creditService.putCredit(this.credit).subscribe(function (res) { return __awaiter(_this, void 0, void 0, function () {
            var seller, prop, arr, dateToSchedule;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getSellerOfProperty(this.propertyId)];
                    case 1:
                        seller = _a.sent();
                        return [4 /*yield*/, this.getPropById(this.propertyId)];
                    case 2:
                        prop = _a.sent();
                        arr = this.buyer.adviser
                            .map(function (a) { return a._id; })
                            .concat(seller === undefined ? undefined : seller._id);
                        dateToSchedule = new Date(new Date().getTime() + 15 * 86400000);
                        // Crear notif
                        this.notification('Respuesta de crédito', "El cliente " + buyerName + " ha " + str + " un cr\u00E9dito para la propiedad: " + prop.name, this.credit.status, 'credit', ['office', 'administrator'], arr);
                        if (isAcept) {
                            prop.dateToApart = dateToSchedule;
                            this.propertyService.putProperty(prop).subscribe();
                            this.notificationByApart('Tiempo de Apartado Superado', "El tiempo de espera ha superado los 15 dias para el cr\u00E9dito de la propiedad: " + prop.name + " del cliente " + this.userSessionService.userSession.value.name, ['office', 'administrator'], arr, dateToSchedule, this.credit);
                        }
                        if (res) {
                            this.getBuyerById(this.propertyId);
                            this.presentToast('Crédito ' + str);
                        }
                        return [2 /*return*/];
                }
            });
        }); });
    };
    CreditEventBuyerComponent.prototype.dateSelect = function (event) {
        if (event) {
            this.daySelect = event.value._i.date;
            this.monthSelect = event.value._i.month;
            this.yearSelect = event.value._i.year;
        }
    };
    // Schedules
    CreditEventBuyerComponent.prototype.createSchedule = function () {
        var _this = this;
        this.propertyService
            .getPropertyById(this.propertyId)
            .subscribe(function (property) {
            var buyer = _this.userSessionService.userSession.value;
            var newSchedule = {
                status: 'gris',
                note: "El cliente \"" + buyer.name + "\" requiere una cita para conocer la propiedad: \"" + property.name + "\"",
                buyer: buyer.id,
                property: _this.propertyId,
                year: _this.yearSelect,
                month: _this.monthSelect,
                day: _this.daySelect,
                hour: _this.hourSelect
            };
            // Crear notif
            _this.notification('Solicitud de visita', newSchedule.note, newSchedule.status, 'schedule', ['office', 'administrator'], undefined);
            _this.scheduleService.newSchedule(newSchedule).subscribe(function (s) {
                if (s) {
                    _this.buyerService.getBuyerById(buyer.id).subscribe(function (b) {
                        var arr = b.schedule.map(function (item) { return item._id; });
                        arr.push(s._id);
                        var buyerEdit = {
                            _id: buyer.id,
                            schedule: arr
                        };
                        _this.buyerService.putBuyer(buyerEdit).subscribe(function () {
                            _this.getBuyerById(_this.propertyId);
                            _this.presentToast('Cita Solicitada');
                        });
                    });
                }
            });
        });
    };
    CreditEventBuyerComponent.prototype.respondSchedule = function (str, schedule) {
        var _this = this;
        var buyerName = this.userSessionService.userSession.value.name;
        if (str === 'Aceptado') {
            schedule.status = 'amarillo';
            // noti schedule
            this.notificationBySchedule(schedule);
            // subir de nivel
            this.statusBuyerPropertyService
                .upgradeStatus(this.statusBuyerPropertyId, 'amarillo')
                .subscribe();
        }
        else {
            schedule.status = 'gris';
        }
        schedule.note = str;
        // Crear notif
        this.notification('Respuesta de visita', "El cliente " + buyerName + " ha " + str + " la visita a " + schedule.property.name, schedule.status, 'schedule', ['office', 'administrator'], [schedule.adviser._id]);
        this.scheduleService.putSchedule(schedule).subscribe(function (res) {
            if (res) {
                _this.getBuyerById(_this.propertyId);
                _this.presentToast('Cita ' + str);
            }
        });
    };
    // toast
    CreditEventBuyerComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 3000
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    CreditEventBuyerComponent.prototype.formatHours = function (hours, minutes) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_9__["FormatHoursFront"])(hours, minutes);
    };
    CreditEventBuyerComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userSessionService.userSession.value.id,
            status: status,
            type: type
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, status === 'rojo' ? ['office', 'administrator'] : ['office'], receiversId)
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    CreditEventBuyerComponent.prototype.notificationBySchedule = function (schedule) {
        var _this = this;
        // onesignal
        this.oneSignalService
            .postOneSignalBySchedule('Recordatorio de evento', "Tienes un evento con direccion " + schedule.address + " en propiedad: " + schedule.property.name + " a las " + schedule.hour + "hrs", new Date(schedule.year, schedule.month, schedule.day, schedule.hour, schedule.minute), undefined, [this.userSessionService.userSession.value.id, schedule.adviser._id])
            .subscribe(function (data) {
            if (!schedule.notificationOneSignal) {
                schedule.notificationOneSignal = [];
            }
            schedule.notificationOneSignal.push(data.id);
            _this.scheduleService.putSchedule(schedule).subscribe();
        });
        /*  this.oneSignalService
          .postOneSignalBySchedule(
            'Recordatorio de evento',
            `sch`,
            new Date(2018, 9, 2, 11, 45),
            [],
            ['5b9be3590ec7e6001335105c', '5baba37a0beeaa15d074e954'],
          )
          .subscribe(e => {
            console.log(e);
          }); */
    };
    CreditEventBuyerComponent.prototype.notificationByApart = function (title, message, tags, reciversId, date, credit) {
        var _this = this;
        // onesignal
        this.oneSignalService
            .postOneSignalBySchedule(title, message, date, tags, reciversId)
            .subscribe(function (data) {
            if (!credit.notificationOneSignal) {
                credit.notificationOneSignal = [];
            }
            console.log(credit);
            credit.notificationOneSignal.push(data.id);
            _this.creditService.putCredit(_this.credit).subscribe();
        });
    };
    CreditEventBuyerComponent.prototype.getSellerOfProperty = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.sellerService
                            .getSellerAll()
                            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["map"])(function (sellers) { return sellers.find(function (s) { return !!s.property.find(function (p) { return p._id === id; }); }); }))
                            .toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    CreditEventBuyerComponent.prototype.getPropById = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.propertyService.getPropertyById(id).toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    CreditEventBuyerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-credit-event-buyer',
            template: __webpack_require__(/*! ./credit-event-buyer.component.html */ "./src/app/components/buyer/credit-event-buyer/credit-event-buyer.component.html"),
            styles: [__webpack_require__(/*! ./credit-event-buyer.component.scss */ "./src/app/components/buyer/credit-event-buyer/credit-event-buyer.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_2__["PropertyService"],
            _services_buyer_service__WEBPACK_IMPORTED_MODULE_3__["BuyerService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_4__["UserSessionService"],
            _services_credit_service__WEBPACK_IMPORTED_MODULE_5__["CreditService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["ToastController"],
            _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_7__["StatusBuyerPropertyService"],
            _services_schedule_service__WEBPACK_IMPORTED_MODULE_8__["ScheduleService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_10__["OnesignalService"],
            _services_seller_service__WEBPACK_IMPORTED_MODULE_12__["SellerService"]])
    ], CreditEventBuyerComponent);
    return CreditEventBuyerComponent;
}());



/***/ }),

/***/ "./src/app/components/buyer/detail-prop-buyer/detail-prop-buyer.component.html":
/*!*************************************************************************************!*\
  !*** ./src/app/components/buyer/detail-prop-buyer/detail-prop-buyer.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button style=\"color: white !important\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>\n      Detalles\n    </ion-title>\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Detalles de Propiedad'\"\n    [buttonUser]=\"'person'\" [buttonNotification]=\"'notifications'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n  <ng-template #thenTemplate>\n    <h1> Característica </h1>\n\n    <ion-card>\n      <ion-item lines=\"none\">\n        <ion-badge *ngIf=\"property.numOfLikes > 0\">\n          {{property.numOfLikes}} me gusta\n        </ion-badge>\n        <ion-button (click)=\"setLikeProperty(property._id)\" color=\"secondary\" [fill]=\"isLiked === true ? 'solid': 'outline'\"\n          slot=\"end\">\n          <ion-icon [name]=\"isLiked === true ? 'heart': 'heart-empty'\" [color]=\"isLiked === true ? 'dark': 'secondary'\"></ion-icon>{{isLiked\n          === true ? 'Te gusta' :'Me gusta'}}\n        </ion-button>\n      </ion-item>\n\n\n      <ion-card-header>\n        <ion-card-subtitle *ngIf=\"property.dateToApart && showApart\">Apartada hasta:\n          {{formatDates(property.dateToApart)}}\n        </ion-card-subtitle>\n        <ion-card-title> {{property.name}} </ion-card-title>\n      </ion-card-header>\n      <!-- Principales -->\n      <ion-grid>\n        <ion-row>\n          <ion-col>\n            <!-- Renta/venta -->\n            <ion-chip *ngIf=\"property.isRent\" style=\"background-color: #F58634\">\n              <ion-chip-icon class=\"icon-chip-detail\" name=\"cart\"></ion-chip-icon>\n              <ion-label>Renta</ion-label>\n            </ion-chip>\n            <ion-chip *ngIf=\"property.isRent\" style=\"background-color: #F58634\">\n              <ion-chip-icon class=\"icon-chip-detail\" name=\"cart\"></ion-chip-icon>\n              <ion-label>Renta</ion-label>\n            </ion-chip>\n            <ion-chip *ngIf=\"!property.isRent\" style=\"background-color: #F58634\">\n              <ion-chip-icon class=\"icon-chip-detail\" name=\"cart\"></ion-chip-icon>\n              <ion-label>Venta</ion-label>\n            </ion-chip>\n          </ion-col>\n          <ion-col>\n            <ion-chip style=\"background-color: #F58634\">\n              <ion-chip-icon class=\"icon-chip-detail\" name=\"expand\"></ion-chip-icon>\n              <ion-label>Espacio {{property.space}}</ion-label>\n            </ion-chip>\n          </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col>\n            <ion-chip style=\"background-color: #F58634\">\n              <ion-chip-icon class=\"icon-chip-detail\" name=\"calendar\"></ion-chip-icon>\n              <ion-label>Fecha {{property.dateToBuy}}</ion-label>\n            </ion-chip>\n          </ion-col>\n          <ion-col>\n            <ion-chip style=\"background-color: #F58634\">\n              <ion-chip-icon class=\"icon-chip-detail\" name=\"water\"></ion-chip-icon>\n              <ion-label>Baños {{property.numBathrooms}}</ion-label>\n            </ion-chip>\n          </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col>\n            <ion-chip style=\"background-color: #F58634\">\n              <ion-chip-icon class=\"icon-chip-detail\" name=\"cash\"></ion-chip-icon>\n              <ion-label>Max ${{property.maxPrice}}</ion-label>\n            </ion-chip>\n          </ion-col>\n          <ion-col>\n            <ion-chip style=\"background-color: #F58634\">\n              <ion-chip-icon class=\"icon-chip-detail\" name=\"cash\"></ion-chip-icon>\n              <ion-label>Min ${{property.minPrice}}</ion-label>\n            </ion-chip>\n          </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col>\n            <ion-chip style=\"background-color: #F58634\">\n              <ion-chip-icon class=\"icon-chip-detail\" name=\"car\"></ion-chip-icon>\n              <ion-label>Estacionamiento {{property.numCars}}</ion-label>\n            </ion-chip>\n          </ion-col>\n          <ion-col>\n            <ion-chip style=\"background-color: #F58634\">\n              <ion-chip-icon class=\"icon-chip-detail\" name=\"bed\"></ion-chip-icon>\n              <ion-label>Cuartos {{property.numRooms}}</ion-label>\n            </ion-chip>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n      <!-- otros -->\n      <ion-card-subtitle style=\"margin-left: 8%;\">Otras</ion-card-subtitle>\n      <ion-item *ngIf=\"property.allServices\">\n        <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n        <ion-label>Todos los servicios</ion-label>\n      </ion-item>\n      <ion-item *ngIf=\"property.hasElevator\">\n        <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n        <ion-label>Elevador</ion-label>\n      </ion-item>\n      <ion-item *ngIf=\"property.hasGarden\">\n        <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n        <ion-label>Jardin</ion-label>\n      </ion-item>\n      <ion-item *ngIf=\"property.isClose\">\n        <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n        <ion-label>Fraccionamineto Cerrado</ion-label>\n      </ion-item>\n      <ion-item *ngIf=\"!property.isOld\">\n        <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n        <ion-label>Nuevo</ion-label>\n      </ion-item>\n      <ion-item *ngIf=\"property.isLowLevel\">\n        <ion-icon style=\"color:  #F5811E\" name=\"radio-button-on\"></ion-icon>\n        <ion-label>Planta Baja</ion-label>\n      </ion-item>\n      <!-- tag -->\n      <ion-card-subtitle style=\"margin: 8% 0% 2% 8%;\">Etiquetas</ion-card-subtitle>\n      <ion-grid style=\"margin-left: 8%;\">\n        <ion-row>\n          <ion-col *ngFor=\"let tag of property.tag\">\n            {{tag}}\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n\n\n    </ion-card>\n\n  </ng-template>\n  <ng-template #elseTemplate style=\"text-align: center\">\n    <ion-spinner name=\"bubbles\"></ion-spinner>\n\n  </ng-template>\n  <!-- <button (click)=\"notification()\">algo</button> -->\n</ion-content>"

/***/ }),

/***/ "./src/app/components/buyer/detail-prop-buyer/detail-prop-buyer.component.scss":
/*!*************************************************************************************!*\
  !*** ./src/app/components/buyer/detail-prop-buyer/detail-prop-buyer.component.scss ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".icon-chip-detail {\n  border-radius: 50%;\n  background-color: black;\n  color: white; }\n"

/***/ }),

/***/ "./src/app/components/buyer/detail-prop-buyer/detail-prop-buyer.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/components/buyer/detail-prop-buyer/detail-prop-buyer.component.ts ***!
  \***********************************************************************************/
/*! exports provided: DetailPropBuyerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetailPropBuyerComponent", function() { return DetailPropBuyerComponent; });
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/status-buyer-property.service */ "./src/app/services/status-buyer-property.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _services_seller_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/seller.service */ "./src/app/services/seller.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};











var DetailPropBuyerComponent = /** @class */ (function () {
    function DetailPropBuyerComponent(route, propertyService, buyerService, userSessionService, toastController, statusBPService, oneSignalService, sellerService) {
        var _this = this;
        this.route = route;
        this.propertyService = propertyService;
        this.buyerService = buyerService;
        this.userSessionService = userSessionService;
        this.toastController = toastController;
        this.statusBPService = statusBPService;
        this.oneSignalService = oneSignalService;
        this.sellerService = sellerService;
        this.isLoad = false;
        this.isLiked = false;
        this.arrPropLikes = [];
        this.arrSBP = [];
        this.route.queryParams.subscribe(function (params) {
            if (params.id) {
                _this.getPropertyById(params.id);
                _this.getlikeProperty(params.id);
            }
        });
    }
    DetailPropBuyerComponent.prototype.ngOnInit = function () { };
    DetailPropBuyerComponent.prototype.getPropertyById = function (id) {
        var _this = this;
        this.propertyService.getPropertyById(id).subscribe(function (property) {
            _this.property = property;
            _this.showApart = new Date() < new Date(property.dateToApart);
            console.log(property.numOfLikes);
            _this.isLoad = true;
        });
    };
    DetailPropBuyerComponent.prototype.getSellerOfProperty = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.sellerService
                            .getSellerAll()
                            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(function (sellers) {
                            return sellers.find(function (s) { return !!s.property.find(function (p) { return p._id === _this.property._id; }); });
                        }))
                            .toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    DetailPropBuyerComponent.prototype.getlikeProperty = function (id) {
        var _this = this;
        var buyer = this.userSessionService.userSession.value;
        this.buyerService.getBuyerById(buyer.id).subscribe(function (b) {
            if (b.statusBuyerProperty && b.statusBuyerProperty.length > 0) {
                _this.arrSBP = b.statusBuyerProperty.map(function (buyerProperty) { return buyerProperty._id; });
                _this.arrPropLikes = b.statusBuyerProperty.map(function (buyerProperty) { return buyerProperty.property._id; });
                if (b.statusBuyerProperty) {
                    var findIndex = _this.arrPropLikes.findIndex(function (prop) { return prop === id; });
                    if (findIndex !== -1) {
                        _this.isLiked = true;
                    }
                    else {
                        _this.isLiked = false;
                    }
                }
            }
        });
    };
    DetailPropBuyerComponent.prototype.setLikeProperty = function (propertyId) {
        var _this = this;
        var buyerId = this.userSessionService.userSession.value.id;
        var sBP = {
            buyer: buyerId,
            property: propertyId,
            status: 'verde',
        };
        var buyer = {
            _id: buyerId,
            statusBuyerProperty: this.arrSBP,
        };
        if (this.isLiked) {
            var findeIndex_1 = this.arrPropLikes.findIndex(function (prop) { return prop === propertyId; });
            this.statusBPService
                .deletedStatusBuyerProperty(this.arrSBP[findeIndex_1])
                .subscribe(function (res) {
                if (res) {
                    var findeIndexBuyer = buyer.statusBuyerProperty.findIndex(function (item) { return item === _this.arrSBP[findeIndex_1]; });
                    buyer.statusBuyerProperty.splice(findeIndexBuyer, 1);
                    _this.buyerService.putBuyer(buyer).subscribe(function (val) {
                        _this.property.numOfLikes = _this.property.numOfLikes - 1;
                        _this.propertyService.putProperty(_this.property).subscribe();
                        _this.presentToast('Te ha dejado de gustar esta propiedad');
                    });
                }
            });
        }
        else {
            this.statusBPService.newStatusBuyerProperty(sBP).subscribe(function (res) {
                buyer.statusBuyerProperty.push(res._id);
                _this.buyerService.putBuyer(buyer).subscribe(function (val) {
                    _this.property.numOfLikes = _this.property.numOfLikes + 1;
                    _this.propertyService.putProperty(_this.property).subscribe();
                    // crar noti
                    _this.notification();
                    if (val) {
                        _this.presentToast('Te ha gustado esta propiedad');
                    }
                });
            });
        }
        this.isLiked = !this.isLiked;
    };
    DetailPropBuyerComponent.prototype.notification = function () {
        return __awaiter(this, void 0, void 0, function () {
            var seller, m, notification;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getSellerOfProperty()];
                    case 1:
                        seller = _a.sent();
                        m = this.userSessionService.userSession.value.name + " ha indicado que le gusta " + this.property.name;
                        notification = {
                            title: 'Interés en una Propiedad',
                            message: m,
                            tags: ['office', 'administrator'],
                            receiversId: seller === undefined ? undefined : [seller._id],
                            senderId: this.userSessionService.userSession.value.id,
                            status: 'verde',
                            type: 'like',
                        };
                        // onesignal
                        this.oneSignalService
                            .postOneSignalByTag(notification.title, m, ['office'], notification.receiversId)
                            .subscribe(function () {
                            // guardar noti
                            _this.oneSignalService.newNotification(notification).subscribe();
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    // _helpers
    DetailPropBuyerComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 3000,
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    DetailPropBuyerComponent.prototype.formatDates = function (date) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_10__["FormatDatesFront"])(date);
    };
    DetailPropBuyerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-detail-prop-buyer',
            template: __webpack_require__(/*! ./detail-prop-buyer.component.html */ "./src/app/components/buyer/detail-prop-buyer/detail-prop-buyer.component.html"),
            styles: [__webpack_require__(/*! ./detail-prop-buyer.component.scss */ "./src/app/components/buyer/detail-prop-buyer/detail-prop-buyer.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_3__["PropertyService"],
            _services_buyer_service__WEBPACK_IMPORTED_MODULE_0__["BuyerService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_4__["UserSessionService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ToastController"],
            _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_6__["StatusBuyerPropertyService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__["OnesignalService"],
            _services_seller_service__WEBPACK_IMPORTED_MODULE_8__["SellerService"]])
    ], DetailPropBuyerComponent);
    return DetailPropBuyerComponent;
}());



/***/ }),

/***/ "./src/app/components/buyer/event-detail-buyer/event-detail-buyer.component.html":
/*!***************************************************************************************!*\
  !*** ./src/app/components/buyer/event-detail-buyer/event-detail-buyer.component.html ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar translucent color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button style=\"color: white !important\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>\n      Eventos\n    </ion-title>\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [buttonNotification]=\"'notifications'\" [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\"\n    [titleMenu]=\"'Eventos'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <!-- Toggles in a List -->\n  <ion-list lines=\"none\">\n    <ion-item lines=\"none\">\n      <!--  <ion-label>Mostrar Todos</ion-label>\n      <ion-toggle [(ngModel)]=\"isAll\" (ionChange)=\"getAllSchedule();getActualSchedule()\"></ion-toggle> -->\n      <ion-button (click)=\"isAll = !isAll;getAllSchedule();getActualSchedule()\">{{isAll ? 'Mostrando Todos':'Mostrando\n        Actuales'}}</ion-button>\n    </ion-item>\n    <!--  <ion-item lines=\"none\" *ngIf=\"!isAll\">\n      <ion-chip color=\"secondary\">\n        <ion-label>Mostrando Actuales\n        </ion-label>\n      </ion-chip>\n    </ion-item> -->\n\n  </ion-list>\n  <!-- eventos -->\n  <ng-container *ngIf=\"scheduleToShow.length > 0; then data; else noData\"></ng-container>\n  <ng-template #data>\n    <ion-card *ngFor=\"let schedule of scheduleToShow\" [ngClass]=\"{'state-verde': schedule.status === 'verde', \n        'state-amarillo': schedule.status === 'amarillo',\n        'state-rojo': schedule.status === 'rojo',\n        'state-gris': schedule.status === 'gris',\n        'state-azul': schedule.status === 'azul' }\">\n      <span *ngIf=\"schedule.status === 'gris'\">\n        <ion-card-header>\n          <ion-card-subtitle>Estado: Cita Generada</ion-card-subtitle>\n          <ion-card-title text-wrap>En espera</ion-card-title>\n        </ion-card-header>\n        <ion-card-content text-wrap>\n          En poco tiempo recibirá respuesta de la cita solicitada\n        </ion-card-content>\n\n      </span>\n\n      <span *ngIf=\"schedule.status === 'verde'\">\n        <ion-card-header>\n          <ion-card-subtitle>Estado: Propuesta Cita</ion-card-subtitle>\n          <ion-card-title text-wrap>Favor de Responder</ion-card-title>\n        </ion-card-header>\n        <ion-card-content text-wrap>\n          <ion-label text-wrap>Detalles de la cita : {{schedule.note}}</ion-label>\n          <ion-list lines=\"none\">\n            <ion-item lines=\"none\" text-wrap> Fecha: {{schedule.day}}/{{schedule.month + 1 }}/{{schedule.year}}</ion-item>\n            <ion-item lines=\"none\" text-wrap>Hora: {{formatHours(schedule.hour,\n              schedule.minute)}}</ion-item>\n          </ion-list>\n        </ion-card-content>\n        <ion-item lines=\"none\">\n          <ion-button (click)=\"respondSchedule('Aceptado', schedule._id)\" color=\"success\" fill=\"outline\" slot=\"end\">\n            Aceptar <ion-icon name=\"checkmark-circle\"></ion-icon>\n          </ion-button>\n          <ion-button (click)=\"respondSchedule('Denagado',  schedule._id)\" color=\"danger\" fill=\"outline\" slot=\"end\">\n            Denegar <ion-icon name=\"close-circle\"></ion-icon>\n          </ion-button>\n\n        </ion-item>\n\n      </span>\n      <span *ngIf=\"!schedule.status || schedule.status === 'amarillo'\">\n        <ion-card-header>\n          <ion-card-subtitle>Cita: {{schedule.day}}/{{schedule.month + 1}}/{{schedule.year}}</ion-card-subtitle>\n          <ion-card-subtitle lines=\"none\" text-wrap>Hora: {{formatHours(schedule.hour,\n            schedule.minute)}}</ion-card-subtitle>\n          <ion-card-title>{{schedule.property.name}}</ion-card-title>\n        </ion-card-header>\n\n        <ion-card-content>\n          <ion-label>\n            <ion-icon name=\"person\"></ion-icon>\n            <b>Tiene una cita con {{schedule.adviser ? schedule.adviser.name : schedule.seller.name}}</b>\n          </ion-label>\n          <ion-icon name=\"pin\"></ion-icon>\n          Direccion {{schedule.address}}\n          <!-- maps LINK -->\n          <ion-item lines=\"none\">\n            <!-- <ion-button [href]=\"'https://www.google.com/maps/search/?api=1&&q='+schedule.address+', Puebla'\" fill=\"outline\"\n              target=\"_blank\" slot=\"end\">\n              Ver Mapa <ion-icon name=\"navigate\"></ion-icon>\n            </ion-button> \n            <ion-button (click)=\"openMaps(schedule.address)\" fill=\"outline\" target=\"_blank\" slot=\"end\">\n              Ver Mapa<ion-icon name=\"navigate\"></ion-icon>\n            </ion-button>-->\n            <app-maps-button slot=\"end\" [address]=\"schedule.address\"></app-maps-button>\n          </ion-item>\n        </ion-card-content>\n      </span>\n      <span *ngIf=\"schedule.status === 'rojo'\">\n        <ion-card-header>\n          <ion-card-subtitle>Estado: Visitado</ion-card-subtitle>\n          <!-- Poner en notes Visitada o No Visitada -->\n          <ion-card-title text-wrap> Evento Pasado </ion-card-title>\n          <ion-card-content text-wrap>\n          </ion-card-content>\n        </ion-card-header>\n      </span>\n\n    </ion-card>\n  </ng-template>\n  <!-- sin evento -->\n  <ng-template #noData>\n    <ion-card>\n      <ion-card-header>\n        <ion-card-title>No hay eventos</ion-card-title>\n      </ion-card-header>\n    </ion-card>\n\n  </ng-template>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/buyer/event-detail-buyer/event-detail-buyer.component.scss":
/*!***************************************************************************************!*\
  !*** ./src/app/components/buyer/event-detail-buyer/event-detail-buyer.component.scss ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/buyer/event-detail-buyer/event-detail-buyer.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/components/buyer/event-detail-buyer/event-detail-buyer.component.ts ***!
  \*************************************************************************************/
/*! exports provided: EventDetailBuyerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EventDetailBuyerComponent", function() { return EventDetailBuyerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _services_schedule_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/schedule.service */ "./src/app/services/schedule.service.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _services_adviser_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/adviser.service */ "./src/app/services/adviser.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _ionic_native_launch_navigator_ngx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic-native/launch-navigator/ngx */ "./node_modules/@ionic-native/launch-navigator/ngx/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/status-buyer-property.service */ "./src/app/services/status-buyer-property.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var EventDetailBuyerComponent = /** @class */ (function () {
    function EventDetailBuyerComponent(route, userSessionService, buyerService, scheduleService, adviserService, oneSignalService, launchNavigator, platform, statusBuyerPropertyService) {
        this.route = route;
        this.userSessionService = userSessionService;
        this.buyerService = buyerService;
        this.scheduleService = scheduleService;
        this.adviserService = adviserService;
        this.oneSignalService = oneSignalService;
        this.launchNavigator = launchNavigator;
        this.platform = platform;
        this.statusBuyerPropertyService = statusBuyerPropertyService;
        this.scheduleToShow = [];
        this.user = this.userSessionService.userSession.value;
        if (this.user.type === 'buyer') {
            this.inti(this.user);
        }
        else if (this.user.type === 'adviser') {
            this.initAdv(this.user);
        }
    }
    EventDetailBuyerComponent.prototype.inti = function (buyer) {
        var _this = this;
        this.buyerService.getBuyerById(buyer.id).subscribe(function (b) {
            _this.schedule = b.schedule;
            _this.route.queryParams.subscribe(function (params) {
                if (params.year) {
                    _this.isOne = true;
                    _this.getByDay(+params.year, +params.month, +params.day);
                }
                else {
                    _this.isAll = false;
                    _this.getActualSchedule();
                }
            });
        });
    };
    EventDetailBuyerComponent.prototype.initAdv = function (adv) {
        var _this = this;
        this.adviserService.getAdviserById(adv.id).subscribe(function (b) {
            console.log(b);
            _this.schedule = b.schedule;
            _this.route.queryParams.subscribe(function (params) {
                if (params.year) {
                    _this.isOne = true;
                    _this.getByDay(+params.year, +params.month, +params.day);
                }
                else {
                    _this.isAll = false;
                    _this.getActualSchedule();
                }
            });
        });
    };
    EventDetailBuyerComponent.prototype.ngOnInit = function () { };
    EventDetailBuyerComponent.prototype.getByDay = function (year, month, day) {
        var isFinded = this.schedule.filter(function (s) { return s.day === day && s.month === month && s.year === year; });
        if (isFinded.length > 0) {
            this.scheduleToShow = isFinded;
        }
        this.isAll = false;
    };
    EventDetailBuyerComponent.prototype.getAllSchedule = function () {
        if (this.isAll === true) {
            this.scheduleToShow = this.schedule;
            console.log(this.scheduleToShow);
        }
    };
    EventDetailBuyerComponent.prototype.getActualSchedule = function () {
        if (this.isAll === false) {
            var date_1 = new Date();
            var isFinded = this.schedule.filter(function (s) { return new Date(s.year, s.month, s.day) >= date_1; });
            this.scheduleToShow = isFinded;
        }
    };
    EventDetailBuyerComponent.prototype.respondSchedule = function (str, scheduleId) {
        var _this = this;
        var schedule = this.schedule.find(function (s) { return s._id === scheduleId; });
        console.log(schedule);
        if (str === 'Aceptado') {
            schedule.status = 'amarillo';
            // noti schedule
            this.notificationBySchedule(schedule);
            // subir de nivel
            this.statusBuyerPropertyService
                .searchSpecial(this.user.id, schedule.property._id)
                .subscribe(function (sbp) {
                _this.statusBuyerPropertyService
                    .upgradeStatus(sbp._id, 'amarillo')
                    .subscribe();
            });
            // Crear notif
            this.notification('Respuesta de visita', "El cliente " + this.userSessionService.userSession.value.name + " ha " + str + " la visita a " + schedule.property.name, schedule.status, 'schedule', ['office', 'administrator'], [schedule.adviser ? schedule.adviser._id : schedule.seller._id]);
        }
        else {
            schedule.status = 'gris';
        }
        schedule.note = str;
        this.scheduleService.putSchedule(schedule).subscribe(function (res) {
            if (res) {
                _this.inti(_this.user);
            }
        });
    };
    EventDetailBuyerComponent.prototype.formatHours = function (hours, minutes) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_5__["FormatHoursFront"])(hours, minutes);
    };
    EventDetailBuyerComponent.prototype.formatDates = function (year, month, day) {
        var date = new Date();
        Object(_config_helpers__WEBPACK_IMPORTED_MODULE_5__["FormatDatesFront"])(date);
    };
    // noti
    EventDetailBuyerComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userSessionService.userSession.value.id,
            status: status,
            type: type
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, tags, receiversId)
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    EventDetailBuyerComponent.prototype.notificationBySchedule = function (schedule) {
        console.log(schedule);
        // onesignal
        this.oneSignalService
            .postOneSignalBySchedule('Recordatorio de evento', "Tienes un evento con direccion " + schedule.address + " en propiedad: " + schedule.property.name + " a las " + schedule.hour + "hrs", new Date(schedule.year, schedule.month, schedule.day, schedule.hour, schedule.minute), undefined, [
            this.userSessionService.userSession.value.id,
            schedule.adviser ? schedule.adviser._id : schedule.seller._id
        ])
            .subscribe(function () { });
    };
    // implementar en todos !!
    EventDetailBuyerComponent.prototype.openMaps = function (schedule) {
        var isCordova = this.platform.is('cordova');
        if (isCordova) {
            var options = {
                app: launchnavigator.APP.GOOGLE_MAPS
            };
            this.launchNavigator
                .navigate(schedule, options)
                .then(function (success) { return console.log('Launched navigator'); }, function (error) { return console.log('Error launching navigator', error); });
        }
        else {
            Object(_config_helpers__WEBPACK_IMPORTED_MODULE_5__["OpenGoogleMaps"])(schedule);
        }
    };
    EventDetailBuyerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-event-detail-buyer',
            template: __webpack_require__(/*! ./event-detail-buyer.component.html */ "./src/app/components/buyer/event-detail-buyer/event-detail-buyer.component.html"),
            styles: [__webpack_require__(/*! ./event-detail-buyer.component.scss */ "./src/app/components/buyer/event-detail-buyer/event-detail-buyer.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__["UserSessionService"],
            _services_buyer_service__WEBPACK_IMPORTED_MODULE_3__["BuyerService"],
            _services_schedule_service__WEBPACK_IMPORTED_MODULE_4__["ScheduleService"],
            _services_adviser_service__WEBPACK_IMPORTED_MODULE_6__["AdviserService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__["OnesignalService"],
            _ionic_native_launch_navigator_ngx__WEBPACK_IMPORTED_MODULE_8__["LaunchNavigator"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_9__["Platform"],
            _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_10__["StatusBuyerPropertyService"]])
    ], EventDetailBuyerComponent);
    return EventDetailBuyerComponent;
}());



/***/ }),

/***/ "./src/app/components/buyer/inter-prop-buyer/inter-prop-buyer.component.html":
/*!***********************************************************************************!*\
  !*** ./src/app/components/buyer/inter-prop-buyer/inter-prop-buyer.component.html ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Lista de Deseos\n    </ion-title>\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Lista de Deseos'\" [buttonUser]=\"'person'\"\n    [buttonNotification]=\"'notifications'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n  <ng-template #thenTemplate>\n\n    <h2>Selecciona uno para mayor información</h2>\n    <ion-card *ngFor=\"let item of sBP | async\" [ngClass]=\"{'state-verde': item.status === 'verde', 'state-amarillo': item.status === 'amarillo','state-rojo': item.status === 'rojo','state-azul': item.status === 'azul' }\"\n      (click)=\"itemDetail(item.property, item._id)\">\n      <ion-card-header>\n        <ion-card-subtitle *ngIf=\"item.status === 'verde'\">Estado: Interés</ion-card-subtitle>\n        <ion-card-subtitle *ngIf=\"item.status === 'amarillo'\">Estado: Negociación</ion-card-subtitle>\n        <ion-card-subtitle *ngIf=\"item.status === 'rojo'\">Estado: Oferta Aceptada</ion-card-subtitle>\n        <ion-card-subtitle *ngIf=\"item.status === 'azul'\">Estado: Post Venta</ion-card-subtitle>\n        <ion-card-title>{{item.property.name}}</ion-card-title>\n      </ion-card-header>\n      <ion-card-content>\n        <ion-item lines=\"none\">\n          <ion-icon style=\"color:  #F5811E\" name=\"arrow-forward\" slot=\"end\"></ion-icon>\n          <ion-label text-wrap>Ver estado de crédito o agendar citas</ion-label>\n        </ion-item>\n      </ion-card-content>\n    </ion-card>\n  </ng-template>\n  <ng-template #elseTemplate>\n    <ion-skeleton-text width=40px></ion-skeleton-text>\n    <ion-skeleton-text width=200px></ion-skeleton-text>\n    <ion-skeleton-text width=600px></ion-skeleton-text>\n    <ion-skeleton-text width=100px></ion-skeleton-text>\n    <ion-skeleton-text width=80px></ion-skeleton-text>\n  </ng-template>\n\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/buyer/inter-prop-buyer/inter-prop-buyer.component.scss":
/*!***********************************************************************************!*\
  !*** ./src/app/components/buyer/inter-prop-buyer/inter-prop-buyer.component.scss ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".user-select-contenet {\n  margin: 3% 30% 2% 30%; }\n\n.state-verde {\n  border-left: 4px solid var(--ion-color-success); }\n\n.state-amarillo {\n  border-left: 4px solid var(--ion-color-warning); }\n\n.state-rojo {\n  border-left: 4px solid var(--ion-color-danger); }\n\n.state-azul {\n  border-left: 4px solid var(--ion-color-blue); }\n\n@media (max-width: 900px) {\n  .user-select-contenet {\n    margin: 1% 1% 1% 1%; } }\n"

/***/ }),

/***/ "./src/app/components/buyer/inter-prop-buyer/inter-prop-buyer.component.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/components/buyer/inter-prop-buyer/inter-prop-buyer.component.ts ***!
  \*********************************************************************************/
/*! exports provided: InterPropBuyerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InterPropBuyerComponent", function() { return InterPropBuyerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var InterPropBuyerComponent = /** @class */ (function () {
    function InterPropBuyerComponent(buyerService, userSessionService, router) {
        this.buyerService = buyerService;
        this.userSessionService = userSessionService;
        this.router = router;
        this.isLoad = false;
        this.getLikes();
    }
    InterPropBuyerComponent.prototype.ngOnInit = function () { };
    InterPropBuyerComponent.prototype.getLikes = function () {
        var buyerId = this.userSessionService.userSession.value.id;
        this.sBP = this.buyerService
            .getBuyerById(buyerId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (res) { return res.statusBuyerProperty; }));
        this.isLoad = true;
    };
    InterPropBuyerComponent.prototype.itemDetail = function (item, statusId) {
        var data = {
            queryParams: { id: item._id, statusId: statusId }
        };
        this.router.navigate(['credit-event-buyer'], data);
    };
    InterPropBuyerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-inter-prop-buyer',
            template: __webpack_require__(/*! ./inter-prop-buyer.component.html */ "./src/app/components/buyer/inter-prop-buyer/inter-prop-buyer.component.html"),
            styles: [__webpack_require__(/*! ./inter-prop-buyer.component.scss */ "./src/app/components/buyer/inter-prop-buyer/inter-prop-buyer.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_buyer_service__WEBPACK_IMPORTED_MODULE_1__["BuyerService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__["UserSessionService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"]])
    ], InterPropBuyerComponent);
    return InterPropBuyerComponent;
}());



/***/ }),

/***/ "./src/app/components/buyer/list-prop-buyer/list-prop-buyer.component.html":
/*!*********************************************************************************!*\
  !*** ./src/app/components/buyer/list-prop-buyer/list-prop-buyer.component.html ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Propiedades\n    </ion-title>\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [buttonNotification]=\"'notifications'\" [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\"\n    [titleMenu]=\"'Propiedades'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <!-- cargar o no -->\n  <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n  <ng-template #thenTemplate>\n    <!--  Segment -->\n    <ion-segment (ionChange)=\"segmentChanged($event)\" color=\"secondary\">\n      <ion-segment-button value=\"match\" checked>\n        Sugeridas\n      </ion-segment-button>\n      <ion-segment-button value=\"search\">\n        Todas\n      </ion-segment-button>\n    </ion-segment>\n\n    <!-- match -->\n    <ng-container *ngIf=\"segment === 'match'; then matchTemplate; else searchTemplate\"></ng-container>\n    <ng-template #matchTemplate>\n      <h1>Propiedades Sugeridas</h1>\n      <ion-label>Se muestran las coincidencias con tu perfil</ion-label>\n      <ion-list lines=\"full\">\n        <ion-item lines=\"inset\" detail *ngFor=\"let property of properties\" (click)=\"itemDetail(property)\">\n          <ion-icon *ngIf=\"property.typeOfProperty === 'departamento'\" style=\"color: #F5811E\" name=\"business\" slot=\"start\"></ion-icon>\n          <ion-icon *ngIf=\"property.typeOfProperty === 'casa'\" style=\"color: #F5811E\" name=\"home\" slot=\"start\"></ion-icon>\n          <ion-label text-wrap>\n            <h2>{{property.name}}</h2>\n            <p>{{property.zone}}</p>\n            <ion-chip *ngIf=\"property.percentage > 60\" class=\"high\">\n              <ion-label>{{property.percentage.toFixed(0)}}% de coincidencia</ion-label>\n            </ion-chip>\n            <ion-chip *ngIf=\"property.percentage <= 60 && property.percentage > 30 \" class=\"medium\">\n              <ion-label>{{property.percentage.toFixed(0)}}% de coincidencia</ion-label>\n            </ion-chip>\n            <ion-chip *ngIf=\"property.percentage <= 30\" class=\"low\">\n              <ion-label>{{property.percentage.toFixed(0)}}% de coincidencia</ion-label>\n            </ion-chip>\n          </ion-label>\n        </ion-item>\n      </ion-list>\n    </ng-template>\n\n    <!-- search -->\n    <ng-template #searchTemplate>\n\n      <!-- menu end -->\n      <ion-menu contentId=\"menu-end\" menuId=\"filters\" side=\"end\" type=\"overlay\">\n        <app-general-filters (filters)=\"getFilters($event)\" (resetAll)=\"getAllProperty()\"></app-general-filters>\n      </ion-menu>\n\n\n      <!-- Contenido a desplazar listas -->\n      <div id='menu-end'>\n        <h1>Todas las Propiedades </h1>\n        <ion-item lines=\"none\">\n          <ion-button (click)=\"menuCtr.open('filters')\" color=\"secondary\" fill=\"outline\" slot=\"end\">\n            <ion-icon name=\"funnel\"></ion-icon>Filtros({{numOfFilers}})\n          </ion-button>\n        </ion-item>\n        <ng-container *ngIf=\" (allProperties | async)?.length ; then dataDisplay; else noDataDisplay \"></ng-container>\n        <ng-template #dataDisplay>\n          <ion-list lines=\"full\">\n            <ion-item lines=\"inset\" detail *ngFor=\"let property of allProperties | async\" (click)=\"itemDetail(property)\">\n              <ion-icon *ngIf=\"property.typeOfProperty === 'departamento'\" style=\"color: #F5811E\" name=\"business\" slot=\"start\"></ion-icon>\n              <ion-icon *ngIf=\"property.typeOfProperty === 'casa'\" style=\"color: #F5811E\" name=\"home\" slot=\"start\"></ion-icon>\n              <ion-label text-wrap>\n                <h2>{{property.name}}</h2>\n                <p>{{property.zone}}</p>\n                <p>\n                  <span *ngFor=\"let tag of property.tag\">\n                    {{'#'+tag+ ' '}}\n                  </span>\n                </p>\n              </ion-label>\n            </ion-item>\n          </ion-list>\n        </ng-template>\n        <ng-template #noDataDisplay>\n          <ion-label>No hay datos con los filtros aplicados</ion-label>\n\n        </ng-template>\n\n\n      </div>\n\n\n    </ng-template>\n\n\n  </ng-template>\n  <ng-template #elseTemplate>\n    <!-- <ion-spinner name=\"bubbles\"></ion-spinner> -->\n    <ion-skeleton-text width=40px></ion-skeleton-text>\n    <ion-skeleton-text width=200px></ion-skeleton-text>\n    <ion-skeleton-text width=600px></ion-skeleton-text>\n    <ion-skeleton-text width=100px></ion-skeleton-text>\n    <ion-skeleton-text width=80px></ion-skeleton-text>\n  </ng-template>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/buyer/list-prop-buyer/list-prop-buyer.component.scss":
/*!*********************************************************************************!*\
  !*** ./src/app/components/buyer/list-prop-buyer/list-prop-buyer.component.scss ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".high {\n  background-color: #0cd1e8; }\n\n.medium {\n  background-color: #ffce00; }\n\n.low {\n  background-color: #989aa2; }\n"

/***/ }),

/***/ "./src/app/components/buyer/list-prop-buyer/list-prop-buyer.component.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/components/buyer/list-prop-buyer/list-prop-buyer.component.ts ***!
  \*******************************************************************************/
/*! exports provided: ListPropBuyerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListPropBuyerComponent", function() { return ListPropBuyerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ListPropBuyerComponent = /** @class */ (function () {
    function ListPropBuyerComponent(buyerService, propertyService, userSessionService, router, menuCtr) {
        this.buyerService = buyerService;
        this.propertyService = propertyService;
        this.userSessionService = userSessionService;
        this.router = router;
        this.menuCtr = menuCtr;
        this.properties = [];
        this.isLoad = false;
        this.segment = 'match';
        this.numOfFilers = 0;
        this.getPropertyMatch();
        this.getAllProperty();
    }
    ListPropBuyerComponent.prototype.ngOnInit = function () { };
    ListPropBuyerComponent.prototype.getPropertyMatch = function () {
        var _this = this;
        var buyer = this.userSessionService.userSession.value;
        this.propertyService.matchSearch(buyer.id).subscribe(function (val) {
            if (val) {
                console.log(val);
                _this.getBuyer(buyer.id);
            }
        });
    };
    ListPropBuyerComponent.prototype.getAllProperty = function () {
        var _this = this;
        /*  this.allProperties = this.propertyService
          .getAll() */
        this.allProperties = new rxjs__WEBPACK_IMPORTED_MODULE_7__["Observable"](function (ob) {
            _this.propertyService.getAll().subscribe(function (data) {
                ob.next(data.filter(function (p) { return !p.isBuy; }));
            });
        });
        this.numOfFilers = 0;
    };
    ListPropBuyerComponent.prototype.getBuyer = function (id) {
        var _this = this;
        this.buyerService.getBuyerById(id).subscribe(function (buyer) {
            console.log(buyer);
            var isApart = function (date) {
                if (date) {
                    var days = 15 - Object(_config_helpers__WEBPACK_IMPORTED_MODULE_4__["DiffDays"])(date);
                    if (days > 0) {
                        return true;
                    }
                    else {
                        return false;
                    }
                }
                else {
                    return false;
                }
            };
            // si apartado  debe de aparecer
            _this.properties = Object(_config_helpers__WEBPACK_IMPORTED_MODULE_4__["CalcPercentage"])(buyer, buyer.property, 10).filter(function (p) { return !p.isBuy; });
            // si apartado NO debe de aparecer
            /* this.properties = CalcPercentage(buyer, buyer.property, 10).filter(
              p => !p.isBuy && !isApart(p.dateToApart),
            ); */
            _this.isLoad = true;
        });
    };
    ListPropBuyerComponent.prototype.itemDetail = function (item) {
        var data = { queryParams: { id: item._id } };
        this.router.navigate(['buyer-property-detail'], data);
    };
    ListPropBuyerComponent.prototype.segmentChanged = function (event) {
        this.segment = event.detail.value;
    };
    ListPropBuyerComponent.prototype.openMenu = function () {
        this.menuCtr.open('filters');
    };
    ListPropBuyerComponent.prototype.getFilters = function (hopeProperty) {
        this.getAllProperty();
        var filters = this.setFilters(hopeProperty);
        // !!! crea obs
        this.allProperties = new rxjs__WEBPACK_IMPORTED_MODULE_7__["Observable"](function (ob) {
            ob.next(filters.propRes);
        });
    };
    ListPropBuyerComponent.prototype.setFilters = function (hopeProperty) {
        var _this = this;
        var propRes = [];
        var numFilters = 0;
        var num = 0;
        this.allProperties.subscribe(function (properties) {
            properties.forEach(function (prop) {
                numFilters = 0;
                var isHope = true;
                // condiciones ve si existe
                if (hopeProperty.wayToBuy) {
                    numFilters++;
                    // ve si coincide
                    if (hopeProperty.wayToBuy !== prop.wayToBuy) {
                        isHope = false;
                    }
                }
                if (hopeProperty.zone) {
                    numFilters++;
                    // ve si coincide
                    if (hopeProperty.zone !== prop.zone) {
                        isHope = false;
                    }
                }
                if (hopeProperty.typeOfProperty) {
                    numFilters++;
                    // ve si coincide
                    if (hopeProperty.typeOfProperty !== prop.typeOfProperty) {
                        isHope = false;
                    }
                }
                // solo ve si coincide
                if (hopeProperty.allServices !== undefined) {
                    numFilters++;
                    if (hopeProperty.allServices !== prop.allServices) {
                        isHope = false;
                    }
                }
                if (hopeProperty.hasElevator !== undefined) {
                    numFilters++;
                    if (hopeProperty.hasElevator !== prop.hasElevator) {
                        isHope = false;
                    }
                }
                if (hopeProperty.isLowLevel !== undefined) {
                    numFilters++;
                    if (hopeProperty.isLowLevel !== prop.isLowLevel) {
                        isHope = false;
                    }
                }
                if (hopeProperty.hasGarden !== undefined) {
                    numFilters++;
                    if (hopeProperty.hasGarden !== prop.hasGarden) {
                        isHope = false;
                    }
                }
                if (prop.numBathrooms < hopeProperty.numBathrooms) {
                    isHope = false;
                }
                if (hopeProperty.numBathrooms > 0) {
                    numFilters++;
                }
                if (hopeProperty.isClose !== undefined) {
                    numFilters++;
                    if (prop.isClose !== hopeProperty.isClose) {
                        isHope = false;
                    }
                }
                if (hopeProperty.isOld !== undefined) {
                    numFilters++;
                    if (prop.isOld !== hopeProperty.isOld) {
                        isHope = false;
                    }
                }
                if (prop.numCars < hopeProperty.numCars) {
                    numFilters++;
                    isHope = false;
                }
                if (hopeProperty.numCars > 0) {
                    numFilters++;
                }
                if (prop.numRooms < hopeProperty.numRooms) {
                    isHope = false;
                }
                if (hopeProperty.numRooms > 0) {
                    numFilters++;
                }
                if (prop.space < hopeProperty.space) {
                    isHope = false;
                }
                if (hopeProperty.space > 0) {
                    numFilters++;
                }
                if (hopeProperty.isRent !== undefined) {
                    numFilters++;
                    if (prop.isRent !== hopeProperty.isRent) {
                        isHope = false;
                    }
                }
                if (hopeProperty.maxPrice) {
                    numFilters++;
                    if (prop.maxPrice > hopeProperty.maxPrice) {
                        isHope = false;
                    }
                }
                if (hopeProperty.minPrice > prop.minPrice) {
                    isHope = false;
                }
                if (hopeProperty.minPrice > 0) {
                    numFilters++;
                }
                // end condiciones
                // ve si sigue siendo true
                if (isHope) {
                    num = numFilters;
                    propRes.push(prop);
                }
                // end for
            });
            _this.numOfFilers = numFilters;
        });
        return { propRes: propRes, numFilters: num };
    };
    ListPropBuyerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-prop-buyer',
            template: __webpack_require__(/*! ./list-prop-buyer.component.html */ "./src/app/components/buyer/list-prop-buyer/list-prop-buyer.component.html"),
            styles: [__webpack_require__(/*! ./list-prop-buyer.component.scss */ "./src/app/components/buyer/list-prop-buyer/list-prop-buyer.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_buyer_service__WEBPACK_IMPORTED_MODULE_1__["BuyerService"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_2__["PropertyService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__["UserSessionService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["MenuController"]])
    ], ListPropBuyerComponent);
    return ListPropBuyerComponent;
}());



/***/ }),

/***/ "./src/app/components/buyer/new-buyer/new-buyer.component.html":
/*!*********************************************************************!*\
  !*** ./src/app/components/buyer/new-buyer/new-buyer.component.html ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button *ngIf=\"!isEdit\" style=\"color: white !important\"></ion-back-button>\n      <ion-menu-button *ngIf=\"isEdit\" style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Registro\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content padding>\n  <ion-grid fixed>\n    <form #loginForm=\"ngForm\">\n      <ng-container *ngIf=\"user.id !== undefined; then OldUser; else NewUser\"></ng-container>\n      <ng-template #OldUser>\n        <!-- Usuario ya registrado -->\n        <ion-card *ngIf=\"!isCorrect || isEdit\">\n          <ion-card-header>\n            <ion-card-title text-wrap> Ingrese Datos del Cliente</ion-card-title>\n          </ion-card-header>\n          <ion-card-content>\n\n            <!-- email -->\n            <mdc-text-field label=\"Correo\" [(ngModel)]=\"newBuyer.email\" #email=\"ngModel\" id=\"email\" name=\"email\"\n              required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"email.dirty || email.touched\">Anota Correo</span>\n            </mdc-text-field-helper-text>\n\n          </ion-card-content>\n          <ion-button *ngIf=\"isCorrect === false\" color=\"warning\">Usuario Repetido Verifique\n            los datos</ion-button>\n          <div style=\"text-align: right\">\n            <ion-button [disabled]=\"!loginForm.form.valid\" *ngIf=\"!isCorrect\" color=\"primary\" (click)=\"check()\" slot=\"end\">Verificar</ion-button>\n            <ion-button *ngIf=\"isCorrect === true\" color=\"success\" (click)=\"check()\" slot=\"end\">Correcto, puede\n              continuar</ion-button>\n\n\n          </div>\n        </ion-card>\n      </ng-template>\n      <ng-template #NewUser>\n        <!-- Nuevo usuario -->\n        <ion-card>\n          <div class=\"alert alert-danger\" *ngIf=\"isCorrectEmail === false\">\n            El correo ya esta en uso, intente uno distinto\n          </div>\n          <ion-card-header>\n            <ion-card-title> Ingrese su Correo</ion-card-title>\n          </ion-card-header>\n          <ion-card-content>\n\n            <!-- email -->\n            <mdc-text-field label=\"Correo\" [(ngModel)]=\"newBuyer.email\" #email=\"ngModel\" id=\"email\" name=\"email\"\n              required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"email.dirty || email.touched\">Anota Correo</span>\n            </mdc-text-field-helper-text>\n          </ion-card-content>\n          <div style=\"text-align: right\">\n            <ion-button [disabled]=\"!loginForm.form.valid || isCorrectEmail\" [color]=\"isCorrectEmail !== true ? 'secondary' : 'success' \"\n              (click)=\"checkAndSend()\" slot=\"end\">\n              <ion-spinner *ngIf=\"loadButton\" color=\"dark\"></ion-spinner>\n              <ion-icon *ngIf=\"isCorrectEmail\" name=\"checkmark-circle\"></ion-icon>\n              {{isCorrectEmail !== true ? 'Registrar':'Registrado'}}\n            </ion-button>\n          </div>\n        </ion-card>\n        <ion-card *ngIf=\"isCorrectEmail\">\n          <div class=\"alert alert-danger\" *ngIf=\"isCorrectCode === false\">\n            Código no válido, intente de nuevo\n          </div>\n          <div class=\"alert alert-success\" *ngIf=\"isCorrectCode === true\">\n            Correcto puede continuar\n          </div>\n          <ion-card-header>\n            <ion-card-title> Ingrese su Código</ion-card-title>\n          </ion-card-header>\n\n          <ion-card-content>\n            <!-- code -->\n            <mdc-text-field label=\"Código\" [(ngModel)]=\"code\" #codeInput=\"ngModel\" id=\"codeInput\" name=\"codeInput\" type=\"number\"\n              required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"email.dirty || email.touched\">Anota Código</span>\n            </mdc-text-field-helper-text>\n          </ion-card-content>\n          <div style=\"text-align: right\">\n            <ion-button [disabled]=\"!codeInput.value || isCorrectCode \" [color]=\"isCorrectCode !== true ? 'secondary' : 'success' \"\n              (click)=\"checkCode()\" slot=\"end\">\n              <ion-spinner *ngIf=\"loadButtonV\" color=\"dark\"></ion-spinner>\n              <ion-icon *ngIf=\"isCorrectCode\" name=\"checkmark-circle\"></ion-icon>\n              {{isCorrectCode !== true ? 'Verificar': 'Verificado'}}\n            </ion-button>\n            <ion-button color=\"primary\" [disabled]=\"!email.value|| isCorrectCode\" (click)=\"checkAndSend(); code= undefined\"\n              slot=\"end\">\n              <ion-spinner *ngIf=\"loadButton\" color=\"dark\"></ion-spinner>\n              Generar Nuevo\n            </ion-button>\n          </div>\n        </ion-card>\n\n      </ng-template>\n\n\n    </form>\n    <!--  -->\n    <form #loginForm2=\"ngForm\">\n      <div *ngIf=\"isCorrect\">\n        <!-- Info personal -->\n        <div class=\"flex-container\" *ngIf=\"numOfForm === 0\">\n          <div class=\"flex-title\">\n            <h3><span class=\"numberCircle\">1</span></h3>\n            <h3>Información Personal</h3>\n          </div>\n          <!-- nombre -->\n          <mdc-text-field label=\"Nombre\" [(ngModel)]=\"newBuyer.name\" #name=\"ngModel\" id=\"name\" name=\"name\" required\n            [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n          <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n            <span *ngIf=\"name.dirty || name.touched\">Anota nombre</span>\n          </mdc-text-field-helper-text>\n          <!-- 1 apellido -->\n          <mdc-text-field label=\"Apellido Paterno\" [(ngModel)]=\"newBuyer.fatherLastName\" #fatherLastName=\"ngModel\" id=\"fatherLastName\"\n            name=\"fatherLastName\" required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n          <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n            <span *ngIf=\"fatherLastName.dirty || fatherLastName.touched\">Anota Apellido</span>\n          </mdc-text-field-helper-text>\n          <!-- 2 apellido -->\n\n          <mdc-text-field label=\"Apellido Materno\" [(ngModel)]=\"newBuyer.motherLastName\" #motherLastName=\"ngModel\" id=\"motherLastName\"\n            name=\"motherLastName\" required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n          <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n            <span *ngIf=\"motherLastName.dirty || motherLastName.touched\">Anota Apellido</span>\n          </mdc-text-field-helper-text>\n          <div>\n            <!-- telefono -->\n            <mdc-text-field label=\"Telefono\" type=\"number\" [(ngModel)]=\"newBuyer.phone\" #phone=\"ngModel\" id=\"phone\"\n              name=\"phone\" required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"phone.dirty || phone.touched\">Anota telefono</span>\n            </mdc-text-field-helper-text>\n          </div>\n\n          <!--password -->\n          <div>\n            <mdc-text-field label=\"Contraseña\" [(ngModel)]=\"newBuyer.password\" #password=\"ngModel\" id=\"password\" name=\"password\"\n              type=\"password\" required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"password.dirty || password.touched\">Anota Contraseña</span>\n            </mdc-text-field-helper-text>\n          </div>\n\n          <!--years -->\n          <div>\n            <mdc-text-field label=\"Edad\" [(ngModel)]=\"newBuyer.years\" #years=\"ngModel\" id=\"years\" name=\"years\" type=\"number\"\n              required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"years.dirty || years.touched\">Anota Edad</span>\n            </mdc-text-field-helper-text>\n          </div>\n\n          <!-- numOfFamily -->\n          <div>\n            <mdc-text-field label=\"Número de familiares\" type=\"number\" [(ngModel)]=\"newBuyer.numOfFamily\" #numOfFamily=\"ngModel\"\n              id=\"numOfFamily\" name=\"numOfFamily\" required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"numOfFamily.dirty || numOfFamily.touched\">Anota Numero</span>\n            </mdc-text-field-helper-text>\n          </div>\n\n          <!-- isMale -->\n          <div>\n            <ion-item lines=\"none\" class=\"margin-field\">\n              <ion-label>Género</ion-label>\n              <ion-select [(ngModel)]=\"newBuyer.isMale\" #isMale=\"ngModel\" id=\"isMale\" name=\"isMale\" required>\n                <ion-select-option value=\"false\">Mujer</ion-select-option>\n                <ion-select-option value=\"true\">Hombre</ion-select-option>\n              </ion-select>\n            </ion-item>\n          </div>\n\n\n          <!-- isSingle -->\n          <ion-item lines=\"none\" class=\"margin-field\">\n            <ion-label>\n              Soltero\n            </ion-label>\n            <ion-toggle [(ngModel)]=\"newBuyer.isSingle\" #isSingle=\"ngModel\" id=\"isSingle\" name=\"isSingle\" mode=\"md\"\n              slot=\"end\"></ion-toggle>\n          </ion-item>\n          <div class=\"flex-button \">\n            <ion-button [disabled]=\"!loginForm2.form.valid\" color=\"secondary\" (click)=\"numOfForm = numOfForm + 1\" slot=\"end\">Continuar</ion-button>\n          </div>\n\n\n\n        </div>\n        <!-- carct -->\n        <div class=\"flex-container\" *ngIf=\"numOfForm === 1\">\n          <div class=\"flex-title\">\n            <h3><span class=\"numberCircle\">2</span></h3>\n            <h3>Características de la Propiedad</h3>\n          </div>\n          <!-- tipo de propiedad\n                    casa\n        departamento\n        terreno\n        nave industrial\n                   -->\n\n          <ion-item lines=\"none\" class=\"margin-field\">\n            <ion-label>Tipo de Propiedad</ion-label>\n            <ion-select [(ngModel)]=\"newBuyer.typeOfProperty\" #typeOfProperty=\"ngModel\" id=\"typeOfProperty\" name=\"typeOfProperty\"\n              required placeholder=\"Tipo\">\n              <ion-select-option value=\"casa\">Casa</ion-select-option>\n              <ion-select-option value=\"departamento\">Departamento</ion-select-option>\n              <ion-select-option value=\"nave industrial\">Nave Industrial</ion-select-option>\n              <ion-select-option value=\"terreno\">Terreno</ion-select-option>\n            </ion-select>\n          </ion-item>\n\n          <!-- space -->\n          <div>\n            <mdc-text-field label=\"Espacio(metros)\" type=\"number\" [(ngModel)]=\"newBuyer.space\" #space=\"ngModel\" id=\"space\"\n              name=\"space\" required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"space.dirty || space.touched\">Anota Espacio</span>\n            </mdc-text-field-helper-text>\n          </div>\n\n          <!-- Compra/renta -->\n\n          <ion-item lines=\"none\" class=\"margin-field\">\n            <ion-label text-wrap>Comprar/Rentar</ion-label>\n            <ion-select [(ngModel)]=\"newBuyer.isRenter\" #isRenter=\"ngModel\" id=\"isRenter\" name=\"isRenter\" required>\n              <ion-select-option value=\"false\">Comprar</ion-select-option>\n              <ion-select-option value=\"true\">Rentar</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <!-- Nuevo/Usado -->\n\n          <ion-item lines=\"none\" class=\"margin-field\">\n            <ion-label>Estado</ion-label>\n            <ion-select [(ngModel)]=\"newBuyer.isOld\" #isOld=\"ngModel\" id=\"isOld\" name=\"isOld\" required>\n              <ion-select-option value=\"false\">Nuevo</ion-select-option>\n              <ion-select-option value=\"true\">Usado</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <!-- minPrice -->\n          <div>\n            <mdc-text-field label=\"Precio Minimo\" type=\"number\" [(ngModel)]=\"newBuyer.minPrice\" #minPrice=\"ngModel\" id=\"minPrice\"\n              name=\"minPrice\" required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"minPrice.dirty || minPrice.touched\">Anota Precio</span>\n            </mdc-text-field-helper-text>\n          </div>\n\n          <!-- maxPrice -->\n          <div>\n            <mdc-text-field label=\"Precio Máximo\" type=\"number\" [(ngModel)]=\"newBuyer.maxPrice\" #maxPrice=\"ngModel\" id=\"maxPrice\"\n              name=\"maxPrice\" required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"maxPrice.dirty || maxPrice.touched\">Anota Precio</span>\n            </mdc-text-field-helper-text>\n          </div>\n          <div class=\"flex-button \">\n            <ion-button [disabled]=\"!loginForm2.form.valid\" (click)=\"numOfForm = numOfForm - 1\" slot=\"end\">Regresar</ion-button>\n            <ion-button [disabled]=\"!loginForm2.form.valid\" color=\"secondary\" (click)=\"numOfForm = numOfForm + 1\" slot=\"end\">Continuar</ion-button>\n          </div>\n        </div>\n        <div class=\"flex-container\" *ngIf=\"numOfForm === 2\">\n          <div class=\"flex-title\">\n            <h3><span class=\"numberCircle\">3</span></h3>\n            <h3>Propiedad Ideal</h3>\n          </div>\n\n\n          <!-- numRooms -->\n          <div>\n            <mdc-text-field label=\"Num. mínimo cuartos\" type=\"number\" [(ngModel)]=\"newBuyer.numRooms\" #numRooms=\"ngModel\"\n              id=\"numRooms\" name=\"numRooms\" required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"numRooms.dirty || numRooms.touched\">Anota Cuartos</span>\n            </mdc-text-field-helper-text>\n          </div>\n\n          <!-- numCars -->\n          <div>\n            <mdc-text-field label=\"lugares estacionamiento\" type=\"number\" [(ngModel)]=\"newBuyer.numCars\" #numCars=\"ngModel\"\n              id=\"numCars\" name=\"numCars\" required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"numCars.dirty || numCars.touched\">Anota Número</span>\n            </mdc-text-field-helper-text>\n          </div>\n\n          <!-- numBathrooms -->\n          <div>\n            <mdc-text-field label=\"Baños\" type=\"number\" [(ngModel)]=\"newBuyer.numBathrooms\" #numBathrooms=\"ngModel\" id=\"numBathrooms\"\n              name=\"numBathrooms\" required [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"numBathrooms.dirty || numBathrooms.touched\">Anota Número</span>\n            </mdc-text-field-helper-text>\n          </div>\n\n\n          <!-- isClose -->\n\n          <ion-item lines=\"none\" class=\"margin-field\">\n            <ion-label text-wrap>Fraccionamiento</ion-label>\n            <ion-select [(ngModel)]=\"newBuyer.isClose\" #isClose=\"ngModel\" id=\"isClose\" name=\"isClose\" required>\n              <ion-select-option value=\"false\">Abierto</ion-select-option>\n              <ion-select-option value=\"true\">Cerrado</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <!-- hasGarden -->\n\n          <ion-item lines=\"none\" class=\"margin-field\">\n            <ion-label>Jardin</ion-label>\n            <ion-select [(ngModel)]=\"newBuyer.hasGarden\" #hasGarden=\"ngModel\" id=\"hasGarden\" name=\"hasGarden\" required>\n              <ion-select-option value=\"false\">Sin Jardin</ion-select-option>\n              <ion-select-option value=\"true\">Con Jardin</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <!-- isLowLevel -->\n\n          <ion-item lines=\"none\" class=\"margin-field\">\n            <ion-label>Planta Baja</ion-label>\n            <ion-select [(ngModel)]=\"newBuyer.isLowLevel\" #isLowLevel=\"ngModel\" id=\"isLowLevel\" name=\"isLowLevel\"\n              required>\n              <ion-select-option value=\"false\">Cualquiera</ion-select-option>\n              <ion-select-option value=\"true\">Planta Baja</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <!-- hasElevator -->\n\n          <ion-item lines=\"none\" class=\"margin-field\">\n            <ion-label>Elevador</ion-label>\n            <ion-select [(ngModel)]=\"newBuyer.hasElevator\" #hasElevator=\"ngModel\" id=\"hasElevator\" name=\"hasElevator\"\n              required>\n              <ion-select-option value=\"false\">No importa</ion-select-option>\n              <ion-select-option value=\"true\">Con Elevador</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <!-- allServices -->\n\n          <ion-item lines=\"none\" class=\"margin-field\">\n            <ion-label>Servicios</ion-label>\n            <ion-select [(ngModel)]=\"newBuyer.allServices\" #allServices=\"ngModel\" id=\"allServices\" name=\"allServices\"\n              required>\n              <ion-select-option value=\"false\">No importa</ion-select-option>\n              <ion-select-option value=\"true\">Todos los servicios</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <div class=\"flex-button \">\n            <ion-button [disabled]=\"!loginForm2.form.valid\" (click)=\"numOfForm = numOfForm - 1\" slot=\"end\">Regresar</ion-button>\n            <ion-button [disabled]=\"!loginForm2.form.valid\" color=\"secondary\" (click)=\"numOfForm = numOfForm + 1\" slot=\"end\">Continuar</ion-button>\n          </div>\n        </div>\n        <div class=\"flex-container\" *ngIf=\"numOfForm === 3\">\n          <div class=\"flex-title\">\n            <h3><span class=\"numberCircle\">4</span></h3>\n            <h3>Ubicación y fecha</h3>\n          </div>\n          <!-- Fecha a comprar -->\n          <div>\n            <ion-label text-wrap>Anota la posible fecha de compra o renta</ion-label>\n            <!-- day -->\n            <mdc-text-field label=\"Dia\" type=\"number\" [(ngModel)]=\"daySelect\" #d=\"ngModel\" id=\"d\" name=\"d\" required\n              [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"d.dirty || d.touched\">Anota Dia</span>\n            </mdc-text-field-helper-text>\n          </div>\n\n          <!-- mm -->\n          <ion-item lines=\"none\" class=\"margin-field\">\n            <ion-label>Mes</ion-label>\n            <ion-select [(ngModel)]=\"monthSelect\" #me=\"ngModel\" id=\"me\" name=\"me\" required>\n              <ion-select-option *ngFor=\"let m of months; let i = index\" [value]=\"i + 1\">{{m}}</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <!-- aa -->\n          <div>\n            <mdc-text-field label=\"Año\" type=\"number\" [(ngModel)]=\"yearSelect\" #y=\"ngModel\" id=\"y\" name=\"y\" required\n              [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"y.dirty || y.touched\">Anota Año</span>\n            </mdc-text-field-helper-text>\n          </div>\n          <!-- <mat-form-field>\n            <input matInput (dateChange)=\"dateSelect($event)\" [matDatepicker]=\"picker\" (focus)=\"picker.open()\"\n              placeholder=\"Fecha\" required>\n            <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n            <mat-datepicker touchUi #picker></mat-datepicker>\n          </mat-form-field> -->\n\n          <!-- city -->\n          <ion-item lines=\"none\" class=\"margin-field\">\n            <ion-label>Ciudad</ion-label>\n            <ion-select [(ngModel)]=\"newBuyer.city\" #city=\"ngModel\" id=\"city\" name=\"city\" required>\n              <ion-select-option value=\"puebla\">Puebla</ion-select-option>\n              <ion-select-option value=\"mexico\">Mexico</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <!-- zone -->\n          <div>\n            <mdc-text-field label=\"Zona\" [(ngModel)]=\"newBuyer.zone\" #zone=\"ngModel\" id=\"zone\" name=\"zone\" required\n              [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n            <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n              <span *ngIf=\"zone.dirty || zone.touched\">Anota Zona</span>\n            </mdc-text-field-helper-text>\n          </div>\n\n          <div class=\"flex-button \">\n            <ion-button [disabled]=\"!loginForm2.form.valid\" (click)=\"numOfForm = numOfForm - 1\" slot=\"end\">Regresar</ion-button>\n            <ion-button [disabled]=\"!loginForm2.form.valid\" color=\"secondary\" (click)=\"numOfForm = numOfForm + 1\" slot=\"end\">Continuar</ion-button>\n          </div>\n        </div>\n        <div class=\"flex-container\" *ngIf=\"numOfForm === 4\">\n          <div class=\"flex-title\">\n            <h3><span class=\"numberCircle\">5</span></h3>\n            <h3>Forma de Compra</h3>\n          </div>\n          <!-- wayToBuy FOVISSTE, IMSS, contado, PEMEX, Infonavit, aliados, otros -->\n\n          <ion-item lines=\"none\" class=\"margin-field\">\n            <ion-label text-wrap>Forma de Comprar</ion-label>\n            <ion-select [(ngModel)]=\"newBuyer.wayToBuy\" #wayToBuy=\"ngModel\" id=\"wayToBuy\" name=\"wayToBuy\" required>\n              <ion-select-option value=\"FOVISSTE\">FOVISSTE</ion-select-option>\n              <ion-select-option value=\"IMSS\">IMSS</ion-select-option>\n              <ion-select-option value=\"contado\">contado</ion-select-option>\n              <ion-select-option value=\"PEMEX\">Pemex</ion-select-option>\n              <ion-select-option value=\"infonavit\">Infonavit</ion-select-option>\n              <ion-select-option value=\"infonavit\">Aliados</ion-select-option>\n              <ion-select-option value=\"otros\">Otros</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <div>\n            <ion-label text-wrap>Anota palabras clave separadas por comas para una mejor búsqueda (ej: casa,\n              departamento,\n              mascotas)</ion-label>\n            <mdc-textarea [(ngModel)]=\"words\" #w=\"ngModel\" id=\"w\" name=\"w\" label=\"Palabras\" rows=\"8\" cols=\"40\"></mdc-textarea>\n          </div>\n        </div>\n      </div>\n      <div style=\"text-align: right\" *ngIf=\"isCorrect && numOfForm === 4 \">\n        <ion-button [disabled]=\"!loginForm2.form.valid\" (click)=\"numOfForm = numOfForm - 1\" slot=\"end\">Regresar</ion-button>\n        <ion-button [disabled]=\"!loginForm2.form.valid\" color=\"secondary\" (click)=\"checkUser()\" slot=\"end\" *ngIf=\"!isEdit\">Crear</ion-button>\n        <ion-button [disabled]=\"!loginForm2.form.valid\" color=\"secondary\" (click)=\"editUser()\" slot=\"end\" *ngIf=\"isEdit\">Editar</ion-button>\n      </div>\n    </form>\n    <!--  -->\n\n\n  </ion-grid>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/buyer/new-buyer/new-buyer.component.scss":
/*!*********************************************************************!*\
  !*** ./src/app/components/buyer/new-buyer/new-buyer.component.scss ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".margin-field {\n  margin-top: 20px; }\n\n.flex-container {\n  /* display: flex;\n    flex-direction: column;\n    padding: 5%; */\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 50%;\n  padding: 1%; }\n\n.flex-title {\n  display: flex;\n  align-items: baseline;\n  width: 100% !important; }\n\n.chips-detail {\n  font-size: 1.3em; }\n\n.numberCircle {\n  background: #cccccc;\n  border-radius: 0.8em;\n  -moz-border-radius: 0.8em;\n  -webkit-border-radius: 0.8em;\n  color: #ffffff;\n  display: inline-block;\n  font-weight: bold;\n  line-height: 1.6em;\n  margin-right: 5px;\n  text-align: center;\n  width: 1.6em; }\n\n.flex-button {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  width: 100% !important; }\n\n.alert {\n  position: relative;\n  padding: 0.75rem 1.25rem;\n  margin-bottom: 1rem;\n  border: 1px solid transparent;\n  border-radius: 0.25rem; }\n\n.alert-danger {\n  color: #721c24;\n  background-color: #f8d7da;\n  border-color: #f5c6cb; }\n\n.alert-success {\n  color: #155724;\n  background-color: #d4edda;\n  border-color: #c3e6cb; }\n\n@media (max-width: 900px) {\n  .flex-container > * {\n    width: 100%; } }\n"

/***/ }),

/***/ "./src/app/components/buyer/new-buyer/new-buyer.component.ts":
/*!*******************************************************************!*\
  !*** ./src/app/components/buyer/new-buyer/new-buyer.component.ts ***!
  \*******************************************************************/
/*! exports provided: NewBuyerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewBuyerComponent", function() { return NewBuyerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_adviser_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/adviser.service */ "./src/app/services/adviser.service.ts");
/* harmony import */ var _services_mail_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/mail.service */ "./src/app/services/mail.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var NewBuyerComponent = /** @class */ (function () {
    function NewBuyerComponent(buyerService, userSession, navController, loadingController, route, router, adviseService, mailService, alertController) {
        this.buyerService = buyerService;
        this.userSession = userSession;
        this.navController = navController;
        this.loadingController = loadingController;
        this.route = route;
        this.router = router;
        this.adviseService = adviseService;
        this.mailService = mailService;
        this.alertController = alertController;
        this.newBuyer = {};
        this.months = [
            'Enero',
            'Febrero',
            'Marzo',
            'Abril',
            'Mayo',
            'Junio',
            'Julio',
            'Agosto',
            'Septiembre',
            'Octubre',
            'Noviembre',
            'Diciembre',
        ];
        this.isEdit = false;
        this.numOfForm = 0;
        this.loadButton = false;
        this.loadButtonV = false;
        var buyerId = userSession.userSession.value.id;
        var user = userSession.userSession.value;
        this.user = user;
        console.log(user);
        if (buyerId && user.type === 'buyer') {
            this.edit(buyerId);
        }
    }
    NewBuyerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.edit(params['id']);
            }
        });
    };
    NewBuyerComponent.prototype.edit = function (id) {
        var _this = this;
        this.buyerService.getBuyerById(id).subscribe(function (buyer) {
            Object.keys(buyer).forEach(function (key) {
                if (buyer[key] === false) {
                    buyer[key] = 'false';
                }
                else if (buyer[key] === true) {
                    buyer[key] = 'true';
                }
            });
            _this.newBuyer = buyer;
            _this.words = '';
            _this.newBuyer.tag.forEach(function (word, i) {
                if (_this.newBuyer.tag.length === i + 1) {
                    _this.words += word;
                }
                else {
                    _this.words += word + ',';
                }
            });
            var date = _this.newBuyer.dateToBuy.split('/');
            _this.daySelect = +date[0];
            _this.monthSelect = +date[1];
            _this.yearSelect = +date[2];
            _this.isEdit = true;
            _this.isCorrect = true;
        });
    };
    NewBuyerComponent.prototype.check = function () {
        var _this = this;
        this.buyerService.checkBuyer(this.newBuyer).subscribe(function (buyer) {
            if (buyer === null) {
                _this.isCorrect = true;
            }
            else {
                _this.isCorrect = false;
            }
        });
    };
    NewBuyerComponent.prototype.checkAndSend = function () {
        var _this = this;
        this.loadButton = true;
        this.buyerService.checkBuyer(this.newBuyer).subscribe(function (buyer) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(buyer === null)) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.mailService.addEmail(this.newBuyer.email).toPromise()];
                    case 1:
                        _a.sent();
                        this.presentAlert('Verificar Correo', this.newBuyer.email, 'Se le ha enviado un correo con su código de verificación, favor de revisar en 📧 Spam ', ['OK']);
                        this.isCorrectEmail = true;
                        return [3 /*break*/, 3];
                    case 2:
                        this.isCorrectEmail = false;
                        _a.label = 3;
                    case 3:
                        this.loadButton = false;
                        return [2 /*return*/];
                }
            });
        }); });
    };
    NewBuyerComponent.prototype.checkCode = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.loadButtonV = true;
                        _a = this;
                        return [4 /*yield*/, this.mailService
                                .findEmail(this.newBuyer.email, this.code)
                                .toPromise()];
                    case 1:
                        _a.isCorrectCode = _b.sent();
                        this.loadButtonV = false;
                        if (this.isCorrectCode) {
                            this.isCorrect = this.isCorrectCode;
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    NewBuyerComponent.prototype.checkUser = function () {
        return __awaiter(this, void 0, void 0, function () {
            var user1, load, arr;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        user1 = this.userSession.userSession.value;
                        return [4 /*yield*/, this.presentLoadingWithOptions('Registrando...')];
                    case 1:
                        load = _a.sent();
                        load.present();
                        if (this.words) {
                            this.newBuyer.tag = this.words.split(',');
                        }
                        this.newBuyer.dateToBuy = this.daySelect + "/" + this.monthSelect + "/" + this.yearSelect;
                        if (user1.type && user1.type === 'adviser') {
                            arr = [user1.id];
                            this.newBuyer.adviser = arr;
                        }
                        this.buyerService.newBuyer(this.newBuyer).subscribe(function (buyer) {
                            var user = _this.userSession.userSession.value;
                            // data  administrator buyer seller adviser management
                            // ADMIN
                            if (user.type &&
                                (user.type === 'administrator' || user.type === 'office')) {
                                // this.router.navigate(['list-buyer-admin']);
                                var toast_1 = {
                                    queryParams: { res: ' Comprador Creado' },
                                };
                                /**
                                 * Es para recargar el componente previo
                                 */
                                _this.router
                                    .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                                    .then(function () { return _this.router.navigate(['list-buyer-admin'], toast_1); });
                                // ADVISER
                            }
                            else if (user.type && user.type === 'adviser') {
                                _this.adviseService.getAdviserById(user.id).subscribe(function (adv) {
                                    adv.buyer.push(buyer);
                                    _this.adviseService.putAdviser(adv).subscribe(function () {
                                        var toast = {
                                            queryParams: { res: ' Comprador Creado' },
                                        };
                                        /**
                                         * Es para recargar el componente previo
                                         */
                                        _this.router
                                            .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                                            .then(function () { return _this.router.navigate(['list-buyer-admin'], toast); });
                                    });
                                });
                                // NEW
                            }
                            else {
                                if (buyer) {
                                    _this.userSession
                                        .logginUserSession(buyer.email, buyer.password)
                                        .subscribe(function (data) {
                                        // data  administrator buyer seller adviser management
                                        if (data !== 'error') {
                                            _this.userSession.setUserSession(data.data[0].name, data.type, data.data[0]._id, data.data[0].password, data.data[0].email, data.token);
                                            _this.navController.navigateRoot('list-prop-buyer', false);
                                        }
                                    });
                                    /*   console.log(buyer);
                                    this.userSession.setUserSession(
                                      buyer.name,
                                      'buyer',
                                      buyer._id,
                                      buyer.password,
                                      buyer.email,
                                      data.token
                          
                                    );
                                    this.navController.navigateRoot('list-prop-buyer', false); */
                                }
                            }
                            load.dismiss();
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewBuyerComponent.prototype.editUser = function () {
        return __awaiter(this, void 0, void 0, function () {
            var load;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.presentLoadingWithOptions('Editando...')];
                    case 1:
                        load = _a.sent();
                        load.present();
                        this.newBuyer.tag = this.words.split(',');
                        this.newBuyer.dateToBuy = this.daySelect + "/" + this.monthSelect + "/" + this.yearSelect;
                        this.buyerService.putBuyer(this.newBuyer).subscribe(function (val) {
                            var user = _this.userSession.userSession.value;
                            // data  administrator buyer seller adviser management
                            if (user.type && user.type !== 'buyer') {
                                // this.navController.navigateRoot('list-buyer-admin');
                                // this.router.navigate('/list-buyer-admin');
                                var toast_2 = {
                                    queryParams: { res: ' Comprador Editado' },
                                };
                                /**
                                 * Es para recargar el componente previo
                                 */
                                _this.router
                                    .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                                    .then(function () { return _this.router.navigate(['list-buyer-admin'], toast_2); });
                            }
                            else {
                                if (val) {
                                    _this.navController.navigateRoot('list-prop-buyer', false);
                                }
                            }
                            load.dismiss();
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewBuyerComponent.prototype.presentLoadingWithOptions = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var loading;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create({
                            message: message,
                            translucent: true,
                        })];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    NewBuyerComponent.prototype.presentAlert = function (header, subHeader, message, buttons) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: header,
                            subHeader: subHeader,
                            message: message,
                            buttons: buttons,
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('product'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], NewBuyerComponent.prototype, "productSelect", void 0);
    NewBuyerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-buyer',
            template: __webpack_require__(/*! ./new-buyer.component.html */ "./src/app/components/buyer/new-buyer/new-buyer.component.html"),
            styles: [__webpack_require__(/*! ./new-buyer.component.scss */ "./src/app/components/buyer/new-buyer/new-buyer.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_buyer_service__WEBPACK_IMPORTED_MODULE_1__["BuyerService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__["UserSessionService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["LoadingController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
            _services_adviser_service__WEBPACK_IMPORTED_MODULE_5__["AdviserService"],
            _services_mail_service__WEBPACK_IMPORTED_MODULE_6__["MailService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["AlertController"]])
    ], NewBuyerComponent);
    return NewBuyerComponent;
}());



/***/ }),

/***/ "./src/app/components/buyer/ofert-buyer/ofert-buyer.component.html":
/*!*************************************************************************!*\
  !*** ./src/app/components/buyer/ofert-buyer/ofert-buyer.component.html ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Ofertas\n    </ion-title>\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'menu'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Ofertas'\" [buttonUser]=\"'person'\"\n    [buttonNotification]=\"'notifications'\"></app-menu-general>\n</ion-header>\n<ion-content padding>\n  <!-- cargar -->\n  <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n  <!-- si cargado -->\n  <ng-template #thenTemplate>\n    <ng-container *ngIf=\"hasOfert; then Ofert; else noOfert\"></ng-container>\n    <!-- sin oferta -->\n    <ng-template #noOfert>\n      <ion-card>\n        <ion-card-header>\n          <ion-card-subtitle>Sin Ofertas</ion-card-subtitle>\n          <ion-card-title text-wrap>Puede generar una oferta cuando haga una visita a la propiedad de interés</ion-card-title>\n\n        </ion-card-header>\n      </ion-card>\n    </ng-template>\n    <!-- con oferta -->\n    <ng-template #Ofert>\n      <ion-card *ngFor=\"let ofert of oferts\" [ngClass]=\"\n        {\n        'state-amarillo': ofert.status === 'amarillo',\n        'state-rojo': ofert.status === 'rojo',\n        'state-verde': ofert.status === 'verde'\n         }\">\n        <span *ngIf=\"ofert.status === 'amarillo'\">\n          <ion-card-header>\n            <ion-card-subtitle>Estado: Negociación</ion-card-subtitle>\n            <ion-card-title text-wrap>Favor de Responder</ion-card-title>\n          </ion-card-header>\n          <ion-card-content text-wrap>\n            <ion-label text-wrap>Oferta para la propiedad: <b>{{ofert.property.name}}</b></ion-label>\n            <ion-label text-wrap>Oferta por: <b>${{ofert.ofertPrice}}</b></ion-label>\n            <ion-label text-wrap>Detalles de la oferta : {{ofert.notes}}</ion-label>\n            <ion-list lines=\"none\">\n              <ion-list-header text-wrap> Documentos Requeridos:</ion-list-header>\n              <ion-item lines=\"none\" *ngFor=\"let doc of ofert.files\">{{doc}}</ion-item>\n            </ion-list>\n          </ion-card-content>\n          <!-- Poner en notes Aceptado o Denagado -->\n\n          <ion-item lines=\"none\">\n            <ion-button (click)=\"respondOfert('Aceptada', ofert, true)\" color=\"success\" fill=\"outline\" slot=\"end\">\n              Aceptar <ion-icon name=\"checkmark-circle\"></ion-icon>\n            </ion-button>\n            <ion-button (click)=\"respondOfert('Denagada', ofert, false)\" color=\"danger\" fill=\"outline\" slot=\"end\">\n              Denegar <ion-icon name=\"close-circle\"></ion-icon>\n            </ion-button>\n\n          </ion-item>\n\n        </span>\n        <span *ngIf=\"ofert.status === 'rojo'\">\n          <ion-card-header>\n            <ion-card-subtitle>Estado: Respuesta de Oferta</ion-card-subtitle>\n            <!-- Poner en notes Aceptado o Denagado -->\n            <ion-card-title text-wrap> Oferta: {{ofert.notes}}</ion-card-title>\n            <ion-card-content text-wrap>\n              <ion-label text-wrap *ngIf=\"ofert.notes === 'Aceptada' \"> Propiedad <b>{{ofert.property.name\n                  }}</b>\n                Apartada</ion-label>\n\n            </ion-card-content>\n          </ion-card-header>\n        </span>\n        <span *ngIf=\"ofert.status === 'verde'\">\n          <ion-card-header>\n            <ion-card-subtitle text-wrap>Estado: En espera de respuesta</ion-card-subtitle>\n            <!-- Poner en notes Aceptado o Denagado -->\n            <ion-card-title text-wrap> Oferta Generada </ion-card-title>\n            <ion-card-content text-wrap>\n              <ion-item lines=\"none\">\n                <ion-label text-wrap>\n                  <b>Oferta por:</b> ${{ofert.apartOfert}}.00\n                </ion-label>\n              </ion-item>\n              <ion-item lines=\"none\">\n                <ion-label text-wrap>\n                  <b>Propiedad:</b> {{ofert.property.name}}\n                </ion-label>\n              </ion-item>\n\n            </ion-card-content>\n          </ion-card-header>\n        </span>\n      </ion-card>\n    </ng-template>\n    <!-- con posibilidad de generar oferta -->\n    <div *ngIf=\"propForOfert.length > 0\">\n      <ion-card *ngFor=\"let sbp of propForOfert; let i = index\">\n        <ion-card-header>\n          <ion-card-subtitle text-wrap>Generar oferta para {{sbp.property.name}} </ion-card-subtitle>\n          <ion-card-title text-wrap>Crear Oferta</ion-card-title>\n        </ion-card-header>\n        <ion-card-content>\n          <ion-label text-wrap>Apartar <b> {{sbp.property.name}}</b> con:</ion-label>\n          <ion-item lines=\"none\">\n            <ion-range #range id=\"range{{i}}\" min=\"5000\" max=\"50000\" step=\"500\" color=\"secondary\" pin=\"true\">\n              <ion-icon slot=\"start\" size=\"small\" name=\"cash\"></ion-icon>\n              <ion-icon slot=\"end\" name=\"cash\"></ion-icon>\n            </ion-range>\n          </ion-item>\n          <ion-item lines=\"none\">\n            <ion-label text-wrap slot=\"end\" *ngIf=\"range.value\">Monto: {{'$' + range.value + '.00'}}</ion-label>\n          </ion-item>\n          <ion-item text-wrap lines=\"none\">\n            <ion-label text-wrap>Forma de Pago</ion-label>\n            <ion-select #wayToBuy text-wrap placeholder=\"\" cancelText=\"Cancelar\">\n              <ion-select-option value=\"FOVISSTE\">FOVISSTE</ion-select-option>\n              <ion-select-option value=\"IMSS\">IMSS</ion-select-option>\n              <ion-select-option value=\"contado\">contado</ion-select-option>\n              <ion-select-option value=\"PEMEX\">PEMEX</ion-select-option>\n              <ion-select-option value=\"Infonavit\">Infonavit</ion-select-option>\n              <ion-select-option value=\"otros\">otros</ion-select-option>\n            </ion-select>\n          </ion-item>\n\n        </ion-card-content>\n        <ion-item lines=\"none\">\n          <ion-button [disabled]=\"!wayToBuy.value || !range.value \" (click)=\"makeOfert(wayToBuy.value, range.value, sbp.property )\"\n            color=\"secondary\" fill=\"outline\" slot=\"end\">\n            Crear <ion-icon name=\"checkmark-circle\"></ion-icon>\n          </ion-button>\n        </ion-item>\n\n      </ion-card>\n    </div>\n  </ng-template>\n  <!-- no cargado -->\n  <ng-template #elseTemplate>\n    <ion-skeleton-text width=40px></ion-skeleton-text>\n    <ion-skeleton-text width=200px></ion-skeleton-text>\n    <ion-skeleton-text width=600px></ion-skeleton-text>\n    <ion-skeleton-text width=100px></ion-skeleton-text>\n    <ion-skeleton-text width=80px></ion-skeleton-text>\n  </ng-template>\n\n  <!-- /cargar -->\n</ion-content>"

/***/ }),

/***/ "./src/app/components/buyer/ofert-buyer/ofert-buyer.component.scss":
/*!*************************************************************************!*\
  !*** ./src/app/components/buyer/ofert-buyer/ofert-buyer.component.scss ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/buyer/ofert-buyer/ofert-buyer.component.ts":
/*!***********************************************************************!*\
  !*** ./src/app/components/buyer/ofert-buyer/ofert-buyer.component.ts ***!
  \***********************************************************************/
/*! exports provided: OfertBuyerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OfertBuyerComponent", function() { return OfertBuyerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_ofert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/ofert.service */ "./src/app/services/ofert.service.ts");
/* harmony import */ var _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/status-buyer-property.service */ "./src/app/services/status-buyer-property.service.ts");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _services_seller_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/seller.service */ "./src/app/services/seller.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};










var OfertBuyerComponent = /** @class */ (function () {
    function OfertBuyerComponent(userSessionService, buyerService, toastController, ofertService, statusBuyerPropertyService, propertyService, oneSignalService, sellerService) {
        this.userSessionService = userSessionService;
        this.buyerService = buyerService;
        this.toastController = toastController;
        this.ofertService = ofertService;
        this.statusBuyerPropertyService = statusBuyerPropertyService;
        this.propertyService = propertyService;
        this.oneSignalService = oneSignalService;
        this.sellerService = sellerService;
        this.isLoad = false;
        this.hasOfert = false;
        this.propForOfert = [];
        this.newOfert = {};
        this.getOfert();
    }
    OfertBuyerComponent.prototype.ngOnInit = function () { };
    OfertBuyerComponent.prototype.getOfert = function () {
        var _this = this;
        var buyerId = this.userSessionService.userSession.value.id;
        this.buyerService.getBuyerById(buyerId).subscribe(function (buyer) {
            console.log(buyer);
            _this.buyer = buyer;
            var findOfertByProp = function (id) {
                return buyer.ofert.some(function (o) { return o.property._id === id; });
            };
            // si tiene una prop mayor que verde o si no tiene una oferta generada
            _this.propForOfert = buyer.statusBuyerProperty.filter(function (sBP) { return sBP.status !== 'verde' && !findOfertByProp(sBP.property._id); });
            console.log('ofetas dis', _this.propForOfert);
            if (buyer.ofert.length > 0) {
                _this.hasOfert = true;
                _this.oferts = buyer.ofert;
                _this.statusBuyerProperty = buyer.statusBuyerProperty;
            }
            _this.isLoad = true;
        });
    };
    OfertBuyerComponent.prototype.respondOfert = function (str, ofert, isAccept) {
        var _this = this;
        var buyer = this.userSessionService.userSession.value;
        var find = this.statusBuyerProperty.find(function (s) { return s.property._id === ofert.property._id; });
        this.statusBuyerPropertyService
            .upgradeStatus(find._id, 'rojo')
            .subscribe(function (c) {
            /* if (isAccept) {
              const prop = ofert.property;
              prop.dateToApart = new Date();
              this.propertyService
                .putProperty(prop)
                .subscribe(() => console.log('date'));
            } */
        });
        ofert.status = 'rojo';
        ofert.notes = str;
        ofert.isAccept = isAccept;
        this.ofertService.putOfert(ofert).subscribe(function (res) { return __awaiter(_this, void 0, void 0, function () {
            var seller, arr, dateToSchedule;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getSellerOfProperty(ofert.property._id)];
                    case 1:
                        seller = _a.sent();
                        arr = this.buyer.adviser
                            .map(function (a) { return a._id; })
                            .concat(seller === undefined ? undefined : seller._id);
                        dateToSchedule = new Date(new Date().getTime() + 15 * 86400000);
                        if (res) {
                            this.notification('Respuesta de oferta', "La oferta del " + buyer.name + " para la propiedad: \"" + ofert.property.name + "\" ha sido " + str, ofert.status, 'ofert', ['office', 'administrator'], seller === undefined ? undefined : [seller._id]);
                            if (isAccept) {
                                ofert.property.dateToApart = dateToSchedule;
                                this.propertyService.putProperty(ofert.property).subscribe();
                                this.notificationBySchedule('Tiempo de Apartado Superado', "El tiempo de espera ha superado los 15 dias para la oferta de la propiedad: " + ofert.property.name + " del cliente " + this.userSessionService.userSession.value.name, ['office', 'administrator'], arr, dateToSchedule, ofert);
                            }
                            this.getOfert();
                            this.presentToast('Oferta ' + str);
                        }
                        return [2 /*return*/];
                }
            });
        }); });
    };
    // hacer oferta nueva
    OfertBuyerComponent.prototype.makeOfert = function (wayToBuy, apartOfert, property) {
        var _this = this;
        var user = this.userSessionService.userSession.value;
        this.newOfert = {
            apartOfert: apartOfert,
            wayToBuy: wayToBuy,
            buyer: user.id,
            notes: 'Nueva Oferta',
            status: 'verde',
            property: property._id
        };
        this.ofertService.newOfert(this.newOfert).subscribe(function (ofert) { return __awaiter(_this, void 0, void 0, function () {
            var seller;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.buyer.ofert.push(ofert);
                        this.buyerService.putBuyer(this.buyer).subscribe();
                        console.log('new ofert', ofert);
                        return [4 /*yield*/, this.getSellerOfProperty(property._id)];
                    case 1:
                        seller = _a.sent();
                        // arr de ids
                        /* const arr = this.buyer.adviser
                          .map(a => a._id)
                          .concat(seller === undefined ? undefined : seller._id); */
                        this.notification('Nueva Oferta', "El comprador: " + user.name + " ha generado una oferta para " + property.name + ", con un adelanto de $ " + apartOfert + ".00", ofert.status, 'ofert', ['office', 'administrator'], seller === undefined ? undefined : [seller._id]);
                        this.getOfert();
                        this.presentToast('Oferta Generada');
                        return [2 /*return*/];
                }
            });
        }); });
    };
    // toast
    OfertBuyerComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 3000
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    OfertBuyerComponent.prototype.notification = function (title, message, status, type, tags, reciversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: reciversId,
            senderId: this.userSessionService.userSession.value.id,
            status: status,
            type: type
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, ['office', 'administrator'], reciversId)
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    OfertBuyerComponent.prototype.notificationBySchedule = function (title, message, tags, reciversId, date, ofert) {
        var _this = this;
        // onesignal
        this.oneSignalService
            .postOneSignalBySchedule(title, message, date, tags, reciversId)
            .subscribe(function (data) {
            if (!ofert.notificationOneSignal) {
                ofert.notificationOneSignal = [];
            }
            ofert.notificationOneSignal.push(data.id);
            _this.ofertService.putOfert(ofert).subscribe();
        });
    };
    OfertBuyerComponent.prototype.getSellerOfProperty = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.sellerService
                            .getSellerAll()
                            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["map"])(function (sellers) { return sellers.find(function (s) { return !!s.property.find(function (p) { return p._id === id; }); }); }))
                            .toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    OfertBuyerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-ofert-buyer',
            template: __webpack_require__(/*! ./ofert-buyer.component.html */ "./src/app/components/buyer/ofert-buyer/ofert-buyer.component.html"),
            styles: [__webpack_require__(/*! ./ofert-buyer.component.scss */ "./src/app/components/buyer/ofert-buyer/ofert-buyer.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_user_session_service__WEBPACK_IMPORTED_MODULE_1__["UserSessionService"],
            _services_buyer_service__WEBPACK_IMPORTED_MODULE_2__["BuyerService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"],
            _services_ofert_service__WEBPACK_IMPORTED_MODULE_4__["OfertService"],
            _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_5__["StatusBuyerPropertyService"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_6__["PropertyService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__["OnesignalService"],
            _services_seller_service__WEBPACK_IMPORTED_MODULE_9__["SellerService"]])
    ], OfertBuyerComponent);
    return OfertBuyerComponent;
}());



/***/ }),

/***/ "./src/app/components/credit/new-edit-credit/new-edit-credit.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/components/credit/new-edit-credit/new-edit-credit.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Crédito\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Editar Crédito'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content>\n  <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n  <ng-template #thenTemplate>\n    <ion-grid fixed>\n      <h1>Editar Crédito</h1>\n      <div class=\"container\" style=\"margin-top: 3%\">\n        <form #newUserForm=\"ngForm\">\n          <mat-card>\n            <mat-card-title>Complete los campos</mat-card-title>\n            <span *ngIf=\"credit.buyer.name &&  credit.property.name\" class=\"flex-container2\">\n              <mat-list role=\"list\">\n                <h3 mat-subheader>Nombre del Cliente</h3>\n                <mat-list-item role=\"listitem\">{{credit.buyer.name}}</mat-list-item>\n              </mat-list>\n              <mat-list role=\"list\">\n                <h3 mat-subheader>Nombre de la Propiedad</h3>\n                <mat-list-item role=\"listitem\">{{credit.property.name}}</mat-list-item>\n              </mat-list>\n            </span>\n            <div class=\"flex-container\">\n              <!-- status -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Estado</mat-label>\n                <mat-select [(ngModel)]=\"credit.status\" #status=\"ngModel\" id=\"status\" name=\"status\" required>\n                  <mat-option value=\"verde\">\n                    Interés\n                  </mat-option>\n                  <mat-option value=\"amarillo\">\n                    Negociación\n                  </mat-option>\n                  <mat-option value=\"rojo\">\n                    Aceptado\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"status.dirty || status.touched\">Selecciona</mat-error>\n              </mat-form-field>\n              <!-- files -->\n              <ion-label text-wrap>Anota los documentos para el crédito separado por comas\n                (documento1,documento2,etc...)</ion-label>\n              <mdc-textarea [(ngModel)]=\"files\" #f=\"ngModel\" id=\"f\" name=\"f\" label=\"Ducumentos\" rows=\"8\" cols=\"40\"></mdc-textarea>\n              <!-- notas -->\n              <mdc-textarea [(ngModel)]=\"credit.notes\" #w=\"ngModel\" id=\"w\" name=\"w\" label=\"Notas\" rows=\"8\" cols=\"40\"></mdc-textarea>\n\n            </div>\n            <mat-card-actions align=\"end\">\n              <div style=\"margin-right: 2%\">\n                <span [matTooltip]=errorToShow [matTooltipClass]=\"'tooltip-size'\" (mouseenter)=\"getPopMessage($event)\">\n                  <!-- <button *ngIf=\"isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" (click)=\"newCustomer()\"\n                    [disabled]=\"!newUserForm.form.valid\">Crear</button> -->\n                  <button *ngIf=\"!isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" [disabled]=\"!newUserForm.form.valid\"\n                    (click)=\"editCredit()\">Editar</button>\n                </span>\n              </div>\n\n\n\n            </mat-card-actions>\n\n          </mat-card>\n        </form>\n\n      </div>\n    </ion-grid>\n\n  </ng-template>\n  <ng-template #elseTemplate>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/credit/new-edit-credit/new-edit-credit.component.scss":
/*!**********************************************************************************!*\
  !*** ./src/app/components/credit/new-edit-credit/new-edit-credit.component.scss ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container2 {\n  display: flex;\n  flex-direction: column;\n  padding-left: 5%;\n  padding-right: 5%;\n  padding-top: 3%;\n  border: 2px solid darkgray;\n  border-radius: 8px; }\n\n.flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/components/credit/new-edit-credit/new-edit-credit.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/components/credit/new-edit-credit/new-edit-credit.component.ts ***!
  \********************************************************************************/
/*! exports provided: NewEditCreditComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewEditCreditComponent", function() { return NewEditCreditComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _services_credit_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/credit.service */ "./src/app/services/credit.service.ts");
/* harmony import */ var _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/status-buyer-property.service */ "./src/app/services/status-buyer-property.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var NewEditCreditComponent = /** @class */ (function () {
    function NewEditCreditComponent(route, router, creditService, navCtr, propertyService, statusBuyerPropertyService, userSession, oneSignalService) {
        var _this = this;
        this.route = route;
        this.router = router;
        this.creditService = creditService;
        this.navCtr = navCtr;
        this.propertyService = propertyService;
        this.statusBuyerPropertyService = statusBuyerPropertyService;
        this.userSession = userSession;
        this.oneSignalService = oneSignalService;
        this.hide = true;
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.credit = {};
        this.buyer = '';
        this.property = '';
        this.isLoad = false;
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.creditService.getCreditById(params['id']).subscribe(function (credit) {
                    console.log(credit);
                    _this.credit = credit;
                    _this.buyer = _this.credit.buyer._id;
                    _this.property = _this.credit.property._id;
                    _this.files = '';
                    _this.credit.files.forEach(function (f, i) {
                        if (_this.credit.files.length === i + 1) {
                            _this.files += f;
                        }
                        else {
                            _this.files += f + ',';
                        }
                    });
                    _this.isLoad = true;
                });
                _this.isNew = false;
            }
            else {
                _this.isNew = true;
                _this.isLoad = true;
            }
        });
    }
    NewEditCreditComponent.prototype.ngOnInit = function () { };
    NewEditCreditComponent.prototype.editCredit = function () {
        var _this = this;
        this.statusBuyerPropertyService
            .searchSpecial(this.buyer, this.property)
            .subscribe(function (sbp) {
            console.log(sbp);
            _this.statusBuyerPropertyService
                .upgradeStatus(sbp._id, _this.credit.status)
                .subscribe(function (c) { return console.log(c); });
        });
        this.credit.files = this.files.split(',');
        // noti
        if (this.credit.status === 'amarillo') {
            this.notification('Propuesta de crédito', "Nueva propuesta de cr\u00E9dito para " + this.credit.property.name, 'amarillo', 'credit', this.buyer);
        }
        this.creditService.putCredit(this.credit).subscribe(function (s) {
            var toast = {
                queryParams: { res: 'Credito Editado' },
            };
            // this.router.navigate(['list-credit-admin'], toast);
            // this.navCtr.navigateRoot('list-credit-admin', true, toast);
            /**
             * Es para recargar el componente previo
             */
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-credit-admin'], toast); });
        });
    };
    NewEditCreditComponent.prototype.editCustomer = function () {
        /* this.sellerService.putSeller(this.seller).subscribe(() => {
          const toast: NavigationExtras = {
            queryParams: { res: ' Propietario Editado' },
          };
          this.router.navigate(['list-seller-admin'], toast);
          this.navCtr.navigateRoot('list-seller-admin', true, toast);
        }); */
    };
    NewEditCreditComponent.prototype.notification = function (title, message, status, type, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            receiversId: [receiversId],
            senderId: this.userSession.userSession.value.id,
            status: status,
            type: type,
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, undefined, [receiversId])
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    NewEditCreditComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    NewEditCreditComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    NewEditCreditComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-edit-credit',
            template: __webpack_require__(/*! ./new-edit-credit.component.html */ "./src/app/components/credit/new-edit-credit/new-edit-credit.component.html"),
            styles: [__webpack_require__(/*! ./new-edit-credit.component.scss */ "./src/app/components/credit/new-edit-credit/new-edit-credit.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _services_credit_service__WEBPACK_IMPORTED_MODULE_4__["CreditService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_3__["PropertyService"],
            _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_5__["StatusBuyerPropertyService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_6__["UserSessionService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__["OnesignalService"]])
    ], NewEditCreditComponent);
    return NewEditCreditComponent;
}());



/***/ }),

/***/ "./src/app/components/documents/documents.component.html":
/*!***************************************************************!*\
  !*** ./src/app/components/documents/documents.component.html ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <!--\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"start\">\n        <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n      </ion-buttons>\n      <ion-title>\n        Asesores\n      </ion-title>\n\n\n    </ion-toolbar>\n  -->\n  <ion-header>\n    <app-menu-general\n      [isMenuButton]=\"'menu'\"\n      [colorMenuButton]=\"'white'\"\n      [titleMenu]=\"'Documentos'\"\n      [buttonNotification]=\"'notifications'\"\n      [buttonUser]=\"'person'\"\n    ></app-menu-general>\n  </ion-header>\n</ion-header>\n<ion-content padding>\n  <ng-container *ngIf=\"isLoading; then: Load; else: noLoad\"></ng-container>\n  <!-- contenido -->\n\n  <ng-template #Load class=\"my-contenet\">\n    <mat-drawer-container class=\"side-container\" autosize>\n      <!-- contenido de filtros -->\n      <mat-drawer\n        [class.mat-elevation-z1]=\"true\"\n        position=\"end\"\n        #drawer\n        class=\"sidenav\"\n        [mode]=\"isDesktop ? 'side' : 'over'\"\n        [opened]=\"openMenu\"\n      >\n        <app-document-filter\n          (filters)=\"getFilters($event)\"\n          (resetAll)=\"resetAll()\"\n          (closeMenu)=\"drawer.close()\"\n          [isDesktop]=\"isDesktop\"\n        ></app-document-filter>\n      </mat-drawer>\n      <!-- /contenido de filtros -->\n      <!-- filtros boton -->\n      <ion-item *ngIf=\"!isDesktop\" lines=\"none\">\n        <ion-button\n          (click)=\"drawer.toggle()\"\n          slot=\"end\"\n          color=\"secondary\"\n          fill=\"outline\"\n        >\n          <ion-icon name=\"funnel\"></ion-icon>Filtros({{ numOfFilters }})\n        </ion-button>\n      </ion-item>\n      <ion-item *ngIf=\"isDesktop\" lines=\"none\">\n        <ion-button\n          (click)=\"drawer.toggle()\"\n          slot=\"end\"\n          color=\"secondary\"\n          fill=\"outline\"\n        >\n          <ion-icon name=\"funnel\"></ion-icon>Filtros\n          {{ (drawer.openedChange | async) ? 'cerrar' : 'abrir' }}\n        </ion-button>\n      </ion-item>\n\n      <!-- /filtros boton -->\n\n      <!-- Table -->\n      <h2>Tabla de Usuarios</h2>\n      <app-general-table\n        [columns]=\"columns\"\n        [rows]=\"rows\"\n        [isDesktop]=\"isDesktop\"\n        (editButton)=\"edit($event)\"\n        (deletedButton)=\"presentAlertConfirm($event)\"\n        (checkbox)=\"userSelect($event)\"\n        [showChips]=\"true\"\n        [showLoader]=\"showLoader\"\n      >\n      </app-general-table>\n      <!-- /Table -->\n    </mat-drawer-container>\n  </ng-template>\n  <!-- /contenido -->\n\n  <!-- Skeleton -->\n  <ng-template #noLoad>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n</ion-content>\n<!-- fab placed to the bottom end -->\n<ion-fab vertical=\"bottom\" horizontal=\"start\" slot=\"fixed\">\n  <ion-fab-button\n    [disabled]=\"!selectedUsers || selectedUsers.length === 0\"\n    (click)=\"setEmail()\"\n    *ngIf=\"isLoading\"\n    color=\"secondary\"\n  >\n    <ion-icon name=\"mail\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>\n"

/***/ }),

/***/ "./src/app/components/documents/documents.component.scss":
/*!***************************************************************!*\
  !*** ./src/app/components/documents/documents.component.scss ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n\n.label {\n  color: white;\n  padding: 8px; }\n\n.success {\n  background-color: #4CAF50; }\n\n/* Green */\n\n.info {\n  background-color: #2196F3; }\n\n/* Blue */\n\n.warning {\n  background-color: #ff9800; }\n\n/* Orange */\n\n.danger {\n  background-color: #f44336; }\n\n/* Red */\n\n.other {\n  background-color: #e7e7e7;\n  color: black; }\n\n/* Gray */\n"

/***/ }),

/***/ "./src/app/components/documents/documents.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/components/documents/documents.component.ts ***!
  \*************************************************************/
/*! exports provided: DocumentsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentsComponent", function() { return DocumentsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_seller_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/seller.service */ "./src/app/services/seller.service.ts");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _services_adviser_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/adviser.service */ "./src/app/services/adviser.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var _general_dialog_general_dialog_general_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../general/dialog-general/dialog-general.component */ "./src/app/components/general/dialog-general/dialog-general.component.ts");
/* harmony import */ var _services_mail_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/mail.service */ "./src/app/services/mail.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var DocumentsComponent = /** @class */ (function () {
    function DocumentsComponent(adviserService, buyerService, sellerService, platform, router, alertController, toastController, navCtr, route, dialog, mailService, loadingController) {
        this.adviserService = adviserService;
        this.buyerService = buyerService;
        this.sellerService = sellerService;
        this.platform = platform;
        this.router = router;
        this.alertController = alertController;
        this.toastController = toastController;
        this.navCtr = navCtr;
        this.route = route;
        this.dialog = dialog;
        this.mailService = mailService;
        this.loadingController = loadingController;
        this.isLoading = false;
        this.rows = [];
        this.isDesktop = false;
        // numofFilters
        this.numOfFilters = 0;
        this.allUsers = [];
        this.selectedUsers = [];
        this.isDesktop = platform.is('desktop');
        if (this.isDesktop) {
            this.openMenu = true;
        }
        else {
            this.openMenu = false;
        }
    }
    DocumentsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['res']) {
                _this.presentToast(params['res']);
            }
        });
        this.columns = [
            {
                name: '',
                prop: 'checkBox',
                type: 'checkBox',
                disabledSort: true
            },
            {
                name: 'Nombre',
                prop: 'name',
                type: 'normal'
            },
            {
                name: 'Apellido',
                prop: 'lastName',
                type: 'normal'
            },
            {
                name: 'Email',
                prop: 'email',
                type: 'normal'
            },
            {
                name: 'Fecha Alta',
                prop: 'timestamp',
                type: 'date'
            },
            {
                name: 'Tipo Usuario',
                prop: 'type',
                type: 'tags'
            },
            {
                name: 'Estado',
                prop: 'properties',
                type: 'status'
            }
        ];
        this.getAllUsers();
    };
    DocumentsComponent.prototype.getAllUsers = function () {
        return __awaiter(this, void 0, void 0, function () {
            var arrBuyer, arrAdv, arrSeller;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.showLoader = true;
                        this.numOfFilters = 0;
                        return [4 /*yield*/, this.buyerService.getBuyerAll().toPromise()];
                    case 1:
                        arrBuyer = _a.sent();
                        return [4 /*yield*/, this.adviserService.getAdviserAll().toPromise()];
                    case 2:
                        arrAdv = _a.sent();
                        return [4 /*yield*/, this.sellerService.getSellerAll().toPromise()];
                    case 3:
                        arrSeller = _a.sent();
                        arrBuyer.map(function (b) { return (b['typeOfUser'] = 'buyer'); });
                        arrAdv.map(function (b) { return (b['typeOfUser'] = 'adviser'); });
                        arrSeller.map(function (b) { return (b['typeOfUser'] = 'seller'); });
                        this.allUsers = arrBuyer.concat(arrAdv, arrSeller);
                        this.setRows(this.allUsers);
                        return [2 /*return*/];
                }
            });
        });
    };
    DocumentsComponent.prototype.setRows = function (allUsers) {
        return __awaiter(this, void 0, void 0, function () {
            var rows;
            return __generator(this, function (_a) {
                rows = [];
                allUsers.forEach(function (user, i) {
                    var properties = [];
                    var type = {};
                    if (user.typeOfUser === 'buyer') {
                        user['lastName'] = user.fatherLastName;
                        type = {
                            name: 'Consumidor',
                            style: 'buyer'
                        };
                        // propiedades
                        if (user.statusBuyerProperty && user.statusBuyerProperty.length > 0) {
                            user.statusBuyerProperty.forEach(function (sBP) {
                                properties.push({
                                    name: sBP.property.name,
                                    status: sBP.status
                                });
                            });
                        }
                        else {
                            properties.push({
                                name: 'Sin interés',
                                status: 'gris'
                            });
                        }
                    }
                    else if (user.typeOfUser === 'adviser') {
                        type = {
                            name: 'Asesor',
                            style: 'adviser'
                        };
                    }
                    else if (user.typeOfUser === 'seller') {
                        type = {
                            name: 'Dueño',
                            style: 'seller'
                        };
                    }
                    rows.push({
                        _id: user._id,
                        name: user.name,
                        lastName: user.lastName,
                        timestamp: user.timestamp,
                        email: user.email,
                        phone: user.phone ? user.phone : '',
                        type: type,
                        properties: properties,
                        checkBox: false,
                        nameChip: user.name
                    });
                });
                this.rows = rows;
                this.isLoading = true;
                this.showLoader = false;
                return [2 /*return*/];
            });
        });
    };
    DocumentsComponent.prototype.userSelect = function (event) {
        var index = this.selectedUsers.findIndex(function (u) { return u._id === event.row._id; });
        if (event.isChecked) {
            if (index === -1) {
                this.selectedUsers.push(event.row);
            }
        }
        else {
            if (index !== -1) {
                this.selectedUsers.splice(index, 1);
            }
        }
    };
    DocumentsComponent.prototype.newBuyer = function () {
        var data = {
            queryParams: { id: 'new' }
        };
        this.router.navigate(['new-edit-adviser']);
    };
    DocumentsComponent.prototype.edit = function (item) {
        var data = {
            queryParams: { id: item._id }
        };
        this.router.navigate(['new-edit-adviser'], data);
        // this.navCtr.navigateRoot('new-buyer', false, data);
    };
    DocumentsComponent.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    DocumentsComponent.prototype.presentLoadingWithOptions = function () {
        return __awaiter(this, void 0, void 0, function () {
            var loading;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create({
                            message: 'Enviando...',
                            translucent: true
                        })];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    DocumentsComponent.prototype.getFilters = function (filters) {
        var advFinded = this.allUsers.filter(function (user) {
            if (filters.isBuyer) {
                if (user.typeOfUser === 'buyer') {
                    return true;
                }
            }
            if (filters.isAdviser) {
                if (user.typeOfUser === 'adviser') {
                    return true;
                }
            }
            if (filters.isSeller) {
                if (user.typeOfUser === 'seller') {
                    return true;
                }
            }
            if (!filters.isBuyer &&
                !filters.isAdviser &&
                !filters.isSeller &&
                !filters.status) {
                return true;
            }
            if (filters.status !== undefined) {
                if (user.statusBuyerProperty && user.statusBuyerProperty.length > 0) {
                    var isfinded = user.statusBuyerProperty.some(function (p) { return p.status === filters.status; });
                    if (isfinded) {
                        return true;
                    }
                }
                else if (user.statusBuyerProperty &&
                    user.statusBuyerProperty.length === 0) {
                    if (filters.status === 'gris') {
                        return true;
                    }
                }
            }
        });
        //  setea buyers
        this.setRows(advFinded);
        // num filters
        var numFilters = 0;
        if (filters.isBuyer) {
            numFilters++;
        }
        if (filters.isAdviser) {
            numFilters++;
        }
        if (filters.isSeller) {
            numFilters++;
        }
        if (filters.status) {
            numFilters++;
        }
        this.numOfFilters = numFilters;
    };
    DocumentsComponent.prototype.resetAll = function () {
        this.getAllUsers();
    };
    DocumentsComponent.prototype.setEmail = function (n) {
        return __awaiter(this, void 0, void 0, function () {
            var dialogRef, sub;
            var _this = this;
            return __generator(this, function (_a) {
                dialogRef = this.dialog.open(_general_dialog_general_dialog_general_component__WEBPACK_IMPORTED_MODULE_7__["DialogGeneralComponent"], {
                    data: {
                        header: 'Documentos',
                        subHeader: "Seleccione documentos a adjuntar",
                        isform: false,
                        hasFileInput: true,
                        okButton: 'Siguiente'
                    }
                });
                sub = dialogRef.componentInstance.buttons.subscribe(function (res) {
                    if (res.button) {
                        _this.sendEmail(res.formData);
                    }
                });
                return [2 /*return*/];
            });
        });
    };
    DocumentsComponent.prototype.sendEmail = function (formData) {
        var _this = this;
        var arr = Array.from(formData.getAll('file'));
        var dialogRef = this.dialog.open(_general_dialog_general_dialog_general_component__WEBPACK_IMPORTED_MODULE_7__["DialogGeneralComponent"], {
            data: {
                header: 'Mensaje',
                subHeader: "Escriba un mensaje a los destinatarios",
                body: "<p>\u26A0\uFE0F Se enviar\u00E1n " + arr.length + " archivos a " + this.selectedUsers.length + " usuarios</p>",
                isform: true,
                formLabel: 'Mensaje',
                okButton: 'Enviar'
            }
        });
        var sub = dialogRef.componentInstance.buttons.subscribe(function (res) { return __awaiter(_this, void 0, void 0, function () {
            var load, isSend;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!res.button) return [3 /*break*/, 3];
                        formData.append('msg', res.inputValue);
                        formData.append('mails', this.selectedUsers.map(function (u) { return u.email; }).toString());
                        console.log(formData.getAll('mails'));
                        console.log(formData.getAll('msg'));
                        console.log(formData.getAll('file'));
                        return [4 /*yield*/, this.presentLoadingWithOptions()];
                    case 1:
                        load = _a.sent();
                        load.present();
                        return [4 /*yield*/, this.mailService.sendFiles(formData).toPromise()];
                    case 2:
                        isSend = _a.sent();
                        if (isSend) {
                            load.dismiss();
                            this.presentToast('Correo enviado');
                        }
                        else {
                            load.dismiss();
                            this.presentToast('Error, no se pudo enviar');
                        }
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        }); });
    };
    DocumentsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-documents',
            template: __webpack_require__(/*! ./documents.component.html */ "./src/app/components/documents/documents.component.html"),
            styles: [__webpack_require__(/*! ./documents.component.scss */ "./src/app/components/documents/documents.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_adviser_service__WEBPACK_IMPORTED_MODULE_5__["AdviserService"],
            _services_buyer_service__WEBPACK_IMPORTED_MODULE_4__["BuyerService"],
            _services_seller_service__WEBPACK_IMPORTED_MODULE_3__["SellerService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialog"],
            _services_mail_service__WEBPACK_IMPORTED_MODULE_8__["MailService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["LoadingController"]])
    ], DocumentsComponent);
    return DocumentsComponent;
}());



/***/ }),

/***/ "./src/app/components/general/calendar-specific/calendar-specific.component.html":
/*!***************************************************************************************!*\
  !*** ./src/app/components/general/calendar-specific/calendar-specific.component.html ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ng-container *ngIf=\"isWeek; then thenTemplate; else elseTemplate\"></ng-container>\n<ng-template #thenTemplate>\n  <table>\n    <thead>\n      <tr>\n        <th style=\"width: 41px;\">\n        </th>\n        <th [ngClass]=\"{'current-day': currenDate === getDays2(0)}\" class=\"day-past\">\n          <span>\n            Dom {{getDays(0)}}\n          </span>\n        </th>\n        <th [ngClass]=\"{'current-day': currenDate === getDays2(1)}\" class=\"day-past\">\n          <span>\n            Lun {{getDays(1)}}\n          </span>\n        </th>\n        <th [ngClass]=\"{'current-day': currenDate === getDays2(2)}\" class=\"day-past\">\n          <span>\n            Mart {{getDays(2)}}\n          </span>\n        </th>\n        <th [ngClass]=\"{'current-day': currenDate === getDays2(3)}\" class=\"day-past\">\n          <span>\n            Mier {{getDays(3)}}\n          </span>\n        </th>\n        <th [ngClass]=\"{'current-day': currenDate === getDays2(4)}\" class=\"day-past\">\n          <span>\n            Jue {{getDays(4)}}\n          </span>\n        </th>\n        <th [ngClass]=\"{'current-day': currenDate === getDays2(5)}\" class=\"day-past\">\n          <span>\n            Vie {{getDays(5)}}\n          </span>\n        </th>\n        <th [ngClass]=\"{'current-day': currenDate === getDays2(6)}\" class=\"day-past\">\n          <span>\n            Sab {{getDays(6)}}\n          </span>\n        </th>\n      </tr>\n    </thead>\n  </table>\n\n  <table id=\"myTable\">\n\n    <tbody>\n      <tr *ngFor=\"let rowHour of hoursOfDay \" [hidden]=\"showRow !== rowHour.hr &&  rowHour.str === ' ' \">\n\n        <td style=\"width: 41px;\">\n          {{rowHour.str}}\n        </td>\n        <!-- Domigo 0, todos los dias -->\n        <td [hidden]=\"rowHour.str === ' '\" class=\"hour-table\" *ngFor=\"let numOfDay of numOfdays\" [ngClass]=\"{'event': getScheduleEvents(rowHour.hr, numOfDay).length > 0,\n           'event-select': showRow === rowHour.hr && elevationCol === numOfDay && getScheduleEvents(rowHour.hr, numOfDay).length > 0}\"\n          (click)=\"showTd(getScheduleEvents(rowHour.hr, numOfDay), rowHour.hr, numOfDay); elevationCol = numOfDay\">\n          <span *ngIf=\"getScheduleEvents(rowHour.hr, numOfDay).length > 0\">\n            {{getScheduleEvents(rowHour.hr, numOfDay).length}} {{getScheduleEvents(rowHour.hr, numOfDay).length === 1\n            ?\n            'Cita' :\n            'Citas'}}\n          </span>\n        </td>\n        <td colspan=\"7\" *ngIf=\"showRow === rowHour.hr &&  rowHour.str === ' ' \" class=\"open-day-event\">\n          <div class=\"close-events\">\n            <button mat-raised-button color=\"warn\" (click)=\"showRow = undefined\">Cerrar</button>\n          </div>\n          <div class=\"card-open\" *ngFor=\"let s of schedulesShow\">\n            <span class=\"status-point\" [ngClass]=\"\n            {'background-verde': s.status === 'verde', \n           'background-amarillo':  s.status === 'amarillo',\n           'background-rojo':  s.status === 'rojo',\n           'background-gris': s.status === 'gris',\n           'background-azul':  s.status === 'azul' }\"></span>\n            <p *ngIf=\"!s.administrator && !s.personal\"> {{s.buyer.name}} en {{s.property.name}}</p>\n            <p *ngIf=\"s.administrator || s.personal\"> Evento Personal</p>\n            <p style=\"margin-left: 1%\"> <small>{{formatDate(s.year,s.month,s.day,s.hour,s.minute)}}</small></p>\n            <div style=\"margin-left: 58%;\">\n              <ion-item lines=\"none\">\n                <ion-button *ngIf=\"!s.administrator && !s.personal\" (click)=\"editEvent.emit(s._id)\" color=\"success\"\n                  fill=\"outline\" slot=\"end\">\n                  <ion-icon name=\"create\"></ion-icon>\n                </ion-button>\n                <ion-button *ngIf=\"s.administrator || s.personal \" (click)=\"editPersonalEvent.emit(s._id)\" color=\"success\"\n                  fill=\"outline\" slot=\"end\">\n                  <ion-icon name=\"create\"></ion-icon>\n                </ion-button>\n                <ion-button (click)=\"deletedEvent.emit(s._id)\" color=\"danger\" fill=\"outline\" slot=\"end\">\n                  <ion-icon name=\"trash\"></ion-icon>\n                </ion-button>\n              </ion-item>\n            </div>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n\n  </table>\n\n</ng-template>\n<ng-template #elseTemplate>\n  <!-- day -->\n  <table>\n    <thead>\n      <tr>\n        <th style=\"width: 41px;\">\n        </th>\n        <th class=\"day-past\">\n          <span>\n            {{formatDate2(currentWeek)}} <small>Citas: {{getScheduleEventsByDay(currentWeek.getDay()).length}}</small>\n          </span>\n        </th>\n\n      </tr>\n    </thead>\n  </table>\n  <table>\n    <tbody>\n      <tr *ngFor=\"let rowHour of hoursOfDay \" [hidden]=\"rowHour.str === ' '\">\n        <td style=\"width: 41px;\">\n          {{rowHour.str}}\n        </td>\n        <td class=\"hour-table\" (click)=\"goToNew(rowHour,currentWeek)\">\n          <span *ngIf=\"getScheduleEvents(rowHour.hr, currentWeek.getDay()).length > 0\">\n            <!--  {{getScheduleEvents(rowHour.hr, currentWeek.getDay()).length}} {{getScheduleEvents(rowHour.hr,\n            currentWeek.getDay()).length === 1\n            ?\n            'Cita' :\n            'Citas'}} -->\n            <!-- Eventos -->\n            <mat-accordion *ngFor=\"let item of getScheduleEvents(rowHour.hr, currentWeek.getDay())\" style=\"margin-bottom: 1%\">\n              <mat-expansion-panel [ngClass]=\"{'state-verde': item.status === 'verde', \n                  'state-amarillo':  item.status === 'amarillo',\n                  'state-rojo':  item.status === 'rojo',\n                  'state-gris': item.status === 'gris',\n                  'state-azul':  item.status === 'azul' }\"\n                style=\"margin-bottom: 1%\">\n                <mat-expansion-panel-header>\n                  <mat-panel-title>\n                    <b>{{formatState(item.status)}}</b>\n                  </mat-panel-title>\n                  <mat-panel-description *ngIf=\" !item.administrator && !item.personal \">\n                    {{item.buyer.name}} {{item.adviser ? 'con ' + item.adviser.name : ''}}\n                  </mat-panel-description>\n                  <mat-panel-description *ngIf=\"item.administrator || item.personal \">\n                    {{item.title}}\n                  </mat-panel-description>\n                </mat-expansion-panel-header>\n                <!-- listado -->\n                <ion-list lines=\"none\">\n                  <ion-item lines=\"none\" *ngIf=\"item.buyer\">\n                    <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"contact\"></ion-icon>\n                    <ion-label slot=\"start\" text-wrap>\n                      <p><b>Cliente:</b> </p>\n                      <p>{{item.buyer.name}}</p>\n                    </ion-label>\n                  </ion-item>\n                  <ion-item lines=\"none\" *ngIf=\"item.adviser\">\n                    <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"contact\"></ion-icon>\n                    <ion-label slot=\"start\" text-wrap>\n                      <p><b>Asesor:</b> </p>\n                      <p>{{item.adviser.name}}</p>\n                    </ion-label>\n                  </ion-item>\n                  <ion-item lines=\"none\" *ngIf=\"item.seller\">\n                    <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"contact\"></ion-icon>\n                    <ion-label slot=\"start\" text-wrap>\n                      <p><b>Propietario:</b> </p>\n                      <p>{{item.seller.name}}</p>\n                    </ion-label>\n                  </ion-item>\n                  <ion-item lines=\"none\" *ngIf=\"item.property\">\n                    <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"home\"></ion-icon>\n                    <ion-label slot=\"start\" text-wrap>\n                      <p><b>Propiedad:</b> </p>\n                      <p>{{item.property.name}}</p>\n                    </ion-label>\n                  </ion-item>\n                  <ion-item lines=\"none\" *ngIf=\"item.address\">\n                    <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"pin\"></ion-icon>\n                    <ion-label slot=\"start\" text-wrap>\n                      <p><b>Lugar:</b> </p>\n                      <p>{{item.address}}</p>\n                      <!-- <a [href]=\"'http://maps.google.com/?q='+item.address+', Puebla'\">Ver mapa</a> -->\n                      <!-- <a (click)=\"openMaps(item.address)\">Ver mapa</a> -->\n                      <app-maps-button slot=\"end\" [address]=\"item.address\"></app-maps-button>\n\n                    </ion-label>\n                  </ion-item>\n                  <ion-item lines=\"none\" *ngIf=\"item.day\">\n                    <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"calendar\"></ion-icon>\n                    <ion-label slot=\"start\" text-wrap>\n                      <p><b>Fecha del Evento:</b> </p>\n                      <p>{{item.day}}/{{item.month + 1}}/{{item.year}}</p>\n                    </ion-label>\n                  </ion-item>\n                  <ion-item lines=\"none\" *ngIf=\"item.day\">\n                    <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"time\"></ion-icon>\n                    <ion-label slot=\"start\" text-wrap>\n                      <p><b>Hora del Evento:</b> </p>\n                      <p>{{formatHours(item.hour,item.minute)}}</p>\n                    </ion-label>\n                  </ion-item>\n                  <!-- <ion-item lines=\"none\" *ngIf=\"item.status\">\n                            <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"cash\"></ion-icon>\n                            <ion-label slot=\"start\" text-wrap>\n                              <p><b>Estado:</b> </p>\n                              <p *ngIf=\"item.status === 'gris'\">Cita Generada</p>\n                              <p *ngIf=\"item.status === 'verde'\">Propuesta Cita</p>\n                              <p *ngIf=\"item.status === 'amarillo'\">Esperando Visita</p>\n                              <p *ngIf=\"item.status === 'rojo'\">Visitada</p>\n                            </ion-label>\n                          </ion-item> -->\n                  <ion-item *ngIf=\"item.note\" lines=\"none\">\n                    <ion-icon slot=\"start\" class=\"color-item-secondary\" name=\"clipboard\"></ion-icon>\n                    <ion-label slot=\"start\" text-wrap>\n                      <p><b>Notas:</b> </p>\n                      <p>{{item.note}}</p>\n                    </ion-label>\n                  </ion-item>\n                  <ion-item *ngIf=\"item.scoreByAdviser\" lines=\"none\">\n                    <ion-chip [ngClass]=\"\n                              {\n                              'background-verde': item.scoreByAdviser === 'verde', \n                              'background-amarillo':  item.scoreByAdviser === 'amarillo',\n                              'background-rojo':  item.scoreByAdviser === 'rojo',\n                              'background-gris': item.scoreByAdviser === 'gris',\n                              'background-azul':  item.scoreByAdviser === 'azul'\n                            }\">\n                      <ion-chip-icon class=\"icon-chip-detail\" name=\"eye\"></ion-chip-icon>\n                      <ion-label *ngIf=\"item.scoreByAdviser ===  'verde'\">Poco interés</ion-label>\n                      <ion-label *ngIf=\"item.scoreByAdviser ===  'amarillo'\">Oportunidad de venta</ion-label>\n                      <ion-label *ngIf=\"item.scoreByAdviser ===  'rojo'\">Venta muy probable</ion-label>\n                      <ion-label *ngIf=\"item.scoreByAdviser ===  'gris'\">No hay interés</ion-label>\n                      <ion-label *ngIf=\"item.scoreByAdviser ===  'azul'\">Muy bien</ion-label>\n                    </ion-chip>\n                  </ion-item>\n                  <ion-item lines=\"none\">\n                    <!-- <ion-button *ngIf=\"!item.administrator && !item.personal && user.type === 'adviser' && item.status === 'amarillo' && comparateDate(item.year, item.month, item.day) \"\n                      (click)=\"presentAlertVisit(item)\" color=\"warning\" fill=\"outline\" slot=\"end\">\n                      Calificar <ion-icon name=\"clipboard\"></ion-icon>\n                    </ion-button> -->\n                    <ion-button *ngIf=\"!item.administrator && !item.personal\" (click)=\"editEvent.emit(item._id)\" color=\"success\"\n                      fill=\"outline\" slot=\"end\">\n                      Editar <ion-icon name=\"create\"></ion-icon>\n                    </ion-button>\n                    <ion-button *ngIf=\"item.administrator || item.personal \" (click)=\"editPersonalEvent.emit(item._id)\"\n                      color=\"success\" fill=\"outline\" slot=\"end\">\n                      Editar <ion-icon name=\"create\"></ion-icon>\n                    </ion-button>\n                    <ion-button (click)=\"deletedEvent.emit(item._id)\" color=\"danger\" fill=\"outline\" slot=\"end\">\n                      Borrar <ion-icon name=\"trash\"></ion-icon>\n                    </ion-button>\n\n                  </ion-item>\n                </ion-list>\n                <!-- /listado -->\n\n\n              </mat-expansion-panel>\n            </mat-accordion>\n            <!-- /eventos -->\n          </span>\n\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</ng-template>\n<br>\n<!-- fab placed to the bottom end -->\n<ion-fab class=\"fix-add\" vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n  <ion-fab-button (click)=\"newEvent.emit()\" color=\"secondary\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>"

/***/ }),

/***/ "./src/app/components/general/calendar-specific/calendar-specific.component.scss":
/*!***************************************************************************************!*\
  !*** ./src/app/components/general/calendar-specific/calendar-specific.component.scss ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".day-past {\n  border: 1px solid #DDD;\n  text-align: left;\n  font-weight: 500;\n  padding: .8rem;\n  vertical-align: top; }\n\n.hour-table {\n  height: 5rem;\n  border: 1px solid #DDD;\n  background-color: #fafafa; }\n\nthead {\n  display: table-header-group;\n  vertical-align: middle;\n  border-color: inherit; }\n\ntable {\n  width: 100%;\n  box-sizing: border-box;\n  table-layout: fixed;\n  border-collapse: collapse;\n  border-spacing: 0;\n  font-size: 1em; }\n\ntd:hover {\n  background-color: #f5f5f5; }\n\n.event {\n  background-color: #3a87ad;\n  color: white;\n  text-align: center; }\n\n.event:hover {\n  background-color: #016394 !important; }\n\n.current-day {\n  background-color: #cdcdce !important; }\n\n.open-day-event {\n  background-color: #039be5;\n  height: 120px; }\n\n.open-day-event:hover {\n  background-color: #039be5; }\n\n.event-select {\n  background-color: #016394 !important;\n  box-shadow: 0 5px 6px -3px rgba(0, 0, 0, 0.2), 0 9px 12px 1px rgba(0, 0, 0, 0.14), 0 3px 16px 2px rgba(0, 0, 0, 0.12); }\n\n.card-open {\n  padding-left: 16px;\n  margin: 8px 16px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: start;\n  box-shadow: 0 2px 1px -1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  transition: box-shadow .3s ease;\n  background-color: #fff;\n  height: 40px; }\n\n.status-point {\n  touch-action: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-user-drag: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  display: inline-block;\n  margin: 2px; }\n\n.close-events {\n  text-align: right;\n  margin-right: 2%; }\n\n.fix-add {\n  position: fixed;\n  text-align: right;\n  bottom: 6px;\n  right: 6px; }\n\n@media (max-width: 900px) {\n  .day-past {\n    text-align: center;\n    font-weight: 500;\n    padding: 0rem;\n    vertical-align: top;\n    font-size: small; }\n  .card-open {\n    padding: 1% 7% 1% 6%;\n    margin: 8px 16px;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: start;\n    box-shadow: 0 2px 1px -1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n    transition: box-shadow .3s ease;\n    background-color: #fff;\n    height: unset; } }\n"

/***/ }),

/***/ "./src/app/components/general/calendar-specific/calendar-specific.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/components/general/calendar-specific/calendar-specific.component.ts ***!
  \*************************************************************************************/
/*! exports provided: CalendarSpecificComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalendarSpecificComponent", function() { return CalendarSpecificComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var CalendarSpecificComponent = /** @class */ (function () {
    function CalendarSpecificComponent() {
        this.numOfdays = [0, 1, 2, 3, 4, 5, 6];
        this.hoursOfDay = [
            { str: '6am', hr: 6 },
            { str: ' ', hr: 6 },
            { str: '7am', hr: 7 },
            { str: ' ', hr: 7 },
            { str: '8am', hr: 8 },
            { str: ' ', hr: 8 },
            { str: '9am', hr: 9 },
            { str: ' ', hr: 9 },
            { str: '10am', hr: 10 },
            { str: ' ', hr: 10 },
            { str: '11am', hr: 11 },
            { str: ' ', hr: 11 },
            { str: '12pm', hr: 12 },
            { str: ' ', hr: 12 },
            { str: '1pm', hr: 13 },
            { str: ' ', hr: 13 },
            { str: '2pm', hr: 14 },
            { str: ' ', hr: 14 },
            { str: '3pm', hr: 15 },
            { str: ' ', hr: 15 },
            { str: '4pm', hr: 16 },
            { str: ' ', hr: 16 },
            { str: '5pm', hr: 17 },
            { str: ' ', hr: 17 },
            { str: '6pm', hr: 18 },
            { str: ' ', hr: 18 },
            { str: '7pm', hr: 19 },
            { str: ' ', hr: 19 },
            { str: '8pm', hr: 20 },
            { str: ' ', hr: 20 },
            { str: '9pm', hr: 21 },
            { str: ' ', hr: 21 },
            { str: '10pm', hr: 22 },
            { str: ' ', hr: 22 },
            { str: '11pm', hr: 23 },
            { str: ' ', hr: 23 },
            { str: '12am', hr: 24 },
            { str: ' ', hr: 24 },
            { str: '1am', hr: 1 },
            { str: ' ', hr: 1 },
            { str: '2am', hr: 2 },
            { str: ' ', hr: 2 },
            { str: '3am', hr: 3 },
            { str: ' ', hr: 3 },
            { str: '4am', hr: 4 },
            { str: ' ', hr: 4 },
            { str: '5am', hr: 5 },
            { str: ' ', hr: 5 }
        ];
        this.nameDays = [
            'Domingo',
            'Lunes',
            'Martes',
            'Miércoles',
            'Jueves',
            'Viernes',
            'Sábado'
        ];
        this.isWeek = true;
        this.schedules = [];
        this.currentWeek = new Date();
        this.currenDate = new Date().getDate();
        this.editEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.newEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.editPersonalEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.deletedEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.titleNavBar = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    CalendarSpecificComponent.prototype.addWeek = function () {
        if (this.isWeek) {
            this.currentWeek = new Date(this.currentWeek.getTime() + 7 * 86400000);
        }
        else {
            this.currentWeek = new Date(this.currentWeek.getTime() + 1 * 86400000);
        }
        this.titleNavBar.emit(this.currentWeek);
        this.showRow = undefined;
    };
    CalendarSpecificComponent.prototype.removeWeek = function () {
        if (this.isWeek) {
            this.currentWeek = new Date(this.currentWeek.getTime() - 7 * 86400000);
        }
        else {
            this.currentWeek = new Date(this.currentWeek.getTime() - 1 * 86400000);
        }
        this.titleNavBar.emit(this.currentWeek);
        this.showRow = undefined;
    };
    CalendarSpecificComponent.prototype.ngOnInit = function () { };
    CalendarSpecificComponent.prototype.ngOnChanges = function (changes) {
        if (changes.add) {
            if (changes.add.currentValue) {
                this.addWeek();
            }
        }
        if (changes.remove) {
            if (changes.remove.currentValue) {
                this.removeWeek();
            }
        }
        if (changes.currentWeek) {
            if (changes.currentWeek.currentValue) {
                this.currentWeek = changes.currentWeek.currentValue;
            }
        }
    };
    CalendarSpecificComponent.prototype.getDays = function (numDay) {
        var currentDay = this.currentWeek.getDay();
        var diffDay = numDay - currentDay;
        var d = new Date(this.currentWeek.getTime() + diffDay * 86400000);
        return d.getMonth() + 1 + " / " + d.getDate() + " ";
    };
    CalendarSpecificComponent.prototype.getDays2 = function (numDay) {
        var currentDay = this.currentWeek.getDay();
        var diffDay = numDay - currentDay;
        var d = new Date(this.currentWeek.getTime() + diffDay * 86400000);
        return d.getDate();
    };
    CalendarSpecificComponent.prototype.getScheduleEvents = function (hour, numDay) {
        var _this = this;
        var date = this.getDays2(numDay);
        var events = this.schedules.filter(function (s) {
            return s.day === date &&
                s.month === _this.currentWeek.getMonth() &&
                s.year === _this.currentWeek.getFullYear() &&
                s.hour === hour;
        });
        return events;
    };
    CalendarSpecificComponent.prototype.getScheduleEventsByDay = function (numDay) {
        var _this = this;
        var date = this.getDays2(numDay);
        var events = this.schedules.filter(function (s) {
            return s.day === date &&
                s.month === _this.currentWeek.getMonth() &&
                s.year === _this.currentWeek.getFullYear();
        });
        return events;
    };
    CalendarSpecificComponent.prototype.showTd = function (schedules, hrRow, numOfdays) {
        //  insertNewRow
        if (schedules.length > 0) {
            this.showRow = hrRow;
            this.schedulesShow = schedules;
        }
        else {
            this.newEvent.emit({
                day: this.getDays2(numOfdays),
                month: this.currentWeek.getMonth(),
                year: this.currentWeek.getFullYear(),
                hour: hrRow
            });
        }
    };
    // _helpers
    CalendarSpecificComponent.prototype.formatDate = function (y, m, d, hr, min) {
        return " " + Object(_config_helpers__WEBPACK_IMPORTED_MODULE_1__["FormatDatesFront"])(new Date(y, m, d)) + " a las " + Object(_config_helpers__WEBPACK_IMPORTED_MODULE_1__["FormatHoursFront"])(hr, min) + " ";
    };
    CalendarSpecificComponent.prototype.formatDate2 = function (date) {
        return this.nameDays[date.getDay()] + " " + Object(_config_helpers__WEBPACK_IMPORTED_MODULE_1__["FormatDatesFront"])(date);
    };
    CalendarSpecificComponent.prototype.formatState = function (state) {
        if (state === 'verde') {
            return 'En espera de confirmación';
        }
        else if (state === 'amarillo') {
            return 'Confirmada en espera de asistencia';
        }
        else if (state === 'rojo') {
            return 'Cita pasada';
        }
        else if (state === 'azul') {
        }
        else if (state === undefined) {
            return 'Evento Personal';
        }
        else if (state === 'gris') {
            return 'Solicitud de Cita';
        }
    };
    CalendarSpecificComponent.prototype.formatHours = function (hours, minutes) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_1__["FormatHoursFront"])(hours, minutes);
    };
    CalendarSpecificComponent.prototype.goToNew = function (rowHour, currentWeek) {
        console.log('gottoo');
        var isGo = this.getScheduleEvents(rowHour.hr, currentWeek.getDay()).length === 0;
        if (isGo) {
            this.newEvent.emit({
                day: currentWeek.getDate(),
                month: this.currentWeek.getMonth(),
                year: this.currentWeek.getFullYear(),
                hour: rowHour.hr
            });
        }
    };
    CalendarSpecificComponent.prototype.openMaps = function (schedule) {
        Object(_config_helpers__WEBPACK_IMPORTED_MODULE_1__["OpenGoogleMaps"])(schedule);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], CalendarSpecificComponent.prototype, "isWeek", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], CalendarSpecificComponent.prototype, "add", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], CalendarSpecificComponent.prototype, "remove", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], CalendarSpecificComponent.prototype, "schedules", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], CalendarSpecificComponent.prototype, "currentWeek", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], CalendarSpecificComponent.prototype, "editEvent", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], CalendarSpecificComponent.prototype, "newEvent", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], CalendarSpecificComponent.prototype, "editPersonalEvent", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], CalendarSpecificComponent.prototype, "deletedEvent", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], CalendarSpecificComponent.prototype, "titleNavBar", void 0);
    CalendarSpecificComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-calendar-specific',
            template: __webpack_require__(/*! ./calendar-specific.component.html */ "./src/app/components/general/calendar-specific/calendar-specific.component.html"),
            styles: [__webpack_require__(/*! ./calendar-specific.component.scss */ "./src/app/components/general/calendar-specific/calendar-specific.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], CalendarSpecificComponent);
    return CalendarSpecificComponent;
}());



/***/ }),

/***/ "./src/app/components/general/dialog-general/dialog-general.component.html":
/*!*********************************************************************************!*\
  !*** ./src/app/components/general/dialog-general/dialog-general.component.html ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h2 mat-dialog-title>{{ dataInput.header }}</h2>\n<h3 mat-dialog-title>{{ dataInput.subHeader }}</h3>\n<mat-dialog-content>\n  <span *ngIf=\"dataInput.body\" [innerHTML]=\"dataInput.body\"></span>\n  <span *ngIf=\"dataInput.isform\">\n    <mat-form-field appearance=\"outline\">\n      <mat-label>{{ dataInput.formLabel }}</mat-label>\n      <input [(ngModel)]=\"inputValue\" matInput placeholder=\"\" />\n    </mat-form-field>\n  </span>\n  <span *ngIf=\"dataInput.hasFileInput\">\n    <input\n      id=\"file1\"\n      name=\"file1\"\n      type=\"file\"\n      hidden\n      multiple\n      (change)=\"fileChangeEvent($event)\"\n    />\n    <button (click)=\"link()\" mat-stroked-button color=\"accent\">\n      Seleccionar <i class=\"material-icons\"> folder_open </i>\n    </button>\n    <mat-list>\n      <mat-list-item *ngFor=\"let item of files\">{{ item.name }}</mat-list-item>\n    </mat-list>\n  </span>\n</mat-dialog-content>\n<mat-dialog-actions style=\"justify-content: flex-end;\">\n  <button\n    color=\"accent\"\n    (click)=\"buttonsResponse(true)\"\n    mat-button\n    mat-flat-button\n    mat-dialog-close\n  >\n    {{ dataInput.okButton ? dataInput.okButton : 'Ok' }}\n  </button>\n  <button\n    color=\"warn\"\n    *ngIf=\"!dataInput.hideButtonCancel\"\n    mat-button\n    mat-dialog-close\n    mat-stroked-button\n    (click)=\"buttonsResponse(false)\"\n  >\n    Cancelar\n  </button>\n  <!--\n    The mat-dialog-close directive optionally accepts a value as a result for the dialog.\n  -->\n</mat-dialog-actions>\n"

/***/ }),

/***/ "./src/app/components/general/dialog-general/dialog-general.component.scss":
/*!*********************************************************************************!*\
  !*** ./src/app/components/general/dialog-general/dialog-general.component.scss ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/general/dialog-general/dialog-general.component.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/components/general/dialog-general/dialog-general.component.ts ***!
  \*******************************************************************************/
/*! exports provided: DialogGeneralComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogGeneralComponent", function() { return DialogGeneralComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var DialogGeneralComponent = /** @class */ (function () {
    function DialogGeneralComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.buttons = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.ratingResult = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.statusChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.formData = new FormData();
        this.dataInput = data;
    }
    DialogGeneralComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogGeneralComponent.prototype.buttonsResponse = function (options) {
        if (this.dataInput.hasFileInput) {
            this.buttons.emit({
                button: options,
                formData: this.formData
            });
        }
        else if (this.dataInput.isform) {
            this.buttons.emit({
                button: options,
                inputValue: this.inputValue
            });
        }
        else {
            this.buttons.emit(options);
        }
    };
    DialogGeneralComponent.prototype.ngOnInit = function () { };
    DialogGeneralComponent.prototype.link = function () {
        var input = document.getElementById('file1').click();
    };
    DialogGeneralComponent.prototype.fileChangeEvent = function (event) {
        var _this = this;
        this.files = event.target.files;
        // file list to array
        var files = Array.from(event.target.files);
        files.forEach(function (f, i) {
            _this.formData.append('file', f);
        });
    };
    DialogGeneralComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-dialog-general',
            template: __webpack_require__(/*! ./dialog-general.component.html */ "./src/app/components/general/dialog-general/dialog-general.component.html"),
            styles: [__webpack_require__(/*! ./dialog-general.component.scss */ "./src/app/components/general/dialog-general/dialog-general.component.scss")],
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], DialogGeneralComponent);
    return DialogGeneralComponent;
}());



/***/ }),

/***/ "./src/app/components/general/document-filter/document-filter.component.html":
/*!***********************************************************************************!*\
  !*** ./src/app/components/general/document-filter/document-filter.component.html ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons *ngIf=\"!isDesktop\" slot=\"start\">\n      <ion-button (click)=\"applyFilters(); goBack()\" slot=\"start\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"arrow-back\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Filtros</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button color=\"success\" slot=\"end\" (click)=\"applyFilters(); goBack()\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"checkmark-circle\"></ion-icon>\n      </ion-button>\n      <ion-button color=\"danger\" slot=\"end\" (click)=\"reset(); goBack()\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"trash\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n<div class=\"main\">\n  <div class=\"flex-checkbox\">\n    <mat-checkbox [(ngModel)]=\"isBuyer\" (change)=\"applyFilters()\"\n      >Consumidor</mat-checkbox\n    >\n    <mat-checkbox [(ngModel)]=\"isAdviser\" (change)=\"applyFilters()\"\n      >Asesor</mat-checkbox\n    >\n    <mat-checkbox [(ngModel)]=\"isSeller\" (change)=\"applyFilters()\"\n      >Dueño</mat-checkbox\n    >\n  </div>\n  <ion-list>\n    <ion-radio-group [(ngModel)]=\"status\" (ionChange)=\"applyFilters()\">\n      <ion-list-header> <ion-label>Estado</ion-label> </ion-list-header>\n\n      <ion-item lines=\"none\">\n        <ion-label>Gris</ion-label>\n        <ion-radio mode=\"md\" value=\"gris\" slot=\"end\"></ion-radio>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>Verde</ion-label>\n        <ion-radio mode=\"md\" value=\"verde\" slot=\"end\"></ion-radio>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>Amarillo</ion-label>\n        <ion-radio mode=\"md\" value=\"amarillo\" slot=\"end\"></ion-radio>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>Rojo</ion-label>\n        <ion-radio mode=\"md\" value=\"rojo\" slot=\"end\"></ion-radio>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>Azul</ion-label>\n        <ion-radio mode=\"md\" value=\"azul\" slot=\"end\"></ion-radio>\n      </ion-item>\n    </ion-radio-group>\n  </ion-list>\n</div>\n"

/***/ }),

/***/ "./src/app/components/general/document-filter/document-filter.component.scss":
/*!***********************************************************************************!*\
  !*** ./src/app/components/general/document-filter/document-filter.component.scss ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-checkbox {\n  display: flex;\n  flex-direction: column; }\n\n.flex-checkbox > * {\n  margin: 5%; }\n"

/***/ }),

/***/ "./src/app/components/general/document-filter/document-filter.component.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/components/general/document-filter/document-filter.component.ts ***!
  \*********************************************************************************/
/*! exports provided: DocumentFilterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentFilterComponent", function() { return DocumentFilterComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var DocumentFilterComponent = /** @class */ (function () {
    function DocumentFilterComponent() {
        this.filters = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.resetAll = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.closeMenu = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    DocumentFilterComponent.prototype.ngOnInit = function () { };
    DocumentFilterComponent.prototype.applyFilters = function () {
        this.filters.emit({
            isBuyer: this.isBuyer,
            isAdviser: this.isAdviser,
            isSeller: this.isSeller,
            status: this.status
        });
    };
    DocumentFilterComponent.prototype.reset = function () {
        this.resetAll.emit();
        this.isBuyer = undefined;
        this.isAdviser = undefined;
        this.isSeller = undefined;
        this.status = undefined;
    };
    DocumentFilterComponent.prototype.goBack = function () {
        if (!this.isDesktop) {
            this.closeMenu.emit();
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], DocumentFilterComponent.prototype, "filters", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], DocumentFilterComponent.prototype, "resetAll", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], DocumentFilterComponent.prototype, "closeMenu", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], DocumentFilterComponent.prototype, "isDesktop", void 0);
    DocumentFilterComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-document-filter',
            template: __webpack_require__(/*! ./document-filter.component.html */ "./src/app/components/general/document-filter/document-filter.component.html"),
            styles: [__webpack_require__(/*! ./document-filter.component.scss */ "./src/app/components/general/document-filter/document-filter.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], DocumentFilterComponent);
    return DocumentFilterComponent;
}());



/***/ }),

/***/ "./src/app/components/general/filter-adviser/filter-adviser.component.html":
/*!*********************************************************************************!*\
  !*** ./src/app/components/general/filter-adviser/filter-adviser.component.html ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons *ngIf=\"!isDesktop\" slot=\"start\">\n      <ion-button (click)=\"applyFilters(); goBack()\" slot=\"start\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"arrow-back\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Filtros</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button color=\"success\" slot=\"end\" (click)=\"applyFilters(); goBack()\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"checkmark-circle\"></ion-icon>\n      </ion-button>\n      <ion-button color=\"danger\" slot=\"end\" (click)=\"reset(); goBack()\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"trash\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n<div class=\"main\">\n  <!-- <ion-content fullscreen> -->\n  <ion-list>\n    <ion-list-header> <ion-label>Fecha</ion-label> </ion-list-header>\n  </ion-list>\n  <ion-item>\n    <ion-label> Dia </ion-label>\n    <ion-input\n      (ionChange)=\"applyFilters()\"\n      (onkeyup)=\"applyFilters()\"\n      type=\"number\"\n      [(ngModel)]=\"dayInput\"\n      #day=\"ngModel\"\n      id=\"day\"\n      name=\"day\"\n    ></ion-input>\n  </ion-item>\n  <ion-item>\n    <mat-form-field>\n      <mat-select\n        (selectionChange)=\"applyFilters()\"\n        [(ngModel)]=\"monthInput\"\n        #day=\"ngModel\"\n        id=\"day\"\n        name=\"day\"\n        placeholder=\"Mes\"\n      >\n        <mat-option *ngFor=\"let month of months; let i = index\" [value]=\"i\">\n          {{ month }}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <!--\n      <ion-label>Mes</ion-label>\n        <ion-select interface=\"popover\" (selectionChange)=\"applyFilters()\" [(ngModel)]=\"monthInput\" #day=\"ngModel\" id=\"day\"\n          name=\"day\">\n          <ion-select-option *ngFor=\"let month of months; let i=index\" [value]=\"i\">{{month}}</ion-select-option>\n        </ion-select>\n    -->\n  </ion-item>\n  <ion-item>\n    <ion-label> Año </ion-label>\n    <ion-input\n      (ionChange)=\"applyFilters()\"\n      type=\"number\"\n      [(ngModel)]=\"yearInput\"\n      #day=\"ngModel\"\n      id=\"day\"\n      name=\"day\"\n    ></ion-input>\n  </ion-item>\n  <ion-item>\n    <ion-label> Hora de inicio </ion-label>\n    <ion-input\n      (ionChange)=\"applyFilters()\"\n      type=\"number\"\n      [(ngModel)]=\"hourStartInput\"\n      #hs=\"ngModel\"\n      id=\"hs\"\n      name=\"hs\"\n    ></ion-input>\n  </ion-item>\n  <ion-item>\n    <ion-label> Hora Fin </ion-label>\n    <ion-input\n      (ionChange)=\"applyFilters()\"\n      type=\"number\"\n      [(ngModel)]=\"hourEndInput\"\n      #he=\"ngModel\"\n      id=\"he\"\n      name=\"he\"\n    ></ion-input>\n  </ion-item>\n  <!-- </ion-content> -->\n</div>\n"

/***/ }),

/***/ "./src/app/components/general/filter-adviser/filter-adviser.component.scss":
/*!*********************************************************************************!*\
  !*** ./src/app/components/general/filter-adviser/filter-adviser.component.scss ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/general/filter-adviser/filter-adviser.component.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/components/general/filter-adviser/filter-adviser.component.ts ***!
  \*******************************************************************************/
/*! exports provided: FilterAdviserComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterAdviserComponent", function() { return FilterAdviserComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var FilterAdviserComponent = /** @class */ (function () {
    function FilterAdviserComponent() {
        this.months = [
            'Enero',
            'Febrero',
            'Marzo',
            'Abril',
            'Mayo',
            'Junio',
            'Julio',
            'Agosto',
            'Septiembre',
            'Octubre',
            'Noviembre',
            'Diciembre',
        ];
        this.filters = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.resetAll = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.closeMenu = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    FilterAdviserComponent.prototype.ngOnInit = function () { };
    FilterAdviserComponent.prototype.applyFilters = function () {
        this.filters.emit({
            day: this.dayInput,
            month: this.monthInput,
            year: this.yearInput,
            status: this.status,
            hourEnd: this.hourEndInput,
            hourStart: this.hourStartInput,
        });
    };
    FilterAdviserComponent.prototype.reset = function () {
        this.resetAll.emit();
        this.dayInput = null;
        this.monthInput = null;
        this.yearInput = null;
        this.hourEndInput = null;
        this.hourStartInput = null;
        this.status = undefined;
    };
    FilterAdviserComponent.prototype.goBack = function () {
        if (!this.isDesktop) {
            this.closeMenu.emit();
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], FilterAdviserComponent.prototype, "filters", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], FilterAdviserComponent.prototype, "resetAll", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], FilterAdviserComponent.prototype, "closeMenu", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], FilterAdviserComponent.prototype, "isDesktop", void 0);
    FilterAdviserComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-filter-adviser',
            template: __webpack_require__(/*! ./filter-adviser.component.html */ "./src/app/components/general/filter-adviser/filter-adviser.component.html"),
            styles: [__webpack_require__(/*! ./filter-adviser.component.scss */ "./src/app/components/general/filter-adviser/filter-adviser.component.scss")],
        }),
        __metadata("design:paramtypes", [])
    ], FilterAdviserComponent);
    return FilterAdviserComponent;
}());



/***/ }),

/***/ "./src/app/components/general/filter-build/filter-build.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/components/general/filter-build/filter-build.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons *ngIf=\"!isDesktop\" slot=\"start\">\n      <ion-button (click)=\"applyFilters(); goBack()\" slot=\"start\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"arrow-back\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Filtros</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button color=\"success\" slot=\"end\" (click)=\"applyFilters();goBack()\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"checkmark-circle\"></ion-icon>\n      </ion-button>\n      <ion-button color=\"danger\" slot=\"end\" (click)=\"reset();goBack()\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"trash\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n<!-- <div class=\"main\"> -->\n<ion-content fullscreen>\n  <ion-item>\n    <mat-form-field>\n      <mat-select (selectionChange)=\"applyFilters()\" [(ngModel)]=\"isComplete\" #isR=\"ngModel\" id=\"isR\" name=\"isR\"\n        placeholder=\"Tipo\">\n        <mat-option [value]=true>\n          Completado\n        </mat-option>\n        <mat-option [value]=false>\n          En Proceso\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </ion-item>\n  <ion-list>\n    <ion-list-header>\n      <ion-label>Fecha inicio</ion-label>\n    </ion-list-header>\n  </ion-list>\n  <ion-item>\n    <ion-label>\n      Dia\n    </ion-label>\n    <ion-input (ionChange)=\"applyFilters()\" (onkeyup)=\"applyFilters()\" type=\"number\" [(ngModel)]=\"dayInput\" #day=\"ngModel\"\n      id=\"day\" name=\"day\"></ion-input>\n  </ion-item>\n  <ion-item>\n    <mat-form-field>\n      <mat-select (selectionChange)=\"applyFilters()\" [(ngModel)]=\"monthInput\" #day=\"ngModel\" id=\"day\" name=\"day\"\n        placeholder=\"Mes\">\n        <mat-option *ngFor=\"let month of months; let i=index\" [value]=\"i\">\n          {{month}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </ion-item>\n  <ion-item>\n    <ion-label>\n      Año\n    </ion-label>\n    <ion-input (ionChange)=\"applyFilters()\" type=\"number\" [(ngModel)]=\"yearInput\" #day=\"ngModel\" id=\"day\" name=\"day\"></ion-input>\n  </ion-item>\n  <br>\n  <ion-list>\n    <ion-list-header>\n      <ion-label>Fecha Fin</ion-label>\n    </ion-list-header>\n  </ion-list>\n  <ion-item>\n    <ion-label>\n      Dia\n    </ion-label>\n    <ion-input (ionChange)=\"applyFilters()\" (onkeyup)=\"applyFilters()\" type=\"number\" [(ngModel)]=\"dayInput2\" #day=\"ngModel\"\n      id=\"day\" name=\"day\"></ion-input>\n  </ion-item>\n  <ion-item>\n    <mat-form-field>\n      <mat-select (selectionChange)=\"applyFilters()\" [(ngModel)]=\"monthInput2\" #day=\"ngModel\" id=\"day\" name=\"day\"\n        placeholder=\"Mes\">\n        <mat-option *ngFor=\"let month of months; let i=index\" [value]=\"i\">\n          {{month}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </ion-item>\n  <ion-item>\n    <ion-label>\n      Año\n    </ion-label>\n    <ion-input (ionChange)=\"applyFilters()\" type=\"number\" [(ngModel)]=\"yearInput2\" #day=\"ngModel\" id=\"day\" name=\"day\"></ion-input>\n  </ion-item>\n</ion-content>\n\n\n<!-- </div> -->"

/***/ }),

/***/ "./src/app/components/general/filter-build/filter-build.component.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/components/general/filter-build/filter-build.component.scss ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/general/filter-build/filter-build.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/components/general/filter-build/filter-build.component.ts ***!
  \***************************************************************************/
/*! exports provided: FilterBuildComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterBuildComponent", function() { return FilterBuildComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var FilterBuildComponent = /** @class */ (function () {
    function FilterBuildComponent() {
        this.months = [
            'Enero',
            'Febrero',
            'Marzo',
            'Abril',
            'Mayo',
            'Junio',
            'Julio',
            'Agosto',
            'Septiembre',
            'Octubre',
            'Noviembre',
            'Diciembre',
        ];
        this.filters = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.resetAll = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.closeMenu = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    FilterBuildComponent.prototype.ngOnInit = function () { };
    FilterBuildComponent.prototype.applyFilters = function () {
        this.filters.emit({
            day: this.dayInput,
            month: this.monthInput,
            year: this.yearInput,
            day2: this.dayInput2,
            month2: this.monthInput2,
            year2: this.yearInput2,
            isComplete: this.isComplete,
        });
    };
    FilterBuildComponent.prototype.reset = function () {
        this.resetAll.emit();
        this.dayInput = null;
        this.monthInput = null;
        this.yearInput = null;
        this.yearInput2 = null;
        this.monthInput2 = null;
        this.dayInput2 = null;
        this.isComplete = undefined;
    };
    FilterBuildComponent.prototype.goBack = function () {
        if (!this.isDesktop) {
            this.closeMenu.emit();
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], FilterBuildComponent.prototype, "filters", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], FilterBuildComponent.prototype, "resetAll", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], FilterBuildComponent.prototype, "closeMenu", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], FilterBuildComponent.prototype, "isDesktop", void 0);
    FilterBuildComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-filter-build',
            template: __webpack_require__(/*! ./filter-build.component.html */ "./src/app/components/general/filter-build/filter-build.component.html"),
            styles: [__webpack_require__(/*! ./filter-build.component.scss */ "./src/app/components/general/filter-build/filter-build.component.scss")],
        }),
        __metadata("design:paramtypes", [])
    ], FilterBuildComponent);
    return FilterBuildComponent;
}());



/***/ }),

/***/ "./src/app/components/general/filter-maker/filter-maker.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/components/general/filter-maker/filter-maker.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\n  filter-maker works!\n</p>\n"

/***/ }),

/***/ "./src/app/components/general/filter-maker/filter-maker.component.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/components/general/filter-maker/filter-maker.component.scss ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/general/filter-maker/filter-maker.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/components/general/filter-maker/filter-maker.component.ts ***!
  \***************************************************************************/
/*! exports provided: FilterMakerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterMakerComponent", function() { return FilterMakerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var FilterMakerComponent = /** @class */ (function () {
    function FilterMakerComponent() {
    }
    FilterMakerComponent.prototype.ngOnInit = function () {
    };
    FilterMakerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-filter-maker',
            template: __webpack_require__(/*! ./filter-maker.component.html */ "./src/app/components/general/filter-maker/filter-maker.component.html"),
            styles: [__webpack_require__(/*! ./filter-maker.component.scss */ "./src/app/components/general/filter-maker/filter-maker.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], FilterMakerComponent);
    return FilterMakerComponent;
}());



/***/ }),

/***/ "./src/app/components/general/filter-seller/filter-seller.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/components/general/filter-seller/filter-seller.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons *ngIf=\"!isDesktop\" slot=\"start\">\n      <ion-button (click)=\"applyFilters(); goBack()\" slot=\"start\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"arrow-back\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Filtros</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button color=\"success\" slot=\"end\" (click)=\"applyFilters();goBack()\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"checkmark-circle\"></ion-icon>\n      </ion-button>\n      <ion-button color=\"danger\" slot=\"end\" (click)=\"reset();goBack()\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"trash\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n<!-- <div class=\"main\"> -->\n<ion-content fullscreen>\n  <ion-item>\n    <mat-form-field>\n      <mat-select (selectionChange)=\"applyFilters()\" [(ngModel)]=\"isRenter\" #isR=\"ngModel\" id=\"isR\" name=\"isR\"\n        placeholder=\"Tipo\">\n        <mat-option [value]=false>\n          Vende\n        </mat-option>\n        <mat-option [value]=true>\n          Renta\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </ion-item>\n  <ion-list>\n    <ion-list-header>\n      <ion-label>Fecha</ion-label>\n    </ion-list-header>\n  </ion-list>\n  <ion-item>\n    <ion-label>\n      Dia\n    </ion-label>\n    <ion-input (ionChange)=\"applyFilters()\" (onkeyup)=\"applyFilters()\" type=\"number\" [(ngModel)]=\"dayInput\" #day=\"ngModel\"\n      id=\"day\" name=\"day\"></ion-input>\n  </ion-item>\n  <ion-item>\n    <mat-form-field>\n      <mat-select (selectionChange)=\"applyFilters()\" [(ngModel)]=\"monthInput\" #day=\"ngModel\" id=\"day\" name=\"day\"\n        placeholder=\"Mes\">\n        <mat-option *ngFor=\"let month of months; let i=index\" [value]=\"i\">\n          {{month}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <!--  <ion-label>Mes</ion-label>\n              <ion-select interface=\"popover\" (selectionChange)=\"applyFilters()\" [(ngModel)]=\"monthInput\" #day=\"ngModel\" id=\"day\"\n                name=\"day\">\n                <ion-select-option *ngFor=\"let month of months; let i=index\" [value]=\"i\">{{month}}</ion-select-option>\n              </ion-select> -->\n\n  </ion-item>\n  <ion-item>\n    <ion-label>\n      Año\n    </ion-label>\n    <ion-input (ionChange)=\"applyFilters()\" type=\"number\" [(ngModel)]=\"yearInput\" #day=\"ngModel\" id=\"day\" name=\"day\"></ion-input>\n  </ion-item>\n</ion-content>\n\n\n<!-- </div> -->"

/***/ }),

/***/ "./src/app/components/general/filter-seller/filter-seller.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/components/general/filter-seller/filter-seller.component.scss ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/general/filter-seller/filter-seller.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/components/general/filter-seller/filter-seller.component.ts ***!
  \*****************************************************************************/
/*! exports provided: FilterSellerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterSellerComponent", function() { return FilterSellerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var FilterSellerComponent = /** @class */ (function () {
    function FilterSellerComponent() {
        this.months = [
            'Enero',
            'Febrero',
            'Marzo',
            'Abril',
            'Mayo',
            'Junio',
            'Julio',
            'Agosto',
            'Septiembre',
            'Octubre',
            'Noviembre',
            'Diciembre',
        ];
        this.filters = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.resetAll = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.closeMenu = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    FilterSellerComponent.prototype.ngOnInit = function () { };
    FilterSellerComponent.prototype.applyFilters = function () {
        this.filters.emit({
            day: this.dayInput,
            month: this.monthInput,
            year: this.yearInput,
            isRenter: this.isRenter,
        });
    };
    FilterSellerComponent.prototype.reset = function () {
        this.resetAll.emit();
        this.dayInput = null;
        this.monthInput = null;
        this.yearInput = null;
        this.isRenter = undefined;
    };
    FilterSellerComponent.prototype.goBack = function () {
        if (!this.isDesktop) {
            this.closeMenu.emit();
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], FilterSellerComponent.prototype, "filters", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], FilterSellerComponent.prototype, "resetAll", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], FilterSellerComponent.prototype, "closeMenu", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], FilterSellerComponent.prototype, "isDesktop", void 0);
    FilterSellerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-filter-seller',
            template: __webpack_require__(/*! ./filter-seller.component.html */ "./src/app/components/general/filter-seller/filter-seller.component.html"),
            styles: [__webpack_require__(/*! ./filter-seller.component.scss */ "./src/app/components/general/filter-seller/filter-seller.component.scss")],
        }),
        __metadata("design:paramtypes", [])
    ], FilterSellerComponent);
    return FilterSellerComponent;
}());



/***/ }),

/***/ "./src/app/components/general/form-str-list/form-str-list.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/components/general/form-str-list/form-str-list.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"flex-container2\">\n  <h3 mat-subheader>{{nameTitle}}</h3>\n  <form #newUserForm=\"ngForm\">\n    <div *ngFor=\"let item of arrInput; let i=index\" [ngClass]=\"{'more-input': forms.arrStr && forms.arrDate}\">\n      <!-- arrStr default* -->\n      <mat-form-field appearance=\"outline\" [ngClass]=\"{'one-input': forms.arrStr && !forms.arrDate}\">\n        <mat-label>{{nameItems}} {{i + 1}}</mat-label>\n        <input matInput placeholder=\"\" (keyup)=\"getStr()\" [(ngModel)]=\"arrStr[i]\" #str=\"ngModel\" id=\"str{{i}}\" name=\"str{{i}}\"\n          [required]=\"isRequired\">\n        <mat-error *ngIf=\"(str.dirty || str.touched) && isRequired\">Obligatorio</mat-error>\n      </mat-form-field>\n      <!-- / arrStr default* -->\n      <!-- arrStr2 -->\n      <mat-form-field appearance=\"outline\" *ngIf=\"forms.arrStr2\">\n        <mat-label>{{nameItems2}} {{i + 1}}</mat-label>\n        <input matInput placeholder=\"\" (keyup)=\"getStr()\" [(ngModel)]=\"arrStr2[i]\" #str2=\"ngModel\" id=\"str2{{i}}\" name=\"str2{{i}}\"\n          [required]=\"isRequired\">\n        <mat-error *ngIf=\"(str2.dirty || str2.touched) && isRequired\">Obligatorio</mat-error>\n      </mat-form-field>\n      <!-- arrDate -->\n      <!-- Fecha -->\n      <mat-form-field class=\"date-input\" *ngIf=\"forms.arrDate\" appearance=\"outline\">\n        <mat-label>Inicio</mat-label>\n        <input (dateChange)=\"dateSelect($event, i)\" [value]=\"arrDate[i]\" [(ngModel)]=\"arrDate[i]\" #date2=\"ngModel\" id=\"date{{i}}\"\n          name=\"date{{i}}\" (focus)=\"picker.open()\" matInput [matDatepicker]=\"picker\" placeholder=\"\" [required]=\"isRequired\">\n        <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n        <mat-datepicker #picker></mat-datepicker>\n      </mat-form-field>\n      <!-- Fecha2 -->\n      <mat-form-field class=\"date-input\" *ngIf=\"forms.arrDate2\" appearance=\"outline\">\n        <mat-label>Fin</mat-label>\n        <input (dateChange)=\"dateSelect2($event, i)\" [value]=\"arrDate2[i]\" [(ngModel)]=\"arrDate2[i]\" #date2=\"ngModel\"\n          id=\"date2{{i}}\" name=\"date2{{i}}\" (focus)=\"picker.open()\" matInput [matDatepicker]=\"picker\" placeholder=\"\"\n          [required]=\"isRequired\">\n        <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n        <mat-datepicker #picker></mat-datepicker>\n      </mat-form-field>\n      <!-- X -->\n      <button *ngIf=\"isDesktop\" matTooltip=\"Eliminar\" mat-icon-button (click)=\"deleteItem(i)\">\n        <mat-icon color=\"warn\">clear</mat-icon>\n      </button>\n      <button *ngIf=\"!isDesktop\" mat-stroked-button color=\"warn\" (click)=\"deleteItem(i)\">\n        <mat-icon>clear</mat-icon>Eliminar\n      </button>\n      <hr *ngIf=\"!isDesktop\">\n      <!-- /X -->\n    </div>\n  </form>\n\n  <div class=\"button-add\">\n    <button mat-stroked-button color=\"accent\" (click)=\"addItem()\">\n      <mat-icon color=\"accent\">add</mat-icon>\n      Agregar\n    </button>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/components/general/form-str-list/form-str-list.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/components/general/form-str-list/form-str-list.component.scss ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container2 {\n  display: flex;\n  flex-direction: column;\n  padding-left: 5%;\n  padding-right: 5%;\n  padding-top: 3%;\n  border: 2px solid darkgray;\n  border-radius: 8px; }\n\n.button-add {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 1%; }\n\n.flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%; }\n\n.one-input {\n  width: 80%; }\n\n.more-input {\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: baseline; }\n\n.more-input > * {\n  padding: 1%; }\n\n.more-input > button {\n  flex: 0; }\n\n.date-input {\n  width: 18%; }\n\n@media (max-width: 900px) {\n  .more-input {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: baseline; }\n  .date-input {\n    width: 50%; } }\n\nhr {\n  width: 100%;\n  height: 0px;\n  background-color: darkgray;\n  border-radius: 7px 7px 7px 7px; }\n"

/***/ }),

/***/ "./src/app/components/general/form-str-list/form-str-list.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/components/general/form-str-list/form-str-list.component.ts ***!
  \*****************************************************************************/
/*! exports provided: FormStrListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormStrListComponent", function() { return FormStrListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var FormStrListComponent = /** @class */ (function () {
    function FormStrListComponent() {
        this.numOfItems = 3;
        this.nameItems = 'Objeto';
        this.nameItems2 = 'Objeto';
        this.nameTitle = 'Lista';
        this.arrStr = [];
        this.arrStr2 = [];
        this.arrDate = [];
        this.arrDate2 = [];
        this.isRequired = false;
        this.arrList = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.arrOutput = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.forms = {
            arrStr: true,
            arrStr2: false,
            arrDate: false,
            arrDate2: false
        };
        this.isDesktop = true;
        this.getArray(this.numOfItems);
    }
    FormStrListComponent.prototype.ngOnInit = function () { };
    FormStrListComponent.prototype.ngOnChanges = function (changes) {
        if (changes.numOfItems) {
            if (changes.numOfItems.currentValue) {
                this.numOfItems = changes.numOfItems.currentValue;
                this.getArray(changes.numOfItems.currentValue);
            }
        }
        /*  if (changes.nameItems) {
          if (changes.nameItems.currentValue) {
            this.nameItems = changes.nameItems.currentValue;
          }
        }
        if (changes.nameTitle) {
          if (changes.nameTitle.currentValue) {
            this.nameTitle = changes.nameTitle.currentValue;
          }
        }
        if (changes.isRequired) {
          if (changes.isRequired.currentValue) {
            this.isRequired = changes.isRequired.currentValue;
          }
        } */
    };
    FormStrListComponent.prototype.getArray = function (num) {
        this.arrInput = Array(num).fill(1);
    };
    FormStrListComponent.prototype.getStr = function (itemStr) {
        this.arrList.emit(this.arrStr);
        this.arrOutput.emit({
            arrStr: this.arrStr,
            arrStr2: this.arrStr2,
            arrDate: this.arrDate,
            arrDate2: this.arrDate2,
            isValid: this.newUserForm.valid
        });
    };
    FormStrListComponent.prototype.deleteItem = function (number) {
        this.numOfItems--;
        this.arrInput.splice(number, 1);
        this.arrStr.splice(number, 1);
        this.arrStr2.splice(number, 1);
        this.arrDate.splice(number, 1);
        this.arrDate2.splice(number, 1);
        this.arrList.emit(this.arrStr);
        this.getStr();
    };
    FormStrListComponent.prototype.addItem = function () {
        this.numOfItems++;
        this.getArray(this.numOfItems);
    };
    FormStrListComponent.prototype.dateSelect = function (event, i) {
        if (event) {
            this.arrDate[i] = new Date(event.value._i.year, event.value._i.month, event.value._i.date);
            this.getStr();
        }
    };
    FormStrListComponent.prototype.dateSelect2 = function (event, i) {
        if (event) {
            this.arrDate2[i] = new Date(event.value._i.year, event.value._i.month, event.value._i.date);
            this.getStr();
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('newUserForm'),
        __metadata("design:type", Object)
    ], FormStrListComponent.prototype, "newUserForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FormStrListComponent.prototype, "numOfItems", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FormStrListComponent.prototype, "nameItems", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FormStrListComponent.prototype, "nameItems2", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FormStrListComponent.prototype, "nameTitle", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], FormStrListComponent.prototype, "arrStr", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], FormStrListComponent.prototype, "arrStr2", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], FormStrListComponent.prototype, "arrDate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], FormStrListComponent.prototype, "arrDate2", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FormStrListComponent.prototype, "isRequired", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], FormStrListComponent.prototype, "arrList", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], FormStrListComponent.prototype, "arrOutput", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FormStrListComponent.prototype, "forms", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FormStrListComponent.prototype, "isDesktop", void 0);
    FormStrListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-form-str-list',
            template: __webpack_require__(/*! ./form-str-list.component.html */ "./src/app/components/general/form-str-list/form-str-list.component.html"),
            styles: [__webpack_require__(/*! ./form-str-list.component.scss */ "./src/app/components/general/form-str-list/form-str-list.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], FormStrListComponent);
    return FormStrListComponent;
}());



/***/ }),

/***/ "./src/app/components/general/general-calendar/general-calendar.component.html":
/*!*************************************************************************************!*\
  !*** ./src/app/components/general/general-calendar/general-calendar.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div id=\"calendar\" (click)=\"click($event)\" style=\"height: 100%;\"></div>"

/***/ }),

/***/ "./src/app/components/general/general-calendar/general-calendar.component.scss":
/*!*************************************************************************************!*\
  !*** ./src/app/components/general/general-calendar/general-calendar.component.scss ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#calendar .row-number-day {\n  padding: 15px !important;\n  text-align: left !important;\n  border-bottom: 1px solid #ddd;\n  vertical-align: top; }\n\n#calendar .row-name-day {\n  padding: 2px 15px 15px 0px !important;\n  height: 10px;\n  text-align: left !important;\n  border-bottom: 2px solid #ffb251;\n  vertical-align: top; }\n\n#calendar .row-number-day2 {\n  padding: 15px 0px !important;\n  text-align: left !important;\n  border-bottom: 1px solid #ddd;\n  vertical-align: top;\n  width: 15%; }\n\n#calendar .current-day {\n  background-color: #ffb251;\n  border-radius: 9px;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content; }\n\n#calendar .calendar-table {\n  width: 100%;\n  height: 100%; }\n\n#calendar td {\n  border-bottom: 1px solid #ddd;\n  vertical-align: top; }\n\n#calendar td:hover {\n  background-color: #f5f5f5; }\n\n#calendar .event-of-day {\n  background-color: #ffe9cc;\n  border-left: 5px solid #FFB251;\n  border-radius: 7%;\n  margin-bottom: 4%;\n  font-size: small; }\n\n#calendar .event-of-day-gris {\n  background-color: #aab4bd;\n  border-left: 5px solid #47525d;\n  border-radius: 7%;\n  margin-bottom: 4%;\n  font-size: small; }\n\n#calendar .event-of-day-verde {\n  background-color: #c3f7d7;\n  border-left: 5px solid var(--ion-color-success);\n  border-radius: 7%;\n  margin-bottom: 4%;\n  font-size: small; }\n\n#calendar .event-of-day-amarillo {\n  background-color: #f7f3e2;\n  border-left: 5px solid var(--ion-color-warning);\n  border-radius: 7%;\n  margin-bottom: 4%;\n  font-size: small; }\n\n#calendar .event-of-day-rojo {\n  background-color: #f1b9b9;\n  border-left: 5px solid var(--ion-color-danger);\n  border-radius: 7%;\n  margin-bottom: 4%;\n  font-size: small; }\n\n#calendar .event-of-day-azul {\n  background-color: #9bd6fb;\n  border-left: 5px solid var(--ion-color-blue);\n  border-radius: 7%;\n  margin-bottom: 4%;\n  font-size: small; }\n"

/***/ }),

/***/ "./src/app/components/general/general-calendar/general-calendar.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/components/general/general-calendar/general-calendar.component.ts ***!
  \***********************************************************************************/
/*! exports provided: GeneralCalendarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeneralCalendarComponent", function() { return GeneralCalendarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var GeneralCalendarComponent = /** @class */ (function () {
    function GeneralCalendarComponent(toastController) {
        this.toastController = toastController;
        this.month = new Date().getMonth();
        this.year = new Date().getFullYear();
        this.schedules = [];
        this.calendarSelect = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.alertOfToday = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.flag = false;
    }
    // tslint:disable:no-var-keyword
    // tslint:disable:quotemark
    // tslint:disable:prefer-const
    // tslint:disable:max-line-length
    GeneralCalendarComponent.prototype.ngOnInit = function () {
        this.calendar2(new Date().getMonth(), new Date().getFullYear());
    };
    GeneralCalendarComponent.prototype.click = function (event) {
        this.calendarSelect.emit({
            year: this.year,
            month: this.month,
            day: +event.srcElement.id,
        });
    };
    GeneralCalendarComponent.prototype.getScheduleEvents = function (year, month, day) {
        var numOfEvent = 0;
        var str = '';
        var events = this.schedules.filter(function (s) { return s.day === day && s.month === month && s.year === year; });
        if (events.length > 0) {
            if (events.length === 1) {
                if (events[0].status) {
                    str +=
                        '<div class="event-of-day-' +
                            events[0].status +
                            '" id="' +
                            day +
                            '">' +
                            events.length +
                            ' Evento </div>';
                }
                else {
                    str +=
                        '<div class="event-of-day" id="' +
                            day +
                            '">' +
                            events.length +
                            ' Evento </div>';
                }
            }
            else {
                str +=
                    '<div class="event-of-day" id="' +
                        day +
                        '">' +
                        events.length +
                        ' Eventos </div>';
            }
        }
        return str;
    };
    GeneralCalendarComponent.prototype.presentToast = function () {
        this.alertOfToday.emit();
    };
    GeneralCalendarComponent.prototype.ngOnChanges = function (changes) {
        if (changes.month) {
            if (changes.month.currentValue) {
                this.calendar2(this.month, this.year);
            }
        }
        if (changes.year) {
            if (changes.year.currentValue) {
                this.calendar2(this.month, this.year);
            }
        }
    };
    GeneralCalendarComponent.prototype.calendar2 = function (month, year) {
        // Variables to be used later.  Place holders right now.
        var padding = '';
        var totalFeb = '';
        var i = 1;
        var testing = '';
        var current = new Date();
        var cmonth = current.getMonth(); // current (today) month
        var day = current.getDate();
        var tempMonth = month + 1; // +1; // Used to match up the current month with the correct start date.
        var prevMonth = month - 1;
        // Determing if Feb has 28 or 29 days in it.
        if (month === 1) {
            if ((year % 100 !== 0 && year % 4 === 0) || year % 400 === 0) {
                totalFeb = '29';
            }
            else {
                totalFeb = '28';
            }
        }
        // Setting up arrays for the name of the months, days, and the number of days in the month.
        var monthNames = [
            'Jan',
            'Feb',
            'March',
            'April',
            'May',
            'June',
            'July',
            'Aug',
            'Sept',
            'Oct',
            'Nov',
            'Dec',
        ];
        var dayNames = [
            'Sunday',
            'Monday',
            'Tuesday',
            'Wednesday',
            'Thrusday',
            'Friday',
            'Saturday',
        ];
        var totalDays = [
            '31',
            '' + totalFeb + '',
            '31',
            '30',
            '31',
            '30',
            '31',
            '31',
            '30',
            '31',
            '30',
            '31',
        ];
        // Temp values to get the number of days in current month, and previous month. Also getting the day of the week.
        // var tempDate = new Date(tempMonth + ' 1 ,' + year);
        var tempDate = new Date(year, month, 1);
        var tempweekday = tempDate.getDay();
        var tempweekday2 = tempweekday;
        var dayAmount = totalDays[month];
        // After getting the first day of the week for the month, padding the other days for that week with the previous months days.  IE, if the first day of the week is on a Thursday, then this fills in Sun - Wed with the last months dates, counting down from the last day on Wed, until Sunday.
        while (tempweekday > 0) {
            padding += '<td ></td>';
            // preAmount++;
            tempweekday--;
        }
        // Filling in the calendar with the current month days in the correct location along.
        while (i <= +dayAmount) {
            // Determining when to start a new row
            if (tempweekday2 > 6) {
                tempweekday2 = 0;
                padding += '</tr><tr >';
            }
            // tslint:disable-next-line:max-line-length
            // checking to see if i is equal to the current day, if so then we are making the color of that cell a different color using CSS. Also adding a rollover effect to highlight the day the user rolls over. This loop creates the actual calendar that is displayed.
            var eventsOfDay = this.getScheduleEvents(year, month, i);
            if (eventsOfDay !== '') {
                if (i === day && month === cmonth) {
                    padding +=
                        '<td class="row-number-day2" id="' +
                            i +
                            '"><div class="current-day">' +
                            i +
                            eventsOfDay +
                            '</div></td>';
                    this.presentToast();
                }
                else {
                    padding +=
                        '<td class="row-number-day2" id="' +
                            i +
                            '" >' +
                            i +
                            eventsOfDay +
                            '</td>';
                }
            }
            else {
                if (i === day && month === cmonth) {
                    padding +=
                        '<td class=" row-number-day " id="' +
                            i +
                            '" ><div class="current-day">' +
                            i +
                            '</div></td>';
                }
                else {
                    padding +=
                        '<td class="row-number-day" id="' + i + '" >' + i + '</td>';
                }
            }
            tempweekday2++;
            i++;
        }
        if (tempweekday2 < 7) {
            var fillEnd = 7 - tempweekday2;
            while (fillEnd > 0) {
                padding += '<td ></td>';
                fillEnd--;
            }
        }
        // Outputing the calendar onto the site.  Also, putting in the month name and days of the week.
        var calendarTable = '<table class="calendar-table " > ';
        calendarTable +=
            '<tr class="row-name-day " >  <td class="row-name-day ">Do</td>  <td class="row-name-day ">Lu</td> <td class="row-name-day ">Ma</td> <td class="row-name-day ">Mi</td> <td class="row-name-day ">Ju</td> <td class="row-name-day ">Vi</td> <td class="row-name-day ">Sa</td> </tr>';
        calendarTable += '<tr class="row-number-day" >';
        calendarTable += padding;
        calendarTable += '</tr></table>';
        document.getElementById('calendar').innerHTML = calendarTable;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], GeneralCalendarComponent.prototype, "month", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], GeneralCalendarComponent.prototype, "year", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], GeneralCalendarComponent.prototype, "schedules", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralCalendarComponent.prototype, "calendarSelect", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralCalendarComponent.prototype, "alertOfToday", void 0);
    GeneralCalendarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-general-calendar',
            template: __webpack_require__(/*! ./general-calendar.component.html */ "./src/app/components/general/general-calendar/general-calendar.component.html"),
            styles: [__webpack_require__(/*! ./general-calendar.component.scss */ "./src/app/components/general/general-calendar/general-calendar.component.scss")],
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ToastController"]])
    ], GeneralCalendarComponent);
    return GeneralCalendarComponent;
}());



/***/ }),

/***/ "./src/app/components/general/general-filter-buyer/general-filter-buyer.component.html":
/*!*********************************************************************************************!*\
  !*** ./src/app/components/general/general-filter-buyer/general-filter-buyer.component.html ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons *ngIf=\"!isDesktop\" slot=\"start\">\n      <ion-button (click)=\"applyFilters(); goBack()\" slot=\"start\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"arrow-back\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Filtros</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button color=\"success\" slot=\"end\" (click)=\"applyFilters();goBack()\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"checkmark-circle\"></ion-icon>\n      </ion-button>\n      <ion-button color=\"danger\" slot=\"end\" (click)=\"reset();goBack()\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"trash\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n<div class=\"main\">\n  <!-- <ion-content fullscreen> -->\n  <ion-list>\n    <ion-radio-group [(ngModel)]=\"status\" (ionChange)=\"applyFilters()\">\n      <ion-list-header>\n        <ion-label>Estado</ion-label>\n      </ion-list-header>\n\n      <ion-item lines=\"none\">\n        <ion-label>Gris</ion-label>\n        <ion-radio mode=\"md\" value=\"gris\" slot=\"end\"></ion-radio>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>Verde</ion-label>\n        <ion-radio mode=\"md\" value=\"verde\" slot=\"end\"></ion-radio>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>Amarillo</ion-label>\n        <ion-radio mode=\"md\" value=\"amarillo\" slot=\"end\"></ion-radio>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>Rojo</ion-label>\n        <ion-radio mode=\"md\" value=\"rojo\" slot=\"end\"></ion-radio>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>Azul</ion-label>\n        <ion-radio mode=\"md\" value=\"azul\" slot=\"end\"></ion-radio>\n      </ion-item>\n    </ion-radio-group>\n  </ion-list>\n  <ion-list>\n    <ion-list-header>\n      <ion-label>Fecha</ion-label>\n    </ion-list-header>\n  </ion-list>\n  <ion-item>\n    <ion-label>\n      Dia\n    </ion-label>\n    <ion-input (ionChange)=\"applyFilters()\" (onkeyup)=\"applyFilters()\" type=\"number\" [(ngModel)]=\"dayInput\" #day=\"ngModel\"\n      id=\"day\" name=\"day\"></ion-input>\n  </ion-item>\n  <ion-item>\n    <mat-form-field>\n      <mat-select (selectionChange)=\"applyFilters()\" [(ngModel)]=\"monthInput\" #day=\"ngModel\" id=\"day\" name=\"day\"\n        placeholder=\"Mes\">\n        <mat-option *ngFor=\"let month of months; let i=index\" [value]=\"i\">\n          {{month}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <!--  <ion-label>Mes</ion-label>\n          <ion-select interface=\"popover\" (selectionChange)=\"applyFilters()\" [(ngModel)]=\"monthInput\" #day=\"ngModel\" id=\"day\"\n            name=\"day\">\n            <ion-select-option *ngFor=\"let month of months; let i=index\" [value]=\"i\">{{month}}</ion-select-option>\n          </ion-select> -->\n\n  </ion-item>\n  <ion-item>\n    <ion-label>\n      Año\n    </ion-label>\n    <ion-input (ionChange)=\"applyFilters()\" type=\"number\" [(ngModel)]=\"yearInput\" #day=\"ngModel\" id=\"day\" name=\"day\"></ion-input>\n  </ion-item>\n  <ion-list>\n    <ion-list-header>\n      <ion-label>Propiedades</ion-label>\n    </ion-list-header>\n    <ion-item>\n      <mat-form-field>\n        <mat-select (selectionChange)=\"applyFilters()\" [(ngModel)]=\"propInput\" #prop=\"ngModel\" id=\"prop\" name=\"prop\"\n          placeholder=\"Propiedad\">\n          <mat-option *ngFor=\"let prop of propertiesName\" [value]=\"prop\">\n            {{prop}}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n    </ion-item>\n  </ion-list>\n  <!-- </ion-content> -->\n\n\n</div>"

/***/ }),

/***/ "./src/app/components/general/general-filter-buyer/general-filter-buyer.component.scss":
/*!*********************************************************************************************!*\
  !*** ./src/app/components/general/general-filter-buyer/general-filter-buyer.component.scss ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".main {\n  margin-top: 26%;\n  /* Add a top margin to avoid content overlay */\n  overflow: auto; }\n\n.top-bar {\n  position: fixed;\n  overflow: hidden;\n  z-index: 10;\n  width: 15%; }\n\n@media (max-width: 900px) {\n  .top-bar {\n    position: absolute;\n    width: 100%;\n    right: 0; } }\n"

/***/ }),

/***/ "./src/app/components/general/general-filter-buyer/general-filter-buyer.component.ts":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/general/general-filter-buyer/general-filter-buyer.component.ts ***!
  \*******************************************************************************************/
/*! exports provided: GeneralFilterBuyerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeneralFilterBuyerComponent", function() { return GeneralFilterBuyerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var GeneralFilterBuyerComponent = /** @class */ (function () {
    function GeneralFilterBuyerComponent() {
        this.months = [
            'Enero',
            'Febrero',
            'Marzo',
            'Abril',
            'Mayo',
            'Junio',
            'Julio',
            'Agosto',
            'Septiembre',
            'Octubre',
            'Noviembre',
            'Diciembre',
        ];
        this.filters = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.resetAll = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.closeMenu = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    GeneralFilterBuyerComponent.prototype.ngOnInit = function () { };
    GeneralFilterBuyerComponent.prototype.applyFilters = function () {
        this.filters.emit({
            day: this.dayInput,
            month: this.monthInput,
            year: this.yearInput,
            status: this.status,
            property: this.propInput,
        });
    };
    GeneralFilterBuyerComponent.prototype.reset = function () {
        this.resetAll.emit();
        this.dayInput = null;
        this.monthInput = null;
        this.yearInput = null;
        this.status = undefined;
        this.propInput = undefined;
    };
    GeneralFilterBuyerComponent.prototype.goBack = function () {
        if (!this.isDesktop) {
            this.closeMenu.emit();
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralFilterBuyerComponent.prototype, "filters", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralFilterBuyerComponent.prototype, "resetAll", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralFilterBuyerComponent.prototype, "closeMenu", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], GeneralFilterBuyerComponent.prototype, "isDesktop", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], GeneralFilterBuyerComponent.prototype, "propertiesName", void 0);
    GeneralFilterBuyerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-general-filter-buyer',
            template: __webpack_require__(/*! ./general-filter-buyer.component.html */ "./src/app/components/general/general-filter-buyer/general-filter-buyer.component.html"),
            styles: [__webpack_require__(/*! ./general-filter-buyer.component.scss */ "./src/app/components/general/general-filter-buyer/general-filter-buyer.component.scss")],
        }),
        __metadata("design:paramtypes", [])
    ], GeneralFilterBuyerComponent);
    return GeneralFilterBuyerComponent;
}());



/***/ }),

/***/ "./src/app/components/general/general-filters/general-filters.component.html":
/*!***********************************************************************************!*\
  !*** ./src/app/components/general/general-filters/general-filters.component.html ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons *ngIf=\"!isDesktop\" slot=\"start\">\n      <ion-button (click)=\"goBack()\" slot=\"start\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"arrow-back\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Filtros</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button color=\"success\" slot=\"end\" (click)=\"sendFilters();goBack()\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"checkmark-circle\"></ion-icon>\n      </ion-button>\n      <ion-button color=\"danger\" slot=\"end\" (click)=\"reset();goBack()\">\n        <ion-icon mode=\"md\" slot=\"icon-only\" name=\"trash\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<!-- <div class=\"parent20\"> -->\n<ion-content fullscreen>\n\n  <ng-container *ngIf=\"!isFilterApply; then thenTemplate; else elseTemplate\"></ng-container>\n  <ng-template #thenTemplate>\n\n    <ion-list lines=\"none\">\n      <ion-item lines=\"none\" (click)=\" caseFilter = 'Precio';isFilterApply = !isFilterApply; \">\n        <ion-label>\n          Precio\n        </ion-label>\n        <ion-note *ngIf=\"hopeProperty.minPrice === 0 && !hopeProperty.maxPrice\">Cualquiera</ion-note>\n        <ion-note *ngIf=\"hopeProperty.minPrice !== 0 && !hopeProperty.maxPrice\">{{hopeProperty.minPrice}}+</ion-note>\n        <ion-note *ngIf=\"hopeProperty.minPrice === 0 && hopeProperty.maxPrice\">{{hopeProperty.maxPrice}}</ion-note>\n        <ion-note *ngIf=\"hopeProperty.minPrice !== 0 && hopeProperty.maxPrice\"> {{hopeProperty.minPrice }}-{{\n          hopeProperty.maxPrice}}</ion-note>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          Renta\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"rent\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          Venta\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"sell\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\" (click)=\" caseFilter = 'Tipo de Vivienda';isFilterApply = !isFilterApply; \">\n        <ion-label>\n          Tipo de Vivienda\n        </ion-label>\n        <ion-note *ngIf=\"!hopeProperty.typeOfProperty\">Cualquiera</ion-note>\n        <ion-note *ngIf=\"hopeProperty.typeOfProperty\">{{hopeProperty.typeOfProperty}}</ion-note>\n      </ion-item>\n      <ion-item lines=\"none\" (click)=\"isFilterApply = !isFilterApply; caseFilter = 'Espacio'\">\n        <ion-label>\n          Espacio\n        </ion-label>\n        <ion-note *ngIf=\"hopeProperty.space === 0\">Cualquiera</ion-note>\n        <ion-note *ngIf=\"hopeProperty.space !== 0\">{{hopeProperty.space}}</ion-note>\n      </ion-item>\n      <ion-item lines=\"none\" (click)=\"isFilterApply = !isFilterApply; caseFilter = 'Zona'\">\n        <ion-label>\n          Zona\n        </ion-label>\n        <ion-note *ngIf=\"!hopeProperty.zone\">Cualquiera</ion-note>\n        <ion-note *ngIf=\"hopeProperty.zone\">{{hopeProperty.zone}}</ion-note>\n      </ion-item>\n      <ion-item lines=\"none\" (click)=\"isFilterApply = !isFilterApply; caseFilter = 'Cuartos'\">\n        <ion-label>\n          Número de Cuartos\n        </ion-label>\n        <ion-note *ngIf=\"hopeProperty.numRooms === 0\">Cualquiera</ion-note>\n        <ion-note *ngIf=\"hopeProperty.numRooms !== 0\">{{hopeProperty.numRooms}}</ion-note>\n      </ion-item>\n      <ion-item lines=\"none\" (click)=\"isFilterApply = !isFilterApply; caseFilter = 'Carros'\">\n        <ion-label>\n          Espacio para carros\n        </ion-label>\n        <ion-note *ngIf=\"hopeProperty.numCars === 0\">Cualquiera</ion-note>\n        <ion-note *ngIf=\"hopeProperty.numCars !== 0\">{{hopeProperty.numCars}}</ion-note>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          Usado\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"old\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          Nuevo\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"notOld\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          Cerrado\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"close\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          Abierto\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"open\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\" (click)=\"isFilterApply = !isFilterApply; caseFilter = 'Bathrooms'\">\n        <ion-label>\n          Numero de baños\n        </ion-label>\n        <ion-note *ngIf=\"hopeProperty.numBathrooms === 0\">Cualquiera</ion-note>\n        <ion-note *ngIf=\"hopeProperty.numBathrooms !== 0\">{{hopeProperty.numBathrooms}}</ion-note>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          Con Jardin\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"garden\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          Sin Jardin\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"noGarden\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          En plata baja\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"lowLevel\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          Cualquier Nivel\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"noMatterLevel\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          Con Elevador\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"elevator\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          Sin Elevador\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"noElevator\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          Todos los servicios\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"allServices\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <ion-label>\n          Sin Servicios\n        </ion-label>\n        <ion-toggle (ionChange)=\"sendFilters()\" [(ngModel)]=\"notAllServices\" mode=\"md\" slot=\"end\"></ion-toggle>\n      </ion-item>\n      <ion-item lines=\"none\" (click)=\"isFilterApply = !isFilterApply; caseFilter = 'Forma de compra'\">\n        <ion-label>\n          Forma de compra\n        </ion-label>\n        <ion-note *ngIf=\"!hopeProperty.wayToBuy\">Cualquiera</ion-note>\n        <ion-note *ngIf=\"hopeProperty.wayToBuy\">{{hopeProperty.wayToBuy}}</ion-note>\n      </ion-item>\n    </ion-list>\n    <ion-button expand=\"block\" color=\"secondary\" (click)=\"sendFilters();goBack()\">Aplicar</ion-button>\n\n  </ng-template>\n  <ng-template #elseTemplate>\n    <!-- Filtros aplicar -->\n    <span [ngSwitch]=\"caseFilter\">\n      <span *ngSwitchCase=\"'Precio'\">\n        <ion-item>\n          <ion-label>Minimo</ion-label>\n          <ion-input type=\"number\" [(ngModel)]=\"hopeProperty.minPrice\" #minPrice=\"ngModel\" id=\"minPrice\" name=\"minPrice\"></ion-input>\n        </ion-item>\n        <ion-item>\n          <ion-label>Maximo</ion-label>\n          <ion-input type=\"number\" [(ngModel)]=\"hopeProperty.maxPrice\" #maxPrice=\"ngModel\" id=\"maxPrice\" name=\"maxPrice\"></ion-input>\n        </ion-item>\n        <ion-button expand=\"block\" color=\"secondary\" (click)=\"goBack()\">Aplicar</ion-button>\n      </span>\n      <span *ngSwitchCase=\"'Tipo de Vivienda'\">\n        Seleccione uno\n        <ion-list>\n          <ion-radio-group [(ngModel)]=\"hopeProperty.typeOfProperty\">\n            <ion-list-header>\n              <ion-label>Tipo de Vivienda</ion-label>\n            </ion-list-header>\n\n            <ion-item>\n              <ion-label>Casa</ion-label>\n              <ion-radio slot=\"start\" value=\"casa\"></ion-radio>\n            </ion-item>\n\n            <ion-item>\n              <ion-label>Departamento</ion-label>\n              <ion-radio slot=\"start\" value=\"departamento\"></ion-radio>\n            </ion-item>\n\n            <ion-item>\n              <ion-label>Terreno</ion-label>\n              <ion-radio slot=\"start\" value=\"terreno\"></ion-radio>\n            </ion-item>\n\n            <ion-item>\n              <ion-label>Nave Industrial</ion-label>\n              <ion-radio slot=\"start\" value=\"nave industrial\"></ion-radio>\n            </ion-item>\n          </ion-radio-group>\n        </ion-list>\n        <ion-button expand=\"block\" color=\"secondary\" (click)=\"goBack()\">Aplicar</ion-button>\n      </span>\n      <span *ngSwitchCase=\"'Espacio'\">\n        <ion-item>\n          <ion-label>Espacio</ion-label>\n          <ion-input type=\"number\" [(ngModel)]=\"hopeProperty.space\" #space=\"ngModel\" id=\"space\" name=\"space\"></ion-input>\n        </ion-item>\n        <ion-button expand=\"block\" color=\"secondary\" (click)=\"goBack()\">Aplicar</ion-button>\n\n      </span>\n      <span *ngSwitchCase=\"'Zona'\">\n        <ion-item>\n          <ion-label>Zona</ion-label>\n          <ion-input [(ngModel)]=\"hopeProperty.zone\" #zone=\"ngModel\" id=\"zone\" name=\"zone\"></ion-input>\n        </ion-item>\n        <ion-button expand=\"block\" color=\"secondary\" (click)=\"goBack()\">Aplicar</ion-button>\n\n      </span>\n      <span *ngSwitchCase=\"'Cuartos'\">\n        <ion-item>\n          <ion-label>Minimo num. de cuartos </ion-label>\n          <ion-input type=\"number\" [(ngModel)]=\"hopeProperty.numRooms\" #numRooms=\"ngModel\" id=\"numRooms\" name=\"numRooms\"></ion-input>\n        </ion-item>\n        <ion-button expand=\"block\" color=\"secondary\" (click)=\"goBack()\">Aplicar</ion-button>\n\n      </span>\n      <span *ngSwitchCase=\"'Carros'\">\n        <ion-item>\n          <ion-label>Minimo num. de carros </ion-label>\n          <ion-input type=\"number\" [(ngModel)]=\"hopeProperty.numCars\" #numCars=\"ngModel\" id=\"numCars\" name=\"numCars\"></ion-input>\n        </ion-item>\n        <ion-button expand=\"block\" color=\"secondary\" (click)=\"goBack()\">Aplicar</ion-button>\n\n      </span>\n      <span *ngSwitchCase=\"'Bathrooms'\">\n        <ion-item>\n          <ion-label>Minimo num.</ion-label>\n          <ion-input type=\"number\" [(ngModel)]=\"hopeProperty.numBathrooms\" #numBathrooms=\"ngModel\" id=\"numBathrooms\"\n            name=\"numBathrooms\"></ion-input>\n        </ion-item>\n        <ion-button expand=\"block\" color=\"secondary\" (click)=\"goBack()\">Aplicar</ion-button>\n\n      </span>\n      <span *ngSwitchCase=\"'Forma de compra'\">\n        Seleccione uno\n        <ion-list>\n          <ion-radio-group [(ngModel)]=\"hopeProperty.wayToBuy\">\n            <ion-list-header>\n              <ion-label>Forma de compra</ion-label>\n            </ion-list-header>\n\n            <ion-item>\n              <ion-label>FOVISSTE</ion-label>\n              <ion-radio slot=\"start\" value=\"FOVISSTE\"></ion-radio>\n            </ion-item>\n\n            <ion-item>\n              <ion-label>IMSS</ion-label>\n              <ion-radio slot=\"start\" value=\"IMSS\"></ion-radio>\n            </ion-item>\n\n            <ion-item>\n              <ion-label>Contado</ion-label>\n              <ion-radio slot=\"start\" value=\"contado\"></ion-radio>\n            </ion-item>\n\n            <ion-item>\n              <ion-label>PEMEX</ion-label>\n              <ion-radio slot=\"start\" value=\"PEMEX\"></ion-radio>\n            </ion-item>\n            <ion-item>\n              <ion-label>Infonavit</ion-label>\n              <ion-radio slot=\"start\" value=\"infonavit\"></ion-radio>\n            </ion-item>\n            <ion-item>\n              <ion-label>Aliados</ion-label>\n              <ion-radio slot=\"start\" value=\"aliados\"></ion-radio>\n            </ion-item>\n            <ion-item>\n              <ion-label>Otros</ion-label>\n              <ion-radio slot=\"start\" value=\"otros\"></ion-radio>\n            </ion-item>\n          </ion-radio-group>\n        </ion-list>\n        <ion-button expand=\"block\" color=\"secondary\" (click)=\"goBack()\">Aplicar</ion-button>\n      </span>\n\n      <!--   <p *ngSwitchDefault>\n  \n  </p> -->\n    </span>\n  </ng-template>\n</ion-content>\n\n<!-- </div> -->\n\n<!-- <ion-footer *ngIf=\"!isFilterApply\">\n  <ion-toolbar>\n    <ion-button expand=\"block\" color=\"secondary\" (click)=\"sendFilters();goBack()\">Aplicar</ion-button>\n  </ion-toolbar>\n</ion-footer> -->"

/***/ }),

/***/ "./src/app/components/general/general-filters/general-filters.component.scss":
/*!***********************************************************************************!*\
  !*** ./src/app/components/general/general-filters/general-filters.component.scss ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".parent20 {\n  height: 563px;\n  overflow: auto; }\n\n.main-container {\n  height: 75vh;\n  /* or position:absolute; height:100%; */\n  display: flex;\n  flex-direction: column; }\n\n/* an arbitrary container of fixed height */\n\n.fixed-container {\n  height: 100px;\n  padding: 20px;\n  background-color: #0B5AB0;\n  color: white; }\n\n/* this is the flex container that will take the rest of the height */\n\n.content-wrapper {\n  display: flex;\n  flex: 1;\n  min-height: 0px;\n  /* IMPORTANT: you need this for non-chrome browsers */ }\n\n/* the container for our overflowed content */\n\n.overflow-container {\n  flex: 1;\n  overflow: auto; }\n\n/* the overflow content itself */\n\n.overflow-content {\n  height: 2000px;\n  color: black;\n  background-color: #ddd;\n  padding: 20px; }\n"

/***/ }),

/***/ "./src/app/components/general/general-filters/general-filters.component.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/components/general/general-filters/general-filters.component.ts ***!
  \*********************************************************************************/
/*! exports provided: GeneralFiltersComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeneralFiltersComponent", function() { return GeneralFiltersComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var GeneralFiltersComponent = /** @class */ (function () {
    function GeneralFiltersComponent(menuCtr) {
        this.menuCtr = menuCtr;
        this.isDesktop = false;
        this.filters = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.resetAll = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.closeMenuMaterial = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.isFilterApply = false;
        this.hopeProperty = {
            minPrice: 0,
            numBathrooms: 0,
            numCars: 0,
            numRooms: 0,
            space: 0,
        };
        this.rent = false;
        this.sell = false;
        this.old = false;
        this.notOld = false;
        this.garden = false;
        this.noGarden = false;
        this.lowLevel = false;
        this.noMatterLevel = false;
        this.elevator = false;
        this.noElevator = false;
        this.allServices = false;
        this.notAllServices = false;
        this.open = false;
        this.close = false;
    }
    GeneralFiltersComponent.prototype.ngOnInit = function () { };
    GeneralFiltersComponent.prototype.goBack = function () {
        if (this.isFilterApply) {
            this.sendFilters();
            this.isFilterApply = false;
        }
        else {
            this.menuCtr.close('filters');
            if (!this.isDesktop) {
                this.closeMenuMaterial.emit();
            }
        }
    };
    GeneralFiltersComponent.prototype.sendFilters = function () {
        if (this.rent !== this.sell) {
            this.hopeProperty.isRent = this.rent;
        }
        else {
            this.hopeProperty.isRent = undefined;
        }
        if (this.old !== this.notOld) {
            this.hopeProperty.isOld = this.old;
        }
        else {
            this.hopeProperty.isOld = undefined;
        }
        if (this.garden !== this.noGarden) {
            this.hopeProperty.hasGarden = this.garden;
        }
        else {
            this.hopeProperty.hasGarden = undefined;
        }
        if (this.lowLevel !== this.noMatterLevel) {
            this.hopeProperty.isLowLevel = this.lowLevel;
        }
        else {
            this.hopeProperty.isLowLevel = undefined;
        }
        if (this.elevator !== this.noElevator) {
            this.hopeProperty.hasElevator = this.elevator;
        }
        else {
            this.hopeProperty.hasElevator = undefined;
        }
        if (this.allServices !== this.notAllServices) {
            this.hopeProperty.allServices = this.allServices;
        }
        else {
            this.hopeProperty.allServices = undefined;
        }
        if (this.open !== this.close) {
            this.hopeProperty.isClose = this.close;
        }
        else {
            this.hopeProperty.isClose = undefined;
        }
        console.log(this.hopeProperty);
        this.filters.emit(this.hopeProperty);
    };
    GeneralFiltersComponent.prototype.reset = function () {
        this.rent = false;
        this.sell = false;
        this.old = false;
        this.notOld = false;
        this.garden = false;
        this.noGarden = false;
        this.lowLevel = false;
        this.noMatterLevel = false;
        this.elevator = false;
        this.noElevator = false;
        this.allServices = false;
        this.notAllServices = false;
        this.open = false;
        this.close = false;
        this.hopeProperty = {
            minPrice: 0,
            numBathrooms: 0,
            numCars: 0,
            numRooms: 0,
            space: 0,
        };
        this.resetAll.emit();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], GeneralFiltersComponent.prototype, "isDesktop", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralFiltersComponent.prototype, "filters", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralFiltersComponent.prototype, "resetAll", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralFiltersComponent.prototype, "closeMenuMaterial", void 0);
    GeneralFiltersComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-general-filters',
            template: __webpack_require__(/*! ./general-filters.component.html */ "./src/app/components/general/general-filters/general-filters.component.html"),
            styles: [__webpack_require__(/*! ./general-filters.component.scss */ "./src/app/components/general/general-filters/general-filters.component.scss")],
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["MenuController"]])
    ], GeneralFiltersComponent);
    return GeneralFiltersComponent;
}());



/***/ }),

/***/ "./src/app/components/general/general-skeleton/general-skeleton.component.html":
/*!*************************************************************************************!*\
  !*** ./src/app/components/general/general-skeleton/general-skeleton.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-skeleton-text width=40px></ion-skeleton-text>\n<ion-skeleton-text width=200px></ion-skeleton-text>\n<ion-skeleton-text width=600px></ion-skeleton-text>\n<ion-skeleton-text width=100px></ion-skeleton-text>\n<ion-skeleton-text width=80px></ion-skeleton-text>"

/***/ }),

/***/ "./src/app/components/general/general-skeleton/general-skeleton.component.scss":
/*!*************************************************************************************!*\
  !*** ./src/app/components/general/general-skeleton/general-skeleton.component.scss ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/general/general-skeleton/general-skeleton.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/components/general/general-skeleton/general-skeleton.component.ts ***!
  \***********************************************************************************/
/*! exports provided: GeneralSkeletonComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeneralSkeletonComponent", function() { return GeneralSkeletonComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var GeneralSkeletonComponent = /** @class */ (function () {
    function GeneralSkeletonComponent() {
    }
    GeneralSkeletonComponent.prototype.ngOnInit = function () {
    };
    GeneralSkeletonComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-general-skeleton',
            template: __webpack_require__(/*! ./general-skeleton.component.html */ "./src/app/components/general/general-skeleton/general-skeleton.component.html"),
            styles: [__webpack_require__(/*! ./general-skeleton.component.scss */ "./src/app/components/general/general-skeleton/general-skeleton.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], GeneralSkeletonComponent);
    return GeneralSkeletonComponent;
}());



/***/ }),

/***/ "./src/app/components/general/general-table/general-table.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/components/general/general-table/general-table.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ng-container *ngIf=\"isDesktop; then: Desktop; else: Device\"></ng-container>\n<ng-template #Desktop>\n  <mat-card [class.mat-elevation-z0]=\"true\" class=\"border-filter\">\n    <mat-card-title>Búsqueda General</mat-card-title>\n    <div class=\"row\">\n      <mat-form-field style=\"margin-right: 1%\" appearance=\"fill\">\n        <mat-label>Buscar en toda la tabla </mat-label>\n        <input\n          matInput\n          (keyup)=\"applyFilter($event.target.value)\"\n          placeholder=\"Buscar...\"\n        />\n      </mat-form-field>\n      <div>\n        <mat-chip-list *ngIf=\"showChips\">\n          <span *ngFor=\"let row of rows\">\n            <mat-chip\n              *ngIf=\"row.checkBox\"\n              [removable]=\"true\"\n              [selectable]=\"true\"\n              (removed)=\"\n                checkbox.emit({ isChecked: false, row: row });\n                row.checkBox = false\n              \"\n              >{{ row.nameChip }}\n              <mat-icon matChipRemove>cancel</mat-icon>\n            </mat-chip>\n          </span>\n        </mat-chip-list>\n      </div>\n    </div>\n  </mat-card>\n  <div style=\"margin: 1%\" class=\"mat-elevation-z8\">\n    <mat-progress-bar\n      *ngIf=\"showLoader\"\n      mode=\"indeterminate\"\n      color=\"accent\"\n    ></mat-progress-bar>\n    <div\n      class=\"table-container\"\n      style=\"overflow-x:auto; \"\n      *ngIf=\"rows && dataSource\"\n    >\n      <table mat-table [dataSource]=\"dataSource\" matSort>\n        <ng-container\n          *ngFor=\"let column of columns\"\n          [cdkColumnDef]=\"column.prop\"\n        >\n          <th\n            mat-header-cell\n            mat-sort-header=\"{{column.prop}}\"\n            disabled=\"{{column.disabledSort ? column.disabledSort : false}}\"\n            [ngClass]=\"{ customWidthClass: column.w }\"\n            *cdkHeaderCellDef\n          >\n            {{ column.name }}\n            <!-- checkbox all -->\n            <mat-checkbox\n              #CheckboxAll\n              (change)=\"changeAllCheckbox($event.checked)\"\n              *ngIf=\"column.type === 'checkBox'\"\n            >\n            </mat-checkbox>\n          </th>\n\n          <!-- check -->\n          <span *ngIf=\"column.type === 'checkBox'\">\n            <td mat-cell *cdkCellDef=\"let row\">\n              <mat-checkbox\n                [checked]=\"row[column.prop]\"\n                (change)=\"\n                  checkbox.emit({ isChecked: $event.checked, row: row });\n                  row[column.prop] = $event.checked\n                \"\n              ></mat-checkbox>\n            </td>\n          </span>\n          <!-- normal -->\n          <span *ngIf=\"column.type === 'normal'\">\n            <td\n              mat-cell\n              [ngClass]=\"{ customWidthClass: column.w }\"\n              *cdkCellDef=\"let row\"\n            >\n              {{ row[column.prop] }}\n            </td>\n          </span>\n          <!-- date -->\n          <div *ngIf=\"column.type === 'date'\">\n            <td\n              mat-cell\n              style=\"padding: 0% 1% 0% 1%\"\n              [ngClass]=\"{ customWidthClass: column.w }\"\n              *cdkCellDef=\"let row\"\n            >\n              {{ formatDates(row[column.prop]) }}\n            </td>\n          </div>\n          <!--\n            status\n            name\n            status\n          -->\n          <span *ngIf=\"column.type === 'status'\">\n            <td\n              mat-cell\n              class=\"center-cell \"\n              [ngClass]=\"{ customWidthClass: column.w }\"\n              *cdkCellDef=\"let row\"\n            >\n              <ion-chip\n                *ngFor=\"let property of row[column.prop]\"\n                [ngClass]=\"{\n                  'background-gris': property.status === 'gris',\n                  'background-verde': property.status === 'verde',\n                  'background-amarillo': property.status === 'amarillo',\n                  'background-rojo': property.status === 'rojo',\n                  'background-azul': property.status === 'azul'\n                }\"\n              >\n                <ion-label>{{ property.name }}</ion-label>\n              </ion-chip>\n            </td>\n          </span>\n          <!-- boolean -->\n          <span *ngIf=\"column.type === 'boolean'\">\n            <td\n              mat-cell\n              class=\"center-cell\"\n              [ngClass]=\"{ customWidthClass: column.w }\"\n              *cdkCellDef=\"let row\"\n            >\n              <span class=\"margin-ranking \">\n                <button\n                  *ngIf=\"row[column.prop]\"\n                  (click)=\"onSelect(row)\"\n                  mat-icon-button\n                >\n                  <mat-icon class=\"secondary-text\" class=\"green-icon\"\n                    >check_circle</mat-icon\n                  >\n                </button>\n                <button\n                  *ngIf=\"!row[column.prop]\"\n                  (click)=\"onSelect(row)\"\n                  mat-icon-button\n                >\n                  <mat-icon class=\"secondary-text\" class=\"red-icon\"\n                    >cancel</mat-icon\n                  >\n                </button>\n              </span>\n            </td>\n          </span>\n          <!-- ranking -->\n          <span *ngIf=\"column.type === 'ranking'\">\n            <td\n              mat-cell\n              [ngClass]=\"{ customWidthClass: column.w }\"\n              class=\"margin-ranking\"\n              *cdkCellDef=\"let row\"\n            >\n              <div class=\"flexbox-ranking\">\n                <span *ngIf=\"row[column.prop] > 0\">\n                  <mat-icon\n                    *ngFor=\"let starts of getArray(row[column.prop])\"\n                    class=\"secondary-text\"\n                    class=\"yellow-icon\"\n                    >star_rate</mat-icon\n                  >\n                </span>\n                <span *ngIf=\"row[column.prop] === 0\"> Sin calificar </span>\n              </div>\n            </td>\n          </span>\n          <!-- money -->\n          <span *ngIf=\"column.type === 'money'\">\n            <td\n              mat-cell\n              class=\"center-cell\"\n              [ngClass]=\"{ customWidthClass: column.w }\"\n              *cdkCellDef=\"let row\"\n            >\n              $ {{ row[column.prop].toFixed(2) }}\n            </td>\n          </span>\n          <!-- number -->\n          <span *ngIf=\"column.type === 'number'\">\n            <td\n              mat-cell\n              class=\"center-cell\"\n              style=\"text-align: center\"\n              [ngClass]=\"{ customWidthClass: column.w }\"\n              *cdkCellDef=\"let row\"\n            >\n              {{ row[column.prop] }}\n            </td>\n          </span>\n          <!--\n            phone\n            <a href=\"tel:+13174562564\">317-456-2564</a>\n          -->\n          <span *ngIf=\"column.type === 'phone'\">\n            <td\n              mat-cell\n              class=\"center-cell\"\n              [ngClass]=\"{ customWidthClass: column.w }\"\n              *cdkCellDef=\"let row\"\n            >\n              <a [href]=\"'tel:' + row[column.prop]\">{{ row[column.prop] }}</a>\n            </td>\n          </span>\n          <!-- tags -->\n          <span *ngIf=\"column.type === 'tags'\">\n            <td\n              mat-cell\n              class=\"center-cell \"\n              [ngClass]=\"{ customWidthClass: column.w }\"\n              *cdkCellDef=\"let row\"\n            >\n              <span\n                class=\"label\"\n                [ngClass]=\"{\n                  success: row[column.prop].style == 'buyer',\n                  info: row[column.prop].style == 'adviser',\n                  other: row[column.prop].style == 'seller'\n                }\"\n              >\n                {{ row[column.prop].name }}\n              </span>\n            </td>\n          </span>\n          <!-- butons -->\n          <span *ngIf=\"column.type === 'buttons'\">\n            <td\n              mat-cell\n              [ngClass]=\"{ customWidthClass: column.w }\"\n              *cdkCellDef=\"let row\"\n              style=\"justify-content: center;\"\n            >\n              <div class=\"flexbox-buttons\">\n                <button\n                  mat-icon-button\n                  matTooltip=\"Detalles\"\n                  matTooltipPosition=\"above\"\n                  color=\"primary\"\n                  *ngIf=\"column.buttonDetails\"\n                  (click)=\"detailsItem(row)\"\n                >\n                  <mat-icon class=\"secondary-text\">info</mat-icon>\n                </button>\n                <button\n                  mat-icon-button\n                  color=\"primary\"\n                  matTooltip=\"Editar\"\n                  matTooltipPosition=\"above\"\n                  *ngIf=\"column.buttonEdit\"\n                  (click)=\"editItem(row)\"\n                >\n                  <mat-icon class=\"secondary-text\">create</mat-icon>\n                </button>\n                <button\n                  mat-icon-button\n                  color=\"warn\"\n                  matTooltip=\"Borrar\"\n                  matTooltipPosition=\"above\"\n                  *ngIf=\"column.buttonDeleted\"\n                  (click)=\"deletedItem(row)\"\n                >\n                  <mat-icon class=\"secondary-text\">delete</mat-icon>\n                </button>\n                <button\n                  mat-icon-button\n                  color=\"primary\"\n                  matTooltip=\"Mensaje\"\n                  matTooltipPosition=\"above\"\n                  *ngIf=\"column.buttonMail\"\n                  (click)=\"mailItem(row)\"\n                >\n                  <mat-icon class=\"secondary-text\">mail</mat-icon>\n                </button>\n                <button\n                  mat-icon-button\n                  color=\"primary\"\n                  matTooltip=\"Calificar\"\n                  matTooltipPosition=\"above\"\n                  *ngIf=\"column.buttonRating && row.status === 'Cerrado'\"\n                  (click)=\"ratingItem(row)\"\n                >\n                  <mat-icon class=\"secondary-text\">stars</mat-icon>\n                </button>\n              </div>\n            </td>\n          </span>\n        </ng-container>\n        <!--\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns; sticky: true\"></tr>\n        -->\n        <tr\n          mat-header-row\n          *matHeaderRowDef=\"displayedColumns; sticky: true\"\n        ></tr>\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n      </table>\n    </div>\n\n    <mat-paginator\n      [pageSizeOptions]=\"[5, 10, 25, 100]\"\n      [pageSize]=\"10\"\n    ></mat-paginator>\n  </div>\n  <br />\n</ng-template>\n<!-- Celular lista -->\n<ng-template #Device>\n  <!-- Default Searchbar -->\n  <ion-searchbar\n    (ionClear)=\"serach(undefined)\"\n    (keyup)=\"serach(Search.value)\"\n    placeholder=\"Buscar...\"\n    #Search\n    animated\n    showCancelButton\n    cancelButtonText=\"Cancelar\"\n  ></ion-searchbar>\n  <ion-list>\n    <ion-item lines=\"inset\" *ngFor=\"let row of dataSource.data\">\n      <ion-icon\n        *ngIf=\"isIcon\"\n        style=\"color: #F5811E\"\n        [name]=\"row.iconName\"\n        slot=\"start\"\n      ></ion-icon>\n      <!--\n        <ion-icon  style=\"color: #F5811E\" name=\"home\" slot=\"start\"></ion-icon>\n      -->\n      <ion-label text-wrap>\n        <span *ngFor=\"let column of columns; let ii = index\">\n          <!-- title -->\n          <h2 *ngIf=\"ii === 0 && column.type === 'normal'\">\n            <b>{{ row[column.prop] }}</b>\n          </h2>\n          <!-- normal -->\n          <p *ngIf=\"column.type === 'normal' && ii !== 0\">\n            <b> {{ column.name }}: </b>{{ row[column.prop] }}\n          </p>\n          <!-- number -->\n          <p *ngIf=\"column.type === 'number'\">\n            <b> {{ column.name }}: </b>{{ row[column.prop] }}\n          </p>\n\n          <!-- fecha -->\n          <p *ngIf=\"column.type === 'date'\">\n            <b> {{ column.name }}: </b> {{ formatDates(row[column.prop]) }}\n          </p>\n          <!-- boolean -->\n          <span *ngIf=\"column.type === 'boolean'\">\n            <button\n              *ngIf=\"row[column.prop]\"\n              (click)=\"onSelect(row)\"\n              mat-icon-button\n            >\n              <b> {{ column.name }} </b>\n              <mat-icon class=\"secondary-text\" class=\"green-icon\"\n                >check_circle</mat-icon\n              >\n            </button>\n            <button\n              *ngIf=\"!row[column.prop]\"\n              (click)=\"onSelect(row)\"\n              mat-icon-button\n            >\n              <b> {{ column.name }} </b>\n              <mat-icon class=\"secondary-text\" class=\"red-icon\"\n                >cancel</mat-icon\n              >\n            </button>\n          </span>\n          <!-- money -->\n          <span *ngIf=\"column.type === 'money'\">\n            <p>\n              <b>{{ column.name }}: </b>$ {{ row[column.prop].toFixed(2) }}\n            </p>\n          </span>\n\n          <!-- phone -->\n          <!--\n            <p *ngIf=\"column.type === 'phone'\"><a [href]=\"'tel:'+row[column.prop]\">{{ row[column.prop]}}</a></p>\n          -->\n\n          <!-- status -->\n          <span *ngIf=\"column.type === 'status'\">\n            <ion-chip\n              *ngFor=\"let property of row[column.prop]\"\n              [ngClass]=\"{\n                'background-gris': property.status === 'gris',\n                'background-verde': property.status === 'verde',\n                'background-amarillo': property.status === 'amarillo',\n                'background-rojo': property.status === 'rojo',\n                'background-azul': property.status === 'azul'\n              }\"\n            >\n              <ion-label>{{ property.name }}</ion-label>\n            </ion-chip>\n          </span>\n        </span>\n      </ion-label>\n      <!-- botones -->\n      <div *ngFor=\"let column of columns\">\n        <button\n          *ngIf=\"column.type === 'buttons' && column.buttonDetails\"\n          mat-icon-button\n          color=\"primary\"\n          (click)=\"detailsItem(row)\"\n        >\n          <mat-icon>info</mat-icon>\n        </button>\n        <a\n          *ngIf=\"column.type === 'phone'\"\n          mat-icon-button\n          color=\"primary\"\n          [href]=\"'tel:' + row[column.prop]\"\n        >\n          <mat-icon>phone</mat-icon>\n        </a>\n        <button\n          *ngIf=\"column.type === 'buttons' && column.buttonEdit\"\n          mat-icon-button\n          color=\"primary\"\n          (click)=\"editItem(row)\"\n        >\n          <mat-icon>create</mat-icon>\n        </button>\n        <mat-checkbox\n          [checked]=\"row[column.prop]\"\n          (change)=\"\n            checkbox.emit({ isChecked: $event.checked, row: row });\n            row[column.prop] = $event.checked\n          \"\n          *ngIf=\"column.type === 'checkBox'\"\n        ></mat-checkbox>\n      </div>\n    </ion-item>\n  </ion-list>\n  <div class=\"space-buttons\"></div>\n</ng-template>\n"

/***/ }),

/***/ "./src/app/components/general/general-table/general-table.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/components/general/general-table/general-table.component.scss ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "table {\n  width: 100%; }\n\n.row {\n  display: flex;\n  flex-direction: row; }\n\n.table-container {\n  height: 500px;\n  overflow: auto; }\n\n.buttons-movile-container {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: 30%; }\n\ntd,\nth {\n  width: 15%; }\n\n.customWidthClass {\n  flex: 0 0 6%; }\n\n.red-icon {\n  color: red; }\n\n.green-icon {\n  color: green; }\n\n.yellow-icon {\n  size: 1px !important;\n  color: goldenrod; }\n\n.flexbox-ranking {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap; }\n\n.flexbox-buttons {\n  display: flex;\n  flex-direction: row; }\n\n.margin-ranking {\n  margin-right: 3px;\n  margin-left: 3px; }\n\n.center-cell {\n  justify-content: center; }\n\n.righ-cell {\n  justify-content: flex-end; }\n\n.chip-yellow {\n  background-color: #ffe57f; }\n\n.chip-green {\n  background-color: #b9f6ca; }\n\n.chip-black {\n  background-color: #546e7a;\n  color: white; }\n\n.tag {\n  background-color: blue;\n  color: white;\n  border-radius: 25%; }\n\n.label {\n  color: white;\n  padding: 8px;\n  border-radius: 12px; }\n\n.success {\n  background-color: #f5bd8c;\n  color: black; }\n\n/* Green */\n\n.info {\n  background-color: #2196f3; }\n\n/* Blue */\n\n.warning {\n  background-color: #ff9800; }\n\n/* Orange */\n\n.danger {\n  background-color: #f44336; }\n\n/* Red */\n\n.other {\n  background-color: #47525d; }\n\n/* Gray */\n"

/***/ }),

/***/ "./src/app/components/general/general-table/general-table.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/components/general/general-table/general-table.component.ts ***!
  \*****************************************************************************/
/*! exports provided: GeneralTableComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeneralTableComponent", function() { return GeneralTableComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var GeneralTableComponent = /** @class */ (function () {
    function GeneralTableComponent(_iterableDiffers) {
        this._iterableDiffers = _iterableDiffers;
        this.months = [
            'Enero',
            'Febrero',
            'Marzo',
            'Abril',
            'Mayo',
            'Junio',
            'Julio',
            'Agosto',
            'Septiembre',
            'Octubre',
            'Noviembre',
            'Diciembre'
        ];
        this.isIcon = false;
        this.isDesktop = true;
        this.showFilterByStatus = true;
        this.editButton = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.deletedButton = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.detailsButton = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.mailButton = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.ratingButton = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.checkbox = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        // Assign the data to the data source for the table to render
        this.iterableDiffer = this._iterableDiffers.find([]).create(null);
    }
    GeneralTableComponent.prototype.ngOnInit = function () {
        // TICKETS.map(item => item.timestamp);
        // this.dataSource.sort = this.sort;
    };
    // ve los cambios en array lenght = 0
    /* ngDoCheck() {
      const changes = this.iterableDiffer.diff(this.rows);
      if (changes) {
        console.log(changes);
        this.dataSource = new MatTableDataSource(changes.collection);
        this.realData = changes.collection;
        this.dataSource.paginator = this.paginator;
        this.dataSource.sort = this.sort;
      }
    } */
    GeneralTableComponent.prototype.ngOnChanges = function (changes) {
        var _this = this;
        if (changes.columns) {
            if (changes.columns.currentValue) {
                this.displayedColumns = changes.columns.currentValue.map(function (colum) { return colum.prop; });
            }
        }
        if (changes.rows) {
            if (changes.rows.currentValue) {
                this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](changes.rows.currentValue);
                this.realData = changes.rows.currentValue;
                // paginator works !!
                setTimeout(function () { return (_this.dataSource.paginator = _this.paginator); });
                this.dataSource.sort = this.sort;
            }
        }
        // loader
        if (changes.showLoader) {
            if (changes.showLoader.currentValue) {
                this.showLoader = changes.showLoader.currentValue;
            }
        }
    };
    GeneralTableComponent.prototype.applyFilter = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
        if (this.dataSource.paginator) {
            this.dataSource.paginator.firstPage();
        }
    };
    GeneralTableComponent.prototype.serach = function (str) {
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](this.realData);
        if (str !== undefined) {
            var searchString_1 = function (row) {
                return (Object.values(row).filter(function (v) {
                    return v
                        .toString()
                        .toLocaleLowerCase()
                        .indexOf(str.toLocaleLowerCase()) >= 0;
                }).length > 0);
            };
            var filter = this.dataSource.data.filter(function (row) { return searchString_1(row); });
            this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](filter);
        }
    };
    GeneralTableComponent.prototype.filterByDay = function (day) {
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](this.realData);
        var dayFinded = this.dataSource.data.filter(function (item) { return new Date(item.timestamp).getDate() === +day; });
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](dayFinded);
        if (!day) {
            this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](this.realData);
        }
    };
    GeneralTableComponent.prototype.filterByYear = function (year) {
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](this.realData);
        var dayFinded = this.dataSource.data.filter(function (item) { return new Date(item.timestamp).getFullYear() === +year; });
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](dayFinded);
        if (!year) {
            this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](this.realData);
        }
    };
    GeneralTableComponent.prototype.filterByMonth = function (month) {
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](this.realData);
        var dayFinded = this.dataSource.data.filter(function (item) { return new Date(item.timestamp).getMonth() === +month; });
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](dayFinded);
        if (isNaN(month)) {
            this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](this.realData);
        }
    };
    GeneralTableComponent.prototype.filterByState = function (status) {
        if (!status) {
            this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](this.realData);
        }
        else {
            this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](this.realData);
            var stateFinded = this.dataSource.data.filter(function (item) { return item.status.toLowerCase() === status.toLowerCase(); });
            this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](stateFinded);
        }
    };
    GeneralTableComponent.prototype.formatDates = function (dateInput) {
        var day = new Date(dateInput).getDate().toString();
        var month = (new Date(dateInput).getMonth() + 1).toString();
        var year = new Date(dateInput).getFullYear().toString();
        var date = day + '/' + month + '/' + year;
        return date;
    };
    GeneralTableComponent.prototype.getArray = function (numberItems) {
        return Array(numberItems).fill(1);
    };
    GeneralTableComponent.prototype.onSelect = function (item) {
        console.log(item);
    };
    GeneralTableComponent.prototype.deletedItem = function (item) {
        this.deletedButton.emit(item);
    };
    GeneralTableComponent.prototype.mailItem = function (item) {
        this.mailButton.emit(item);
    };
    GeneralTableComponent.prototype.ratingItem = function (item) {
        this.ratingButton.emit(item);
    };
    GeneralTableComponent.prototype.editItem = function (item) {
        this.editButton.emit(item);
    };
    GeneralTableComponent.prototype.detailsItem = function (item) {
        this.detailsButton.emit(item);
    };
    GeneralTableComponent.prototype.changeAllCheckbox = function (event) {
        var _this = this;
        this.rows.map(function (r) { return (r.checkBox = event); });
        this.rows.forEach(function (row) {
            _this.checkbox.emit({ isChecked: event, row: row });
        });
    };
    // sort despues de iniciar
    GeneralTableComponent.prototype.ngAfterViewInit = function () {
        this.dataSource.sort = this.sort;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], GeneralTableComponent.prototype, "isIcon", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], GeneralTableComponent.prototype, "isDesktop", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], GeneralTableComponent.prototype, "showFilterByStatus", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], GeneralTableComponent.prototype, "columns", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], GeneralTableComponent.prototype, "rows", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], GeneralTableComponent.prototype, "showLoader", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], GeneralTableComponent.prototype, "showChips", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralTableComponent.prototype, "editButton", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralTableComponent.prototype, "deletedButton", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralTableComponent.prototype, "detailsButton", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralTableComponent.prototype, "mailButton", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralTableComponent.prototype, "ratingButton", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], GeneralTableComponent.prototype, "checkbox", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatPaginator"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatPaginator"])
    ], GeneralTableComponent.prototype, "paginator", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"])
    ], GeneralTableComponent.prototype, "sort", void 0);
    GeneralTableComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-general-table',
            template: __webpack_require__(/*! ./general-table.component.html */ "./src/app/components/general/general-table/general-table.component.html"),
            styles: [__webpack_require__(/*! ./general-table.component.scss */ "./src/app/components/general/general-table/general-table.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["IterableDiffers"]])
    ], GeneralTableComponent);
    return GeneralTableComponent;
}());



/***/ }),

/***/ "./src/app/components/general/goal-progress/goal-progress.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/components/general/goal-progress/goal-progress.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<circle-progress [percent]=\"percent\" [radius]=\"150\" [outerStrokeWidth]=\"16\" [innerStrokeWidth]=\"8\" [outerStrokeColor]=\"outerStrokeColor\"\n  [animation]=\"true\" [subtitle]=\"subtitle\" [animationDuration]=\"animationDuration\" [titleFontSize]=\"titleFontSize\"\n  [unitsFontSize]=\"unitsFontSize\" [subtitleFontSize]=\"subtitleFontSize\"></circle-progress>"

/***/ }),

/***/ "./src/app/components/general/goal-progress/goal-progress.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/components/general/goal-progress/goal-progress.component.scss ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/general/goal-progress/goal-progress.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/components/general/goal-progress/goal-progress.component.ts ***!
  \*****************************************************************************/
/*! exports provided: GoalProgressComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GoalProgressComponent", function() { return GoalProgressComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var GoalProgressComponent = /** @class */ (function () {
    function GoalProgressComponent(platform) {
        this.platform = platform;
        this.outerStrokeColor = '#78C000';
        this.animationDuration = 1600;
        this.isDesktop = this.platform.is('desktop');
    }
    GoalProgressComponent.prototype.ngOnInit = function () {
        if (this.isDesktop) {
            this.titleFontSize = '40';
            this.unitsFontSize = '15';
            this.subtitleFontSize = '15';
        }
        else {
            this.titleFontSize = '80';
            this.unitsFontSize = '20';
            this.subtitleFontSize = '20';
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], GoalProgressComponent.prototype, "percent", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], GoalProgressComponent.prototype, "subtitle", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], GoalProgressComponent.prototype, "outerStrokeColor", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], GoalProgressComponent.prototype, "titleFontSize", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], GoalProgressComponent.prototype, "unitsFontSize", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], GoalProgressComponent.prototype, "subtitleFontSize", void 0);
    GoalProgressComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-goal-progress',
            template: __webpack_require__(/*! ./goal-progress.component.html */ "./src/app/components/general/goal-progress/goal-progress.component.html"),
            styles: [__webpack_require__(/*! ./goal-progress.component.scss */ "./src/app/components/general/goal-progress/goal-progress.component.scss")],
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"]])
    ], GoalProgressComponent);
    return GoalProgressComponent;
}());



/***/ }),

/***/ "./src/app/components/general/maps-button/maps-button.component.html":
/*!***************************************************************************!*\
  !*** ./src/app/components/general/maps-button/maps-button.component.html ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-button (click)=\"openMaps()\" fill=\"outline\" slot=\"end\">\n  Ver Mapa<ion-icon name=\"navigate\"></ion-icon>\n</ion-button>"

/***/ }),

/***/ "./src/app/components/general/maps-button/maps-button.component.scss":
/*!***************************************************************************!*\
  !*** ./src/app/components/general/maps-button/maps-button.component.scss ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/general/maps-button/maps-button.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/components/general/maps-button/maps-button.component.ts ***!
  \*************************************************************************/
/*! exports provided: MapsButtonComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapsButtonComponent", function() { return MapsButtonComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _ionic_native_launch_navigator_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/launch-navigator/ngx */ "./node_modules/@ionic-native/launch-navigator/ngx/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MapsButtonComponent = /** @class */ (function () {
    function MapsButtonComponent(platform, launchNavigator) {
        this.platform = platform;
        this.launchNavigator = launchNavigator;
        this.address = 'centro';
        this.city = 'Puebla';
    }
    MapsButtonComponent.prototype.ngOnInit = function () { };
    MapsButtonComponent.prototype.openMaps = function () {
        var isCordova = this.platform.is('cordova');
        if (isCordova) {
            var isAndroid = this.platform.is('android');
            if (isAndroid) {
                var options = {
                    app: launchnavigator.APP.GOOGLE_MAPS
                };
                this.launchNavigator
                    .navigate(this.address, options)
                    .then(function (success) { return console.log('Launched navigator'); }, function (error) { return console.log('Error launching navigator', error); });
            }
            else {
                var options = {
                    app: launchnavigator.LAUNCH_MODE.MAPKIT
                };
                this.launchNavigator
                    .navigate(this.address)
                    .then(function (success) { return console.log('Launched navigator'); }, function (error) { return console.log('Error launching navigator', error); });
            }
        }
        else {
            window.location.href = "http://maps.google.com/?q=" + this.address + ", " + this.city;
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], MapsButtonComponent.prototype, "address", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], MapsButtonComponent.prototype, "city", void 0);
    MapsButtonComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-maps-button',
            template: __webpack_require__(/*! ./maps-button.component.html */ "./src/app/components/general/maps-button/maps-button.component.html"),
            styles: [__webpack_require__(/*! ./maps-button.component.scss */ "./src/app/components/general/maps-button/maps-button.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _ionic_native_launch_navigator_ngx__WEBPACK_IMPORTED_MODULE_2__["LaunchNavigator"]])
    ], MapsButtonComponent);
    return MapsButtonComponent;
}());



/***/ }),

/***/ "./src/app/components/general/menu-general/menu-general.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/components/general/menu-general/menu-general.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-toolbar color=\"primary\">\n  <ion-buttons slot=\"start\">\n    <ion-back-button *ngIf=\"isMenuButton === 'back'\" [ngStyle]=\"{'color': colorMenuButton }\"></ion-back-button>\n    <ion-menu-button *ngIf=\"isMenuButton === 'menu'\" [ngStyle]=\"{'color': colorMenuButton }\"></ion-menu-button>\n  </ion-buttons>\n  <ion-title>\n    {{titleMenu}}\n  </ion-title>\n  <ion-buttons slot=\"end\">\n    <ion-button *ngIf=\"buttonNotification &&  (numOfNewNoti | async) > 0 && !isDesktop\" id=\"cart-btn\" [routerDirection]=\"'root'\"\n      routerLink=\"/list-notification\">\n      <ion-icon slot=\"icon-only\" [name]=\"buttonNotification\">\n      </ion-icon>\n      <ion-badge *ngIf=\" (numOfNewNoti | async) > 0\" id=\"cart-badge\" color=\"danger\">{{(numOfNewNoti | async)}}</ion-badge>\n    </ion-button>\n    <ion-button (click)=\"presentPopover($event)\" *ngIf=\"buttonUser\" [ngStyle]=\"{'color': colorMenuButton }\">\n      <ion-icon slot=\"icon-only\" [name]=\"buttonUser\"></ion-icon>\n    </ion-button>\n  </ion-buttons>\n</ion-toolbar>"

/***/ }),

/***/ "./src/app/components/general/menu-general/menu-general.component.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/components/general/menu-general/menu-general.component.scss ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#notification-button {\n  position: relative;\n  width: 42px;\n  top: 1px;\n  right: 1px;\n  overflow: visible !important; }\n\n#cart-btn {\n  position: relative; }\n\n#cart-badge {\n  position: absolute;\n  top: 1px;\n  right: 2px;\n  font-size: x-small; }\n\n.notifications-badge {\n  background-color: #FF1744;\n  position: absolute;\n  top: -3px;\n  right: -3px;\n  border-radius: 100%; }\n"

/***/ }),

/***/ "./src/app/components/general/menu-general/menu-general.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/components/general/menu-general/menu-general.component.ts ***!
  \***************************************************************************/
/*! exports provided: MenuGeneralComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MenuGeneralComponent", function() { return MenuGeneralComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_socket_io_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/socket-io.service */ "./src/app/services/socket-io.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _popover_popover_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../popover/popover.component */ "./src/app/components/general/popover/popover.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var MenuGeneralComponent = /** @class */ (function () {
    function MenuGeneralComponent(socketIOService, platform, popoverController) {
        this.socketIOService = socketIOService;
        this.platform = platform;
        this.popoverController = popoverController;
        this.isDesktop = this.platform.is('desktop');
        this.numOfNewNoti = this.socketIOService.numOfNewNoti;
    }
    MenuGeneralComponent.prototype.ngOnInit = function () { };
    MenuGeneralComponent.prototype.ngOnChanges = function (changes) {
        if (changes.isMenuButton.currentValue) {
            this.isMenuButton = changes.isMenuButton.currentValue;
        }
    };
    MenuGeneralComponent.prototype.presentPopover = function (ev) {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _popover_popover_component__WEBPACK_IMPORTED_MODULE_3__["PopoverComponent"],
                            event: ev,
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], MenuGeneralComponent.prototype, "isMenuButton", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], MenuGeneralComponent.prototype, "colorMenuButton", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], MenuGeneralComponent.prototype, "titleMenu", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], MenuGeneralComponent.prototype, "buttonNotification", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], MenuGeneralComponent.prototype, "buttonUser", void 0);
    MenuGeneralComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-menu-general',
            template: __webpack_require__(/*! ./menu-general.component.html */ "./src/app/components/general/menu-general/menu-general.component.html"),
            styles: [__webpack_require__(/*! ./menu-general.component.scss */ "./src/app/components/general/menu-general/menu-general.component.scss")],
        }),
        __metadata("design:paramtypes", [_services_socket_io_service__WEBPACK_IMPORTED_MODULE_1__["SocketIoService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["PopoverController"]])
    ], MenuGeneralComponent);
    return MenuGeneralComponent;
}());



/***/ }),

/***/ "./src/app/components/general/popover/popover.component.html":
/*!*******************************************************************!*\
  !*** ./src/app/components/general/popover/popover.component.html ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-list lines=\"none\">\n  <ion-item\n    lines=\"none\"\n    *ngFor=\"let session of sessions\"\n    [ngClass]=\"{\n      'background-item-menu': session.id === user.id && sessions.length > 1\n    }\"\n  >\n    <!-- <ion-icon slot=\"start\" name=\"contact\"></ion-icon> -->\n    <ion-label text-wrap>\n      <p>{{ session.name }}</p>\n      <small>{{ getType(session.type) }}</small>\n    </ion-label>\n\n    <ion-button\n      size=\"small\"\n      *ngIf=\"user.id === session.id\"\n      fill=\"outline\"\n      size=\"small\"\n      color=\"danger\"\n      slot=\"end\"\n      (click)=\"closeSession(session); presentPopover($event)\"\n    >\n      <!-- Eliminar -->\n      <ion-icon slot=\"icon-only\" name=\"trash\"></ion-icon>\n    </ion-button>\n    <ion-button\n      size=\"small\"\n      *ngIf=\"user.id !== session.id\"\n      fill=\"outline\"\n      size=\"small\"\n      color=\"success\"\n      slot=\"end\"\n      (click)=\"startSession(session); presentPopover($event)\"\n    >\n      <!-- Iniciar -->\n      <ion-icon slot=\"icon-only\" name=\"log-in\"></ion-icon>\n    </ion-button>\n  </ion-item>\n</ion-list>\n<ion-footer>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button\n        [routerLink]=\"['/user-session']\"\n        [routerDirection]=\"'forward'\"\n        (click)=\"presentPopover($event)\"\n        fill=\"solid\"\n      >\n        <ion-icon slot=\"start\" name=\"person-add\"></ion-icon>\n        Agregar Cuenta\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-footer>\n"

/***/ }),

/***/ "./src/app/components/general/popover/popover.component.scss":
/*!*******************************************************************!*\
  !*** ./src/app/components/general/popover/popover.component.scss ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/general/popover/popover.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/components/general/popover/popover.component.ts ***!
  \*****************************************************************/
/*! exports provided: PopoverComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PopoverComponent", function() { return PopoverComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/dist/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var PopoverComponent = /** @class */ (function () {
    function PopoverComponent(popoverController, userSession, storage) {
        this.popoverController = popoverController;
        this.userSession = userSession;
        this.storage = storage;
        this.user = userSession.userSession.value;
        this.getSessions();
    }
    PopoverComponent.prototype.ngOnInit = function () { };
    PopoverComponent.prototype.presentPopover = function (ev) {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.getTop()];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.dismiss()];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    PopoverComponent.prototype.getSessions = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this;
                        return [4 /*yield*/, this.userSession.getSessionsSaved()];
                    case 1:
                        _a.sessions = _b.sent();
                        console.log('sessions', this.sessions);
                        return [2 /*return*/];
                }
            });
        });
    };
    // cambia de sesion
    PopoverComponent.prototype.startSession = function (session) {
        this.storage.set('userSessionCurrent', session);
        this.userSession.loggoutWithoutStore();
    };
    // cierra solo la sesion actual
    PopoverComponent.prototype.closeSession = function (session) {
        this.userSession.removeSession(session);
        this.storage.remove('userSessionCurrent');
        this.userSession.loggoutWithoutStore();
    };
    PopoverComponent.prototype.getType = function (type) {
        if (type === 'administrator') {
            return 'Administrador';
        }
        else if (type === 'adviser') {
            return 'Asesor';
        }
        else if (type === 'buyer') {
            return 'Comprador';
        }
        else if (type === 'maker') {
            return 'Construc.';
        }
        else if (type === 'management') {
            return 'Gerente';
        }
        else if (type === 'office') {
            return 'Oficinista';
        }
        else if (type === 'seller') {
            return 'Vendedor';
        }
        else if (type === 'preBuyer') {
            return 'Preventa';
        }
    };
    PopoverComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-popover',
            template: __webpack_require__(/*! ./popover.component.html */ "./src/app/components/general/popover/popover.component.html"),
            styles: [__webpack_require__(/*! ./popover.component.scss */ "./src/app/components/general/popover/popover.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__["UserSessionService"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_3__["Storage"]])
    ], PopoverComponent);
    return PopoverComponent;
}());



/***/ }),

/***/ "./src/app/components/general/refre/refre.component.html":
/*!***************************************************************!*\
  !*** ./src/app/components/general/refre/refre.component.html ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p></p>"

/***/ }),

/***/ "./src/app/components/general/refre/refre.component.scss":
/*!***************************************************************!*\
  !*** ./src/app/components/general/refre/refre.component.scss ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/general/refre/refre.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/components/general/refre/refre.component.ts ***!
  \*************************************************************/
/*! exports provided: RefreComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RefreComponent", function() { return RefreComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var RefreComponent = /** @class */ (function () {
    function RefreComponent() {
    }
    RefreComponent.prototype.ngOnInit = function () {
    };
    RefreComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-refre',
            template: __webpack_require__(/*! ./refre.component.html */ "./src/app/components/general/refre/refre.component.html"),
            styles: [__webpack_require__(/*! ./refre.component.scss */ "./src/app/components/general/refre/refre.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], RefreComponent);
    return RefreComponent;
}());



/***/ }),

/***/ "./src/app/components/general/search-select/search-select.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/components/general/search-select/search-select.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- contenido -->\n<mat-progress-bar\n  *ngIf=\"!isLoad\"\n  mode=\"indeterminate\"\n  color=\"accent\"\n></mat-progress-bar>\n<mat-drawer-container class=\"side-container\">\n  <h2 mat-dialog-title>{{ dataInput.header }}</h2>\n  <!-- Default Searchbar -->\n  <ion-searchbar\n    (ionClear)=\"search(undefined)\"\n    (keyup)=\"search(Search.value)\"\n    #Search\n    animated\n    placeholder=\"Buscar\"\n    mat-dialog-title\n  ></ion-searchbar>\n\n  <!-- contenido de filtros -->\n  <mat-drawer\n    position=\"end\"\n    #drawer\n    class=\"sidenav\"\n    [mode]=\"'over'\"\n    [opened]=\"false\"\n  >\n    <app-general-filter-buyer\n      *ngIf=\"dataInput.typeFilter === 'filter-buyer'\"\n      (filters)=\"getFilters($event)\"\n      (resetAll)=\"getBuyerAll()\"\n      (closeMenu)=\"drawer.close()\"\n    ></app-general-filter-buyer>\n    <app-filter-adviser\n      *ngIf=\"dataInput.typeFilter === 'filter-adv'\"\n      (filters)=\"getFiltersAdv($event)\"\n      (resetAll)=\"dataInput.rows = advisers\"\n      (closeMenu)=\"drawer.close()\"\n      [isDesktop]=\"false\"\n    ></app-filter-adviser>\n  </mat-drawer>\n  <!-- /contenido de filtros -->\n  <!-- filtros boton -->\n  <ion-item *ngIf=\"dataInput.filtersDetail\" lines=\"none\">\n    <ion-button\n      (click)=\"drawer.toggle()\"\n      slot=\"end\"\n      color=\"secondary\"\n      fill=\"outline\"\n    >\n      <ion-icon name=\"funnel\"></ion-icon>Filtros({{ numOfFilters }})\n    </ion-button>\n  </ion-item>\n\n  <!-- /filtros boton -->\n  <mat-divider> </mat-divider>\n  <!-- button -->\n  <mat-dialog-content>\n    <span *ngIf=\"dataInput.body\" [innerHTML]=\"dataInput.body\"></span>\n    <!-- Multiple -->\n    <span *ngIf=\"dataInput.isMultiple\">\n      <!-- Checkboxes in a List -->\n      <ion-list>\n        <ion-item *ngFor=\"let row of dataInput.rows; let last = last\">\n          <ion-label text-wrap>\n            <span *ngFor=\"let column of dataInput.columns; let i = index\">\n              <p *ngIf=\"column.type === 'normal'\">{{ row[column.prop] }}</p>\n              <p *ngIf=\"column.type === 'date'\">\n                {{ formatDates(row[column.prop]) }}\n              </p>\n              <span *ngIf=\"column.type === 'statusBuyerProperty'\">\n                <ion-chip\n                  *ngFor=\"let sbp of row[column.prop]\"\n                  [ngClass]=\"{\n                    'background-gris': sbp.status === 'gris',\n                    'background-verde': sbp.status === 'verde',\n                    'background-amarillo': sbp.status === 'amarillo',\n                    'background-rojo': sbp.status === 'rojo',\n                    'background-azul': sbp.status === 'azul'\n                  }\"\n                >\n                  <ion-label>{{ sbp.property.name }}</ion-label>\n                </ion-chip>\n                <ion-chip\n                  style=\"padding: 2%\"\n                  class=\"background-gris\"\n                  *ngIf=\"row[column.prop].length === 0\"\n                >\n                  Sin interés\n                </ion-chip>\n              </span>\n            </span>\n          </ion-label>\n          <!--\n            <ion-checkbox slot=\"end\" [(ngModel)]=\"entry.isChecked\"></ion-checkbox>\n          -->\n          <ion-checkbox\n            [disabled]=\"isDisable(row._id)\"\n            (ionChange)=\"ionChangeCheckBox(row, $event.detail.checked)\"\n            slot=\"start\"\n          ></ion-checkbox>\n        </ion-item>\n      </ion-list>\n    </span>\n    <!-- Solo uno -->\n    <span *ngIf=\"!dataInput.isMultiple\">\n      <ion-list>\n        <ion-radio-group>\n          <ion-item *ngFor=\"let row of dataInput.rows\">\n            <ion-label text-wrap>\n              <span *ngFor=\"let column of dataInput.columns; let i = index\">\n                <p *ngIf=\"column.type === 'normal'\">{{ row[column.prop] }}</p>\n                <p *ngIf=\"column.type === 'date'\">\n                  {{ formatDates(row[column.prop]) }}\n                </p>\n                <span *ngIf=\"column.type === 'statusBuyerProperty'\">\n                  <ion-chip\n                    *ngFor=\"let sbp of row[column.prop]\"\n                    [ngClass]=\"{\n                      'background-gris': sbp.status === 'gris',\n                      'background-verde': sbp.status === 'verde',\n                      'background-amarillo': sbp.status === 'amarillo',\n                      'background-rojo': sbp.status === 'rojo',\n                      'background-azul': sbp.status === 'azul'\n                    }\"\n                  >\n                    <ion-label>{{ sbp.property.name }}</ion-label>\n                  </ion-chip>\n                  <ion-chip\n                    style=\"padding: 2%\"\n                    class=\"background-gris\"\n                    *ngIf=\"row[column.prop].length === 0\"\n                  >\n                    Sin interés\n                  </ion-chip>\n                </span>\n              </span>\n            </ion-label>\n            <ion-radio\n              [checked]=\"isDisable(row._id)\"\n              (click)=\"ionChangeRadioButton(row)\"\n              slot=\"start\"\n            ></ion-radio>\n          </ion-item>\n        </ion-radio-group>\n      </ion-list>\n    </span>\n  </mat-dialog-content>\n  <mat-divider> </mat-divider>\n  <mat-dialog-actions style=\"justify-content: flex-end;\">\n    <button\n      color=\"accent\"\n      (click)=\"buttonsResponse(true)\"\n      mat-button\n      mat-flat-button\n      mat-dialog-close\n    >\n      {{ dataInput.okButton ? dataInput.okButton : 'Ok' }}\n    </button>\n    <button\n      color=\"warn\"\n      *ngIf=\"!dataInput.hideButtonCancel\"\n      mat-button\n      mat-dialog-close\n      mat-stroked-button\n      (click)=\"buttonsResponse(false)\"\n    >\n      Cancelar\n    </button>\n  </mat-dialog-actions>\n  <br /><br />\n  <!-- /contenido -->\n</mat-drawer-container>\n"

/***/ }),

/***/ "./src/app/components/general/search-select/search-select.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/components/general/search-select/search-select.component.scss ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".side-container {\n  height: 100%;\n  background-color: white; }\n\n.sidenav {\n  width: 230px;\n  margin-bottom: 1%;\n  margin-right: 0.1%; }\n\n/* .mat-dialog-actions {\n    padding: 25px 0;\n} */\n\n@media (max-width: 900px) {\n  .sidenav {\n    width: 73%;\n    box-shadow: 3px 0 6px rgba(0, 0, 0, 0.24); } }\n"

/***/ }),

/***/ "./src/app/components/general/search-select/search-select.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/components/general/search-select/search-select.component.ts ***!
  \*****************************************************************************/
/*! exports provided: SearchSelectComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchSelectComponent", function() { return SearchSelectComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _services_maker_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/maker.service */ "./src/app/services/maker.service.ts");
/* harmony import */ var rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/internal/operators/map */ "./node_modules/rxjs/internal/operators/map.js");
/* harmony import */ var rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _services_adviser_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/adviser.service */ "./src/app/services/adviser.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








var SearchSelectComponent = /** @class */ (function () {
    function SearchSelectComponent(dialogRef, data, buyerService, propService, makersService, advService) {
        var _this = this;
        this.dialogRef = dialogRef;
        this.data = data;
        this.buyerService = buyerService;
        this.propService = propService;
        this.makersService = makersService;
        this.advService = advService;
        this.isLoad = true;
        this.numOfFilters = 0;
        this.buttons = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.arrSelect = [];
        this.ratingResult = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.statusChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        // recibe items
        this.dataInput = data;
        // tipo de items
        if (this.dataInput.typeFilter === 'filter-buyer') {
            // busca todos los items
            buyerService.getBuyerAll().subscribe(function (b) { return (_this.buyers = b); });
        }
        else if (this.dataInput.typeFilter === 'filter-prop') {
            propService.getAllSpecial().subscribe(function (prop) { return (_this.properties = prop); });
        }
        else if (this.dataInput.typeFilter === 'filter-prop2') {
            propService.getAll().subscribe(function (prop) { return (_this.properties = prop); });
        }
        else if (this.dataInput.typeFilter === 'filter-makers') {
            makersService
                .getMakerAll()
                .pipe(Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_6__["map"])(function (arr) {
                return arr.map(function (maker) {
                    if (maker.build) {
                        maker.buildName = maker.build.name;
                    }
                    else {
                        maker.buildName = '';
                    }
                    return maker;
                });
            }))
                .subscribe(function (m) { return (_this.makers = m); });
        }
        else if (this.dataInput.typeFilter === 'filter-adv') {
            advService
                .getAdviserAll()
                .pipe(Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_6__["map"])(function (arr) {
                return arr.map(function (adviser) {
                    adviser.numOfBuyer = "N\u00FAmero de Clientes: " + adviser.buyer.length;
                    adviser.range = "Disponible de " + adviser.hourStart + " a " + adviser.hourEnd;
                    return adviser;
                });
            }))
                .subscribe(function (a) { return (_this.advisers = a); });
        }
    }
    /*   onNoClick(): void {
      this.dialogRef.close();
    } */
    SearchSelectComponent.prototype.buttonsResponse = function (options) {
        this.buttons.emit({ options: options, arrSelect: this.arrSelect });
    };
    SearchSelectComponent.prototype.ngOnInit = function () { };
    // buyers
    SearchSelectComponent.prototype.getFilters = function (filters) {
        return __awaiter(this, void 0, void 0, function () {
            var buyersFinded, numFilters;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getBuyerAll()];
                    case 1:
                        if (_a.sent()) {
                            buyersFinded = this.dataInput.rows.filter(function (buyer) {
                                return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_2__["BuyersFilters"])(buyer, filters);
                            });
                            //  setea buyers
                            this.dataInput.rows = buyersFinded;
                            numFilters = 0;
                            if (filters.day) {
                                numFilters++;
                            }
                            if (filters.month) {
                                numFilters++;
                            }
                            if (filters.year) {
                                numFilters++;
                            }
                            if (filters.status) {
                                numFilters++;
                            }
                            this.numOfFilters = numFilters;
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    SearchSelectComponent.prototype.getFiltersProp = function (filters) {
        var _this = this;
        var advFinded = this.properties.filter(function (prop) {
            var temp = Object(_config_helpers__WEBPACK_IMPORTED_MODULE_2__["PropertyFilter"])(filters, prop);
            _this.numOfFilters = temp.numOfFilters;
            return temp.isHope;
        });
        //  setea buyers
        this.dataInput.rows = advFinded;
    };
    SearchSelectComponent.prototype.getFiltersAdv = function (filters) {
        var advFinded = this.advisers.filter(function (adv) { return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_2__["OnlyDates"])(adv, filters); });
        //  setea buyers
        this.dataInput.rows = advFinded;
        // num filters
        var numFilters = 0;
        if (filters.day) {
            numFilters++;
        }
        if (filters.month) {
            numFilters++;
        }
        if (filters.year) {
            numFilters++;
        }
        if (filters.status) {
            numFilters++;
        }
        if (filters.hourEnd) {
            numFilters++;
        }
        if (filters.hourStart) {
            numFilters++;
        }
        this.numOfFilters = numFilters;
    };
    SearchSelectComponent.prototype.getBuyerAll = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isLoad = false;
                        // const buyers = await this.buyerService.getBuyerAll().toPromise();
                        this.dataInput.rows = this.buyers;
                        this.isLoad = true;
                        return [4 /*yield*/, true];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    SearchSelectComponent.prototype.getPropAll = function () {
        this.dataInput.rows = this.properties;
    };
    SearchSelectComponent.prototype.formatDates = function (dateInput) {
        var day = new Date(dateInput).getDate().toString();
        var month = (new Date(dateInput).getMonth() + 1).toString();
        var year = new Date(dateInput).getFullYear().toString();
        var date = day + '/' + month + '/' + year;
        return date;
    };
    SearchSelectComponent.prototype.ionChangeCheckBox = function (row, isChecked) {
        if (isChecked) {
            this.arrSelect.push(row);
        }
        else {
            var index = this.arrSelect.findIndex(function (item) { return item._id; });
            if (index !== -1) {
                console.log(this.arrSelect);
                this.arrSelect.splice(index, 1);
                console.log(this.arrSelect);
            }
        }
    };
    SearchSelectComponent.prototype.ionChangeRadioButton = function (row) {
        this.arrSelect[0] = row;
    };
    SearchSelectComponent.prototype.search = function (str) {
        return __awaiter(this, void 0, void 0, function () {
            var searchString_1, filter;
            return __generator(this, function (_a) {
                if (this.dataInput.typeFilter === 'filter-buyer') {
                    this.dataInput.rows = this.buyers;
                }
                else if (this.dataInput.typeFilter === 'filter-prop') {
                    this.dataInput.rows = this.properties;
                }
                else if (this.dataInput.typeFilter === 'filter-prop2') {
                    this.dataInput.rows = this.properties;
                }
                else if (this.dataInput.typeFilter === 'filter-makers') {
                    this.dataInput.rows = this.makers;
                }
                else if (this.dataInput.typeFilter === 'filter-adv') {
                    this.dataInput.rows = this.advisers;
                }
                if (str === undefined) {
                }
                else {
                    searchString_1 = function (row) {
                        return (Object.values(row).filter(function (v) {
                            return v
                                .toString()
                                .toLocaleLowerCase()
                                .indexOf(str.toLocaleLowerCase()) >= 0;
                        }).length > 0);
                    };
                    filter = this.dataInput.rows.filter(function (row) { return searchString_1(row); });
                    this.dataInput.rows = filter;
                }
                return [2 /*return*/];
            });
        });
    };
    // _helpers
    SearchSelectComponent.prototype.isDisable = function (idInput) {
        if (this.dataInput.itemsIdDisable &&
            this.dataInput.itemsIdDisable.length > 0) {
            return this.dataInput.itemsIdDisable.some(function (id) { return id === idInput; });
        }
        else {
            return false;
        }
    };
    SearchSelectComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-search-select',
            template: __webpack_require__(/*! ./search-select.component.html */ "./src/app/components/general/search-select/search-select.component.html"),
            styles: [__webpack_require__(/*! ./search-select.component.scss */ "./src/app/components/general/search-select/search-select.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object, _services_buyer_service__WEBPACK_IMPORTED_MODULE_3__["BuyerService"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_4__["PropertyService"],
            _services_maker_service__WEBPACK_IMPORTED_MODULE_5__["MakerService"],
            _services_adviser_service__WEBPACK_IMPORTED_MODULE_7__["AdviserService"]])
    ], SearchSelectComponent);
    return SearchSelectComponent;
}());



/***/ }),

/***/ "./src/app/components/goals/new-edit-goal/new-edit-goal.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/components/goals/new-edit-goal/new-edit-goal.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Objetivo\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Objetivo'\" [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n    <h1 *ngIf=\"isNew\">Nuevo Objetivo</h1>\n    <h1 *ngIf=\"!isNew\">Editar Objetivo</h1>\n    <p>Complete los campos para asignar una meta</p>\n    <div class=\"container\" style=\"margin-top: 3%\">\n      <form #newUserForm=\"ngForm\">\n        <mat-card [ngClass]=\"{'desktop-card': isDesktop }\">\n          <mat-card-title>Datos del Objetivo</mat-card-title>\n\n\n\n          <div class=\"flex-container\">\n\n            <!-- title -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Titulo</mat-label>\n              <input matInput placeholder=\"\" [(ngModel)]=\"goal.title\" #title=\"ngModel\" id=\"title\" name=\"title\" required>\n              <mat-error *ngIf=\"title.dirty || title.touched\">Anotar</mat-error>\n            </mat-form-field>\n            <!-- cont -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Contenido</mat-label>\n              <textarea matInput placeholder=\"\" [(ngModel)]=\"goal.content\" #content=\"ngModel\" id=\"content\" name=\"content\"\n                required></textarea>\n              <mat-error *ngIf=\"content.dirty || content.touched\">Anotar</mat-error>\n            </mat-form-field>\n            <!-- status -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Estado</mat-label>\n              <mat-select [(ngModel)]=\"goal.status\" #status=\"ngModel\" id=\"status\" name=\"status\" required>\n                <mat-option value=\"gris\">\n                  Inicial\n                </mat-option>\n                <mat-option value=\"verde\">\n                  Bajo\n                </mat-option>\n                <mat-option value=\"amarillo\">\n                  Medio\n                </mat-option>\n                <mat-option value=\"rojo\">\n                  Urgente\n                </mat-option>\n                <!-- <mat-option value=\"azul\">\n                  Cumplido\n                </mat-option> -->\n              </mat-select>\n              <mat-error *ngIf=\"status.dirty || status.touched\">Selecciona</mat-error>\n            </mat-form-field>\n            <!-- isOld -->\n            <!--  <mat-form-field appearance=\"outline\">\n              <mat-label>Tipo</mat-label>\n              <mat-select [(ngModel)]=\"goal.isByManagement\" #isByManagement=\"ngModel\" id=\"isByManagement\" name=\"isByManagement\"\n                required>\n                <mat-option [value]=false>Individual\n                </mat-option>\n                <mat-option [value]=true>Grupal\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"isByManagement.dirty || isByManagement.touched\">Selecciona uno</mat-error>\n            </mat-form-field> -->\n\n            <!-- Fecha -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Fecha para ser cumplido</mat-label>\n              <input (dateChange)=\"dateSelect($event)\" (focus)=\"picker.open()\" [value]=\"getDate(goal.day, goal.month, goal.year)\"\n                matInput [matDatepicker]=\"picker\" placeholder=\"Selecciona Fecha\" required>\n              <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n              <mat-datepicker #picker></mat-datepicker>\n            </mat-form-field>\n            <!-- Fecha -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Fecha para mandar recordatorio</mat-label>\n              <input (dateChange)=\"dateSelect2($event)\" (focus)=\"picker2.open()\" matInput [matDatepicker]=\"picker2\"\n                placeholder=\"Selecciona Fecha\" required>\n              <mat-datepicker-toggle matSuffix [for]=\"picker2\"></mat-datepicker-toggle>\n              <mat-datepicker #picker2></mat-datepicker>\n            </mat-form-field>\n            <!-- hora -->\n            <mat-label style=\"margin-bottom: 2%;\">Anote Hora de recordatorio </mat-label>\n            <div>\n              <mat-form-field style=\"width: 70px;\" appearance=\"outline\">\n                <input type=\"number\" style=\"text-align: right;\" matInput [(ngModel)]=\"hourNoti\" #hour=\"ngModel\" id=\"hour\"\n                  name=\"hour\" required>\n\n              </mat-form-field>\n              :\n              <mat-form-field style=\"width: 70px;\" appearance=\"outline\">\n                <input type=\"number\" matInput [(ngModel)]=\"minuteNoti\" #minute=\"ngModel\" id=\"minute\" name=\"minute\"\n                  required>\n              </mat-form-field>\n              <!-- pm/am -->\n              <mat-form-field style=\"width: 71px;\n              margin-left: 1%;\" appearance=\"outline\">\n                <mat-select value='am' (selectionChange)=\"hourFormat(ampm.value)\" #ampm>\n                  <mat-option value=\"pm\">\n                    PM\n                  </mat-option>\n                  <mat-option value=\"am\">\n                    AM\n                  </mat-option>\n                </mat-select>\n              </mat-form-field>\n            </div>\n            <div *ngIf=\"goal.adviser && goal.adviser.length > 0\">\n              <!-- list adv -->\n              <h4>Asesores del Objetivo</h4>\n              <mat-list role=\"list\">\n                <mat-list-item role=\"listitem\" *ngFor=\"let adv of goal.adviser\">\n                  {{adv.name}} {{adv.lastName}}\n                  <!-- <button mat-button matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"schedule.adviser=undefined\"></button> -->\n                  <button matTooltip=\"Eliminar\" mat-icon-button (click)=\"deleteAdviserOfGoal(adv._id)\">\n                    <mat-icon color=\"warn\">clear</mat-icon>\n                  </button>\n                </mat-list-item>\n              </mat-list>\n            </div>\n            <!-- adv -->\n            <h4 *ngIf=\"user.type !== 'adviser'\">{{adviserSelect.length === 0 ? 'Asignar Nuevos Asesores' : 'Asesores\n              Nuevos Seleccionados'}}\n            </h4>\n            <mat-list *ngIf=\"user.type !== 'adviser'\">\n              <mat-list-item *ngFor=\"let adv of adviserSelect; let i=index\">{{ adv.name }} {{ adv.lastName }}\n                <button mat-icon-button (click)=\"adviserSelect.splice(i, 1)\">\n                  <mat-icon color=\"warn\">clear</mat-icon>\n                </button>\n              </mat-list-item>\n            </mat-list>\n            <div *ngIf=\"user.type !== 'adviser'\" style=\"padding: 0 16px; margin-bottom: 2%;\">\n              <button mat-stroked-button color=\"accent\" (click)=\"searchAdv()\">\n                <ion-spinner *ngIf=\"isSpinner\" color=\"secondary\" name=\"bubbles\"></ion-spinner>\n                Agregar Asesor\n              </button>\n            </div>\n            <!-- START TYPE -->\n            <!-- toogle -->\n            <h4>Tipo de Meta</h4>\n            <div style=\"margin-bottom: 2%\">\n              <mat-button-toggle-group [value]=\"typeOfGoal\" style=\"flex-wrap: wrap\" (change)=\"typeOfGoal = $event.value; goal.typeOfGoal =  $event.value \">\n                <mat-button-toggle value=\"goals\">Objetivos</mat-button-toggle>\n                <mat-button-toggle value=\"salesTotal\">Ventas</mat-button-toggle>\n                <mat-button-toggle value=\"rentTotal\">Rentas</mat-button-toggle>\n                <mat-button-toggle value=\"rentSalesTotal\">Ventas y Rentas</mat-button-toggle>\n              </mat-button-toggle-group>\n            </div>\n            <!-- GENERAL str list -->\n            <app-form-str-list *ngIf=\"typeOfGoal === 'goals'\" nameTitle=\"Lista de Objetivos\" nameItems=\"Objetivo\"\n              (arrList)=\"arrList = $event\" [arrStr]=\"arrList\" [numOfItems]=\"numOfItems\"></app-form-str-list>\n            <div class=\"flex-column\" *ngIf=\"typeOfGoal === 'salesTotal'\">\n              <!-- Sales -->\n              <h5>Elige un tipo</h5>\n              <mat-radio-group (change)=\"typeOfGoalSale = $event.value; goal.typeOfGoal = $event.value \">\n                <mat-radio-button [checked]=\"typeOfGoalSale === 'salesTotal' \" style=\"margin-right: 1%\" value=\"salesTotal\">Número\n                  de Ventas Totales</mat-radio-button>\n                <mat-radio-button [checked]=\"typeOfGoalSale === 'costOfSales' \" value=\"costOfSales\">Suma de Costo Final</mat-radio-button>\n              </mat-radio-group>\n              <ng-container *ngIf=\"typeOfGoalSale === 'salesTotal' ; then NumOfSales; else SumOfCost\"></ng-container>\n              <ng-template #NumOfSales>\n                <!-- NumOfSales -->\n                <mat-form-field>\n                  <mat-label>Número de Ventas</mat-label>\n                  <input matInput type=\"number\" [(ngModel)]=\"goal.quantitative\" #quantitative=\"ngModel\" id=\"quantitative\"\n                    name=\"quantitative\" required>\n                  <mat-error *ngIf=\"quantitative.dirty || quantitative.touched\">Anotar</mat-error>\n                </mat-form-field>\n              </ng-template>\n              <ng-template #SumOfCost>\n                <!-- costOfSales -->\n                <mat-form-field>\n                  <mat-label>Suma de Costo Final</mat-label>\n                  <span matPrefix>$ &nbsp;</span>\n                  <input matInput type=\"number\" [(ngModel)]=\"goal.quantitative\" #quantitative=\"ngModel\" id=\"quantitative\"\n                    name=\"quantitative\" required>\n                  <mat-error *ngIf=\"quantitative.dirty || quantitative.touched\">Anotar</mat-error>\n                </mat-form-field>\n              </ng-template>\n\n\n\n\n            </div>\n            <div class=\"flex-column\" *ngIf=\"typeOfGoal === 'rentTotal'\">\n              <!-- Rent -->\n              <h5>Elige un tipo</h5>\n              <mat-radio-group (change)=\"typeOfGoalRent = $event.value; goal.typeOfGoal = $event.value \">\n                <mat-radio-button [checked]=\"typeOfGoalRent === 'rentTotal' \" style=\"margin-right: 1%\" value=\"rentTotal\">Número\n                  de Rentas Totales</mat-radio-button>\n                <mat-radio-button [checked]=\"typeOfGoalRent === 'costOfRent' \" value=\"costOfRent\">Suma de Costo Final</mat-radio-button>\n              </mat-radio-group>\n              <ng-container *ngIf=\"typeOfGoalRent === 'rentTotal' ; then NumOfRent; else SumOfRent\"></ng-container>\n              <ng-template #NumOfRent>\n                <!-- NumOfSales -->\n                <mat-form-field>\n                  <mat-label>Número de Rentas</mat-label>\n                  <input matInput type=\"number\" [(ngModel)]=\"goal.quantitative\" #quantitative=\"ngModel\" id=\"quantitative\"\n                    name=\"quantitative\" required>\n                  <mat-error *ngIf=\"quantitative.dirty || quantitative.touched\">Anotar</mat-error>\n                </mat-form-field>\n              </ng-template>\n              <ng-template #SumOfRent>\n                <!-- costOfSales -->\n                <mat-form-field>\n                  <mat-label>Suma de Costo Final </mat-label>\n                  <span matPrefix>$ &nbsp;</span>\n                  <input matInput type=\"number\" [(ngModel)]=\"goal.quantitative\" #quantitative=\"ngModel\" id=\"quantitative\"\n                    name=\"quantitative\" required>\n                  <mat-error *ngIf=\"quantitative.dirty || quantitative.touched\">Anotar</mat-error>\n                </mat-form-field>\n              </ng-template>\n\n            </div>\n            <div class=\"flex-column\" *ngIf=\"typeOfGoal === 'rentSalesTotal'\">\n              <!-- 2 -->\n              <h5>Elige un tipo</h5>\n              <mat-radio-group (change)=\"typeOfGoalBoth = $event.value; goal.typeOfGoal = $event.value \">\n                <mat-radio-button [checked]=\"typeOfGoalBoth === 'rentSalesTotal'\" style=\"margin-right: 1%\" value=\"rentSalesTotal\">Número\n                  de Rentas y Ventas\n                  Totales</mat-radio-button>\n                <mat-radio-button [checked]=\"typeOfGoalBoth === 'rentSalesCost'\" value=\"rentSalesCost\">Suma de Costo\n                  Final</mat-radio-button>\n              </mat-radio-group>\n              <ng-container *ngIf=\"typeOfGoalBoth === 'rentSalesTotal' ; then NumOfBoth; else SumOfBoth\"></ng-container>\n              <ng-template #NumOfBoth>\n                <!-- NumOfSales -->\n                <mat-form-field>\n                  <mat-label>Número de Rentas y Ventas</mat-label>\n                  <input matInput type=\"number\" [(ngModel)]=\"goal.quantitative\" #quantitative=\"ngModel\" id=\"quantitative\"\n                    name=\"quantitative\" required>\n                  <mat-error *ngIf=\"quantitative.dirty || quantitative.touched\">Anotar</mat-error>\n                </mat-form-field>\n              </ng-template>\n              <ng-template #SumOfBoth>\n                <!-- costOfSales -->\n                <mat-form-field>\n                  <mat-label>Suma de Costo Final</mat-label>\n                  <span matPrefix>$ &nbsp;</span>\n                  <input matInput type=\"number\" [(ngModel)]=\"goal.quantitative\" #quantitative=\"ngModel\" id=\"quantitative\"\n                    name=\"quantitative\" required>\n                  <mat-error *ngIf=\"quantitative.dirty || quantitative.touched\">Anotar</mat-error>\n                </mat-form-field>\n              </ng-template>\n\n            </div>\n            <!-- /END TYPE -->\n          </div>\n          <mat-card-actions align=\"end\">\n            <div style=\"margin-right: 2%\">\n              <span [matTooltip]=errorToShow [matTooltipClass]=\"'tooltip-size'\" (mouseenter)=\"getPopMessage($event)\">\n                <button *ngIf=\"isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" (click)=\"newGoal()\" [disabled]=\"!newUserForm.form.valid\">Crear</button>\n                <button *ngIf=\"!isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" [disabled]=\"!newUserForm.form.valid\"\n                  (click)=\"editGoal()\">Editar</button>\n              </span>\n            </div>\n          </mat-card-actions>\n        </mat-card>\n      </form>\n    </div>\n  </ion-grid>\n\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/goals/new-edit-goal/new-edit-goal.component.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/components/goals/new-edit-goal/new-edit-goal.component.scss ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container2 {\n  display: flex;\n  flex-direction: column;\n  padding-left: 5%;\n  padding-right: 5%;\n  padding-top: 3%;\n  border: 2px solid darkgray;\n  border-radius: 8px; }\n\n.flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%; }\n\n.desktop-card {\n  height: 100% !important; }\n\n.flex-column {\n  display: flex;\n  flex-direction: column;\n  padding-left: 5%;\n  padding-right: 5%;\n  padding-top: 3%;\n  border: 2px solid darkgray;\n  border-radius: 8px; }\n"

/***/ }),

/***/ "./src/app/components/goals/new-edit-goal/new-edit-goal.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/components/goals/new-edit-goal/new-edit-goal.component.ts ***!
  \***************************************************************************/
/*! exports provided: NewEditGoalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewEditGoalComponent", function() { return NewEditGoalComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_goal_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/goal.service */ "./src/app/services/goal.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_adviser_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/adviser.service */ "./src/app/services/adviser.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var _general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../general/search-select/search-select.component */ "./src/app/components/general/search-select/search-select.component.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};











var NewEditGoalComponent = /** @class */ (function () {
    function NewEditGoalComponent(route, router, goalService, adviserService, platform, userService, oneSignalService, dialog) {
        var _this = this;
        this.route = route;
        this.router = router;
        this.goalService = goalService;
        this.adviserService = adviserService;
        this.platform = platform;
        this.userService = userService;
        this.oneSignalService = oneSignalService;
        this.dialog = dialog;
        this.hide = true;
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.goal = {};
        this.buyer = '';
        this.property = '';
        this.adviserSelect = [];
        this.isDesktop = false;
        this.arrList = [];
        this.numOfItems = 3;
        this.typeOfGoal = 'goals';
        this.typeOfGoalSale = 'salesTotal';
        this.typeOfGoalRent = 'rentTotal';
        this.typeOfGoalBoth = 'rentSalesTotal';
        this.user = userService.userSession.value;
        this.isDesktop = platform.is('desktop');
        this.getAdviser();
        this.isLoad = false;
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                goalService.getGoaltById(params.id).subscribe(function (goal) {
                    _this.goal = goal;
                    _this.typeOfGoal = goal.typeOfGoal;
                    _this.typeOfGoalSale = goal.typeOfGoal;
                    _this.typeOfGoalRent = goal.typeOfGoal;
                    _this.typeOfGoalBoth = goal.typeOfGoal;
                    if (goal.typeOfGoal === 'costOfRent') {
                        _this.typeOfGoal = 'rentTotal';
                    }
                    else if (goal.typeOfGoal === 'costOfSales') {
                        _this.typeOfGoal = 'salesTotal';
                    }
                    else if (goal.typeOfGoal === 'rentSalesCost') {
                        _this.typeOfGoal = 'rentSalesTotal';
                    }
                    if (goal.goals && goal.goals.length > 0) {
                        _this.arrList = goal.goals.map(function (g) { return g.nameGoal; });
                        _this.numOfItems = _this.arrList.length;
                    }
                });
                _this.isNew = false;
                _this.isLoad = true;
            }
            else {
                _this.isNew = true;
                _this.isLoad = true;
            }
        });
    }
    NewEditGoalComponent.prototype.ngOnInit = function () { };
    NewEditGoalComponent.prototype.getAdviser = function () {
        if (this.user.type === 'adviser') {
            var adv = {
                _id: this.user.id,
            };
            this.adviserSelect = [adv];
        }
    };
    NewEditGoalComponent.prototype.editGoal = function () {
        var _this = this;
        this.goal.notificationOneSignal = this.deleteOneSignal(this.goal);
        // adv
        this.adviserSelect.forEach(function (adv) {
            var findIndex = _this.goal.adviser.findIndex(function (gadv) { return gadv._id === adv._id; });
            if (findIndex === -1) {
                _this.adviserService.getAdviserById(adv._id).subscribe(function (a) {
                    var arr = a.goal.map(function (g) { return g._id; });
                    arr.push(_this.goal._id);
                    a.goal = arr;
                    _this.adviserService.putAdviser(a).subscribe(function (co) { return console.log('co'); });
                });
            }
        });
        // goal
        this.getSet();
        this.goalService.putGoal(this.goal).subscribe(function () {
            _this.notification('Nueva Meta Actualizada', _this.goal.isByManagement
                ? "Se ha actualizado una  meta grupal \"" + _this.goal.title + "\""
                : "Se ha actualizado una  meta individual \"" + _this.goal.title + "\"", _this.goal.status, 'goal', undefined, _this.goal.adviser.map(function (a) { return a._id; }));
            _this.notificationBySchedule(_this.goal);
            var toast = {
                queryParams: { res: 'Objetivo Editado' },
            };
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-goals-admin'], toast); });
        });
    };
    NewEditGoalComponent.prototype.newGoal = function () {
        var _this = this;
        this.getSet();
        this.goalService.newGoal(this.goal).subscribe(function (newGoal) {
            _this.notification('Nueva Meta Asignada', _this.goal.isByManagement
                ? "Se ha creado una nueva meta grupal \"" + _this.goal.title + "\""
                : "Se ha creado una nueva meta individual \"" + _this.goal.title + "\"", _this.goal.status, 'goal', undefined, _this.goal.adviser.map(function (a) { return a._id; }));
            _this.notificationBySchedule(newGoal);
            _this.adviserSelect.forEach(function (adv) {
                _this.adviserService.getAdviserById(adv._id).subscribe(function (a) {
                    var arr = a.goal.map(function (g) { return g._id; });
                    arr.push(newGoal._id);
                    a.goal = arr;
                    _this.adviserService.putAdviser(a).subscribe(function (co) { return console.log('co'); });
                });
            });
            var toast = {
                queryParams: { res: 'Objetivo Creado' },
            };
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-goals-admin'], toast); });
        });
    };
    NewEditGoalComponent.prototype.deleteAdviserOfGoal = function (adviserId) {
        var _this = this;
        var index = this.goal.adviser.findIndex(function (adv) { return adv._id === adviserId; });
        this.goal.adviser.splice(index, 1);
        this.adviserService.getAdviserById(adviserId).subscribe(function (adv) {
            var indexAdv = adv.goal.findIndex(function (g) { return g._id === _this.goal._id; });
            adv.goal.splice(indexAdv, 1);
            _this.adviserService.putAdviser(adv).subscribe(function () {
                console.log('ok');
            });
        });
    };
    NewEditGoalComponent.prototype.dateSelect = function (event) {
        if (event) {
            this.goal.day = event.value._i.date;
            this.goal.month = event.value._i.month;
            this.goal.year = event.value._i.year;
        }
    };
    NewEditGoalComponent.prototype.dateSelect2 = function (event) {
        if (event) {
            this.dayNoti = event.value._i.date;
            this.monthNoti = event.value._i.month;
            this.yearNoti = event.value._i.year;
        }
    };
    NewEditGoalComponent.prototype.getSet = function () {
        var _this = this;
        // user
        var user = this.userService.userSession.value;
        if (user.type === 'administrator' || user.type === 'office') {
            this.goal.isByManagement = true;
        }
        else {
            this.goal.isByManagement = false;
        }
        // lista adv
        if (this.goal.adviser && this.goal.adviser.length > 0) {
            this.adviserSelect.forEach(function (adv) {
                var isFinded = _this.goal.adviser.findIndex(function (gad) { return gad._id === adv._id; });
                if (isFinded === -1) {
                    _this.goal.adviser.push(adv);
                }
            });
        }
        else {
            this.goal.adviser = this.adviserSelect;
        }
        // lista str goals
        if (this.goal.typeOfGoal === 'goals' ||
            this.goal.typeOfGoal === undefined) {
            this.goal.typeOfGoal = 'goals';
            if (this.goal.goals && this.goal.goals.length > 0) {
                var goals_1 = [];
                this.arrList.forEach(function (nameGoal, i) {
                    goals_1.push({
                        isComplete: _this.goal.goals[i]
                            ? _this.goal.goals[i].isComplete
                            : false,
                        nameGoal: nameGoal,
                    });
                });
                this.goal.goals = goals_1;
                // nuevo
            }
            else if (this.arrList.length > 0) {
                var goals_2 = [];
                this.arrList.forEach(function (nameGoal, i) {
                    goals_2.push({
                        isComplete: false,
                        nameGoal: nameGoal,
                    });
                });
                this.goal.goals = goals_2;
            }
        }
    };
    NewEditGoalComponent.prototype.getDate = function (day, month, year) {
        return new Date(year, month, day);
    };
    NewEditGoalComponent.prototype.getDateNoti = function (day, month, year) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_10__["FormatDatesFront"])(new Date(year, month, day));
    };
    NewEditGoalComponent.prototype.hourFormat = function (pmAm) {
        if (pmAm === 'pm' && this.hourNoti && this.hourNoti < 12) {
            this.hourNoti = this.hourNoti + 12;
        }
    };
    // noti
    NewEditGoalComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userService.userSession.value.id,
            status: status,
            type: type,
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, tags, receiversId)
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    NewEditGoalComponent.prototype.notificationBySchedule = function (goal) {
        var _this = this;
        var date = this.getDateNoti(goal.day, goal.month, goal.year);
        // onesignal
        this.oneSignalService
            .postOneSignalBySchedule('Recordatorio de meta', "La meta \"" + goal.title + "\" esta por llegar a la fecha l\u00EDmite: " + date, new Date(this.yearNoti, this.monthNoti, this.dayNoti, this.hourNoti, this.minuteNoti), goal.isByManagement ? ['office', 'administrator'] : undefined, goal.adviser.map(function (a) { return a._id; }))
            .subscribe(function (data) {
            if (!goal.notificationOneSignal) {
                goal.notificationOneSignal = [];
            }
            goal.notificationOneSignal.push(data.id);
            _this.goalService.putGoal(goal).subscribe();
        });
    };
    NewEditGoalComponent.prototype.deleteOneSignal = function (goal) {
        var _this = this;
        /* const schedule = await this.scheduleService
          .getScheduleById(scheduleId)
          .toPromise(); */
        if (goal.notificationOneSignal && goal.notificationOneSignal.length > 0) {
            goal.notificationOneSignal.forEach(function (idN, i) {
                _this.oneSignalService.deleteOneSignalSchedule(idN).subscribe();
            });
            return (goal.notificationOneSignal = []);
        }
    };
    // dialog
    NewEditGoalComponent.prototype.searchAdv = function () {
        return __awaiter(this, void 0, void 0, function () {
            var adv, dialogRef, sub;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isSpinner = true;
                        return [4 /*yield*/, this.adviserService
                                .getAdviserAll()
                                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["map"])(function (arr) {
                                return arr.map(function (adviser) {
                                    adviser.numOfBuyer = "N\u00FAmero de Clientes: " + adviser.buyer.length;
                                    adviser.range = "Disponible de " + adviser.hourStart + " a " + adviser.hourEnd;
                                    return adviser;
                                });
                            }))
                                .toPromise()];
                    case 1:
                        adv = _a.sent();
                        this.isSpinner = false;
                        dialogRef = this.dialog.open(_general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_9__["SearchSelectComponent"], {
                            /*  maxWidth: '50%',
                            minWidth: '20%', */
                            data: {
                                header: 'Buscar asesor para objetivo, seleccione uno o varios',
                                hideButtonCancel: true,
                                okButton: 'OK',
                                isMultiple: true,
                                itemsIdDisable: this.isNew
                                    ? this.adviserSelect.map(function (a) { return a._id; })
                                    : this.goal.adviser.map(function (a) { return a._id; }).concat(this.adviserSelect.map(function (a) { return a._id; })),
                                filtersDetail: true,
                                rows: adv,
                                typeFilter: 'filter-adv',
                                columns: [
                                    {
                                        name: 'Nombre',
                                        prop: 'name',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Apellido',
                                        prop: 'fatherLastName',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Fecha Alta',
                                        prop: 'timestamp',
                                        type: 'date',
                                    },
                                    {
                                        name: '# De Consumidores',
                                        prop: 'numOfBuyer',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Disponibilidad',
                                        prop: 'range',
                                        type: 'normal',
                                    },
                                ],
                            },
                        });
                        sub = dialogRef.componentInstance.buttons.subscribe(function (res) {
                            if (res.options) {
                                _this.adviserSelect = res.arrSelect.concat(_this.adviserSelect);
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewEditGoalComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    NewEditGoalComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    NewEditGoalComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-edit-goal',
            template: __webpack_require__(/*! ./new-edit-goal.component.html */ "./src/app/components/goals/new-edit-goal/new-edit-goal.component.html"),
            styles: [__webpack_require__(/*! ./new-edit-goal.component.scss */ "./src/app/components/goals/new-edit-goal/new-edit-goal.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _services_goal_service__WEBPACK_IMPORTED_MODULE_1__["GoalService"],
            _services_adviser_service__WEBPACK_IMPORTED_MODULE_3__["AdviserService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__["UserSessionService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__["OnesignalService"],
            _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__["MatDialog"]])
    ], NewEditGoalComponent);
    return NewEditGoalComponent;
}());



/***/ }),

/***/ "./src/app/components/login/login.component.html":
/*!*******************************************************!*\
  !*** ./src/app/components/login/login.component.html ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-title>\n      Ingresar\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n<!-- <ion-content fixed>\n  <form #loginForm=\"ngForm\">\n    <mdc-text-field label=\"Nombre\" [(ngModel)]=\"emailInput\" #email=\"ngModel\" id=\"email\" name=\"email\" required [outline]=\"true\"\n      [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n    <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n      <span *ngIf=\"email.dirty || email.touched\">Anota nombre</span>\n    </mdc-text-field-helper-text>\n    <mdc-text-field label=\"Contraseña\" type=\"password\" [(ngModel)]=\"passInput\" #pass=\"ngModel\" id=\"pass\" name=\"pass\"\n      required [outline]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n    <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n      <span *ngIf=\"pass.dirty || pass.touched\">Anota Contraseña</span>\n    </mdc-text-field-helper-text>\n    <ion-button color=\"primary\" (click)=\"login()\">Ingresar</ion-button>\n    <ion-button round fill=\"outline\" color=\"secondary\">Nuevo Usuario</ion-button>\n  </form>\n</ion-content> -->\n<ng-container *ngIf=\"isLogin; then thenTemplate; else elseTemplate\"></ng-container>\n<ng-template #thenTemplate>\n\n</ng-template>\n<ng-template #elseTemplate>\n  <div class=\"center-login\">\n    <img src=\"assets/cobian-light.jpg\" style=\"max-width: 10em\" alt=\"\">\n  </div>\n  <div *ngIf=\"!isFind\" style=\"margin-top: 2%; margin-bottom: 2%; text-align: center;\">\n    <span class=\"alert alert-danger \">\n      Error usuario y/o contraseña inválido\n    </span>\n  </div>\n  <ng-container *ngIf=\"isiOS; then IOS; else notIOS\"></ng-container>\n  <!-- Solo iOS -->\n  <ng-template #IOS>\n    <div class=\"grandParentContaniner\">\n      <form #loginForm=\"ngForm\">\n        <ion-item>\n          <ion-label position=\"floating\" color=\"secondary\">Correo</ion-label>\n          <ion-input class=\"color-text-field\" label=\"Correo\" [(ngModel)]=\"emailInput\" #email=\"ngModel\" id=\"email\" name=\"email\"\n            required></ion-input>\n        </ion-item>\n        <ion-item *ngIf=\"(email.dirty || email.touched) && !email.value\" lines=\"none\">\n          <ion-label color=\"danger\">*Anota Correo</ion-label>\n        </ion-item>\n        <!-- Pass -->\n        <ion-item>\n          <ion-label position=\"floating\" color=\"secondary\">Contraseña</ion-label>\n          <ion-input class=\"color-text-field\" (keyup)=\"pressEnter($event)\" label=\"Contraseña\" type=\"password\"\n            [(ngModel)]=\"passInput\" #pass=\"ngModel\" id=\"pass\" name=\"pass\" required></ion-input>\n        </ion-item>\n        <ion-item *ngIf=\"(pass.dirty || pass.touched) && !pass.value\" lines=\"none\">\n          <ion-label color=\"danger\">*Anota Contraseña</ion-label>\n        </ion-item>\n        <div style=\"margin-bottom: 15%;\"></div>\n        <ion-button color=\"primary\" (click)=\"login()\">Ingresar</ion-button>\n        <ion-button round fill=\"outline\" color=\"secondary\" (click)=\"newUser()\">Nuevo Usuario</ion-button>\n      </form>\n      <div class=\"space-buttons\"></div>\n    </div>\n  </ng-template>\n  <!-- Any  -->\n  <ng-template #notIOS>\n    <div class=\"grandParentContaniner\">\n      <form #loginForm=\"ngForm\">\n        <mdc-text-field class=\"color-text-field\" label=\"Correo\" [(ngModel)]=\"emailInput\" #email=\"ngModel\" id=\"email\"\n          name=\"email\" required [outline]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n        <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n          <span *ngIf=\"email.dirty || email.touched\">Anota correo</span>\n        </mdc-text-field-helper-text>\n        <mdc-text-field class=\"color-text-field\" (keyup)=\"pressEnter($event)\" label=\"Contraseña\" type=\"password\"\n          [(ngModel)]=\"passInput\" #pass=\"ngModel\" id=\"pass\" name=\"pass\" required [outline]=\"true\" [required]=\"true\"\n          [helperText]=\"weightHelper\"></mdc-text-field>\n        <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n          <span *ngIf=\"pass.dirty || pass.touched\">Anota Contraseña</span>\n        </mdc-text-field-helper-text>\n        <ion-button color=\"primary\" (click)=\"login()\">Ingresar</ion-button>\n        <ion-button round fill=\"outline\" color=\"secondary\" (click)=\"newUser()\">Nuevo Usuario</ion-button>\n      </form>\n      <div class=\"space-buttons\"></div>\n    </div>\n  </ng-template>\n\n\n</ng-template>"

/***/ }),

/***/ "./src/app/components/login/login.component.scss":
/*!*******************************************************!*\
  !*** ./src/app/components/login/login.component.scss ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".grandParentContaniner {\n  display: flex;\n  justify-content: center;\n  height: 100%; }\n\n.center-login {\n  text-align: center; }\n\n.alert {\n  position: relative;\n  padding: 0.75rem 1.25rem;\n  margin-bottom: 1rem;\n  border: 1px solid transparent;\n  border-radius: 0.25rem; }\n\n.alert-danger {\n  color: #721c24;\n  background-color: #f8d7da;\n  border-color: #f5c6cb; }\n"

/***/ }),

/***/ "./src/app/components/login/login.component.ts":
/*!*****************************************************!*\
  !*** ./src/app/components/login/login.component.ts ***!
  \*****************************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/dist/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var LoginComponent = /** @class */ (function () {
    function LoginComponent(userSession, router, navController, menuController, storage, loadingController, platform) {
        var _this = this;
        this.userSession = userSession;
        this.router = router;
        this.navController = navController;
        this.menuController = menuController;
        this.storage = storage;
        this.loadingController = loadingController;
        this.platform = platform;
        this.isFind = true;
        platform.ready().then(function () {
            _this.isiOS = platform.is('ios');
        });
        this.storage.keys().then(function (keys) {
            var keyUserSession = keys.find(function (key) { return key === 'userSessionCurrent'; });
            if (!keyUserSession) {
                _this.isLogin = false;
                userSession.loggout();
            }
            else {
                storage.get('userSessionCurrent').then(function (val) {
                    _this.emailInput = val.email;
                    _this.passInput = val.password;
                    _this.login();
                });
            }
        });
    }
    LoginComponent.prototype.ngOnInit = function () { };
    LoginComponent.prototype.close = function () { };
    LoginComponent.prototype.login = function () {
        return __awaiter(this, void 0, void 0, function () {
            var load;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.presentLoadingWithOptions()];
                    case 1:
                        load = _a.sent();
                        load.present();
                        this.userSession
                            .logginUserSession(this.emailInput, this.passInput)
                            .subscribe(function (data) {
                            // data  administrator buyer seller adviser management
                            if (data !== 'error') {
                                _this.userSession.setUserSession(data.data[0].name, data.type, data.data[0]._id, data.data[0].password, data.data[0].email, data.token);
                                _this.isFind = true;
                                // seller
                                if (data.type === 'seller') {
                                    _this.isLogin = true;
                                    load.dismiss();
                                    var noty = _this.userSession.activateMenu.value;
                                    if (noty && noty !== '') {
                                        _this.router.navigate([noty]);
                                    }
                                    else {
                                        _this.navController.navigateRoot('list-buyer-admin', false);
                                    }
                                }
                                // office
                                if (data.type === 'office') {
                                    _this.isLogin = true;
                                    load.dismiss();
                                    var noty = _this.userSession.activateMenu.value;
                                    if (noty && noty !== '') {
                                        _this.router.navigate([noty]);
                                    }
                                    else {
                                        _this.navController.navigateRoot('list-buyer-admin', false);
                                    }
                                }
                                // **management
                                if (data.type === 'management') {
                                    _this.isLogin = true;
                                    load.dismiss();
                                    var noty = _this.userSession.activateMenu.value;
                                    if (noty && noty !== '') {
                                        _this.router.navigate([noty]);
                                    }
                                    else {
                                        _this.navController.navigateRoot('list-buyer-admin', false);
                                    }
                                }
                                // adviser
                                if (data.type === 'adviser') {
                                    _this.isLogin = true;
                                    load.dismiss();
                                    var noty = _this.userSession.activateMenu.value;
                                    if (noty && noty !== '') {
                                        _this.router.navigate([noty]);
                                    }
                                    else {
                                        _this.navController.navigateRoot('list-schedule-admin', false);
                                    }
                                }
                                // maker
                                if (data.type === 'maker') {
                                    var maker = data.data;
                                    _this.isLogin = true;
                                    load.dismiss();
                                    _this.userSession.buildId = maker[0].build;
                                    var query = {
                                        queryParams: { id: maker[0].build }
                                    };
                                    var noty = _this.userSession.activateMenu.value;
                                    if (noty && noty !== '') {
                                        _this.router.navigate([noty]);
                                    }
                                    else {
                                        _this.router.navigate(['detail-build-admin'], query);
                                    }
                                }
                                // preBuyer
                                if (data.type === 'preBuyer') {
                                    var preBuyer = data.data;
                                    _this.isLogin = true;
                                    load.dismiss();
                                    var query = {
                                        queryParams: { id: preBuyer[0]._id }
                                    };
                                    var noty = _this.userSession.activateMenu.value;
                                    if (noty && noty !== '') {
                                        _this.router.navigate([noty]);
                                    }
                                    else {
                                        _this.router.navigate(['login-select-user'], query);
                                    }
                                }
                                // buyer
                                if (data.type === 'buyer') {
                                    _this.isLogin = true;
                                    load.dismiss();
                                    var noty = _this.userSession.activateMenu.value;
                                    if (noty && noty !== '') {
                                        _this.router.navigate([noty]);
                                    }
                                    else {
                                        _this.navController.navigateRoot('list-prop-buyer', false);
                                    }
                                }
                                //  admin
                                if (data.type === 'administrator') {
                                    _this.isLogin = true;
                                    load.dismiss();
                                    var noty = _this.userSession.activateMenu.value;
                                    if (noty && noty !== '') {
                                        _this.router.navigate([noty]);
                                    }
                                    else {
                                        _this.navController.navigateRoot('main-admin', false);
                                    }
                                }
                            }
                            else {
                                load.dismiss();
                                _this.isFind = false;
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    LoginComponent.prototype.presentLoadingWithOptions = function () {
        return __awaiter(this, void 0, void 0, function () {
            var loading;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create({
                            message: 'Iniciando...',
                            translucent: true
                        })];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    LoginComponent.prototype.newUser = function () {
        this.navController.navigateForward('new-buyer', false);
    };
    LoginComponent.prototype.pressEnter = function (event) {
        if (event.keyCode === 13) {
            this.login();
        }
    };
    LoginComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-login',
            template: __webpack_require__(/*! ./login.component.html */ "./src/app/components/login/login.component.html"),
            styles: [__webpack_require__(/*! ./login.component.scss */ "./src/app/components/login/login.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_user_session_service__WEBPACK_IMPORTED_MODULE_1__["UserSessionService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["MenuController"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_4__["Storage"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["LoadingController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/components/login/user-select/user-select.component.html":
/*!*************************************************************************!*\
  !*** ./src/app/components/login/user-select/user-select.component.html ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title> Selecciona uno </ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content padding>\n  <div class=\"user-select-contenet\">\n    <ng-container\n      *ngIf=\"isLoad; then: thenTemplate; else: elseTemplate\"\n    ></ng-container>\n    <ng-template #thenTemplate>\n      <ng-container *ngIf=\"preBuyer.preBuild.length > 0; else: elseTemplate2\">\n        <ion-card\n          class=\"user-select-card\"\n          *ngFor=\"let build of preBuyer.preBuild\"\n          (click)=\"goToBuild(build._id)\"\n        >\n          <ion-card-header>\n            <ion-card-title>{{ build.name }}</ion-card-title>\n          </ion-card-header>\n          <ion-card-content>\n            <ion-label text-wrap>\n              <p><b>Fecha Alta</b> {{ formatDates(build.timestamp) }}</p>\n              <p><b>Ciudad</b> {{ build.city }}</p>\n              <p><b>Notas</b> {{ build.notes }}</p>\n            </ion-label>\n            <ion-item lines=\"none\">\n              <ion-icon\n                style=\"color:  #F5811E\"\n                name=\"arrow-forward\"\n                slot=\"end\"\n              ></ion-icon>\n              <ion-label text-wrap>Ver propiedad</ion-label>\n            </ion-item>\n          </ion-card-content>\n        </ion-card>\n      </ng-container>\n      <ng-template #elseTemplate2>\n        <h6>No hay elementos registrados</h6>\n      </ng-template>\n    </ng-template>\n    <ng-template #elseTemplate>\n      <app-general-skeleton></app-general-skeleton>\n    </ng-template>\n  </div>\n</ion-content>\n"

/***/ }),

/***/ "./src/app/components/login/user-select/user-select.component.scss":
/*!*************************************************************************!*\
  !*** ./src/app/components/login/user-select/user-select.component.scss ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".user-select-contenet {\n  margin: 3% 30% 2% 30%; }\n\n.user-select-card {\n  border-left: 4px solid var(--ion-color-secondary); }\n\n.user-select-card:hover {\n  background-color: var(--ion-color-light); }\n\n@media (max-width: 900px) {\n  .user-select-contenet {\n    margin: 1% 1% 1% 1%; } }\n"

/***/ }),

/***/ "./src/app/components/login/user-select/user-select.component.ts":
/*!***********************************************************************!*\
  !*** ./src/app/components/login/user-select/user-select.component.ts ***!
  \***********************************************************************/
/*! exports provided: UserSelectComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserSelectComponent", function() { return UserSelectComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_pre_buyer_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/pre-buyer.service */ "./src/app/services/pre-buyer.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var UserSelectComponent = /** @class */ (function () {
    function UserSelectComponent(route, preBuyerService, router, userSession) {
        var _this = this;
        this.route = route;
        this.preBuyerService = preBuyerService;
        this.router = router;
        this.userSession = userSession;
        this.user = userSession.userSession.value;
        this.route.queryParams.subscribe(function (params) {
            if (params.id) {
                _this.getBuyerById(params.id);
            }
            else if (_this.user.type === 'preBuyer') {
                _this.getBuyerById(_this.user.id);
            }
        });
    }
    UserSelectComponent.prototype.ngOnInit = function () { };
    UserSelectComponent.prototype.getBuyerById = function (id) {
        var _this = this;
        this.isLoad = false;
        this.preBuyerService.getBuyerById(id).subscribe(function (b) {
            _this.preBuyer = b;
            _this.isLoad = true;
        });
    };
    UserSelectComponent.prototype.formatDates = function (date) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_3__["FormatDatesFront"])(date);
    };
    UserSelectComponent.prototype.goToBuild = function (id) {
        var data = { queryParams: { id: id } };
        this.router.navigate(['detail-prebuild-admin'], data);
    };
    UserSelectComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-user-select',
            template: __webpack_require__(/*! ./user-select.component.html */ "./src/app/components/login/user-select/user-select.component.html"),
            styles: [__webpack_require__(/*! ./user-select.component.scss */ "./src/app/components/login/user-select/user-select.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _services_pre_buyer_service__WEBPACK_IMPORTED_MODULE_1__["PreBuyerService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_4__["UserSessionService"]])
    ], UserSelectComponent);
    return UserSelectComponent;
}());



/***/ }),

/***/ "./src/app/components/maker/new-edit-maker/new-edit-maker.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/components/maker/new-edit-maker/new-edit-maker.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Propietario\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Constructor'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n    <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n    <ng-template #thenTemplate>\n      <div class=\"container\" style=\"margin-top: 3%\">\n        <form #newUserForm=\"ngForm\">\n          <mat-card>\n            <mat-card-title>Complete los campos</mat-card-title>\n            <div class=\"flex-container\">\n              <!-- name -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Nombre</mat-label>\n                <input matInput placeholder=\"\" [(ngModel)]=\"maker.name\" #name=\"ngModel\" id=\"name\" name=\"name\" required>\n                <mat-error *ngIf=\"name.dirty || name.touched\">Anotar Nombre</mat-error>\n              </mat-form-field>\n              <!-- lastname -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Apellido</mat-label>\n                <input matInput [(ngModel)]=\"maker.lastName\" #lastName=\"ngModel\" id=\"lastName\" name=\"lastName\" required>\n                <mat-error *ngIf=\"lastName.dirty || lastName.touched\">Anotar Apellido</mat-error>\n              </mat-form-field>\n              <!-- email -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Correo</mat-label>\n                <input matInput [(ngModel)]=\"maker.email\" #email=\"ngModel\" id=\"email\" name=\"email\" required>\n                <mat-error *ngIf=\"email.dirty || email.touched\">Anotar Correo</mat-error>\n              </mat-form-field>\n              <!-- email -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Teléfono</mat-label>\n                <input matInput [(ngModel)]=\"maker.phone\" #phone=\"ngModel\" id=\"phone\" name=\"phone\" required>\n                <mat-error *ngIf=\"phone.dirty || phone.touched\">Anotar Teléfono</mat-error>\n              </mat-form-field>\n              <!-- city -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Ciudad</mat-label>\n                <mat-select [(ngModel)]=\"maker.city\" #city=\"ngModel\" id=\"city\" name=\"city\" required>\n                  <mat-option value=\"puebla\">\n                    Puebla\n                  </mat-option>\n                  <mat-option value=\"mexico\">\n                    México\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"city.dirty || city.touched\">Anotar Ciudad</mat-error>\n              </mat-form-field>\n              <!-- pass -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Contraseña</mat-label>\n                <input matInput [type]=\"hide ? 'password' : 'text'\" [(ngModel)]=\"maker.password\" #password=\"ngModel\" id=\"password\"\n                  name=\"password\" required>\n                <mat-error *ngIf=\"password.dirty || password.touched\">Anotar Contraseña</mat-error>\n                <mat-icon matSuffix (click)=\"hide = !hide\">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>\n              </mat-form-field>\n\n              <!-- prop -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Obras del Constructor</mat-label>\n                <mat-select (selectionChange)=\"flag = true\" [(ngModel)]=\"maker.build\" #property=\"ngModel\" id=\"property\"\n                  name=\"property\">\n                  <mat-option *ngFor=\"let prop of buildings$ | async\" [value]=\"prop._id\">\n                    {{prop.name}}\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"property.dirty || property.touched\">Anotar Obra</mat-error>\n              </mat-form-field>\n            </div>\n            <mat-card-actions align=\"end\">\n              <div style=\"margin-right: 2%\">\n                <span [matTooltip]=errorToShow [matTooltipClass]=\"'tooltip-size'\" (mouseenter)=\"getPopMessage($event)\">\n                  <button *ngIf=\"isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" (click)=\"newCustomer()\"\n                    [disabled]=\"!newUserForm.form.valid\">Crear</button>\n                  <button *ngIf=\"!isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" [disabled]=\"!newUserForm.form.valid\"\n                    (click)=\"editCustomer()\">Editar</button>\n                </span>\n              </div>\n\n\n            </mat-card-actions>\n\n          </mat-card>\n        </form>\n\n      </div>\n    </ng-template>\n    <ng-template #elseTemplate>\n      <app-general-skeleton></app-general-skeleton>\n    </ng-template>\n\n\n  </ion-grid>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/maker/new-edit-maker/new-edit-maker.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/components/maker/new-edit-maker/new-edit-maker.component.scss ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/components/maker/new-edit-maker/new-edit-maker.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/components/maker/new-edit-maker/new-edit-maker.component.ts ***!
  \*****************************************************************************/
/*! exports provided: NewEditMakerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewEditMakerComponent", function() { return NewEditMakerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_build_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/build.service */ "./src/app/services/build.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_maker_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/maker.service */ "./src/app/services/maker.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var NewEditMakerComponent = /** @class */ (function () {
    function NewEditMakerComponent(route, router, navCtr, buildService, makerService, userSessionService, oneSignalService) {
        this.route = route;
        this.router = router;
        this.navCtr = navCtr;
        this.buildService = buildService;
        this.makerService = makerService;
        this.userSessionService = userSessionService;
        this.oneSignalService = oneSignalService;
        this.isLoad = false;
        this.hide = true;
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.maker = {};
        this.flag = false;
    }
    NewEditMakerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isLoad = false;
        this.getBuild();
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.makerService.getMakerById(params['id']).subscribe(function (m) {
                    _this.maker = m;
                    if (m.build) {
                        _this.oldBuild = m.build._id;
                        _this.maker.build = _this.oldBuild;
                    }
                    else {
                    }
                    console.log(m);
                    _this.isLoad = true;
                });
                _this.isNew = false;
            }
            else {
                _this.isNew = true;
                _this.isLoad = true;
            }
        });
    };
    NewEditMakerComponent.prototype.getBuild = function () {
        this.buildings$ = this.buildService.getBuildAll();
    };
    NewEditMakerComponent.prototype.newCustomer = function () {
        var _this = this;
        this.makerService.newMaker(this.maker).subscribe(function (s) {
            if (s.build !== undefined) {
                _this.buildService
                    .getBuildById(_this.maker.build)
                    .subscribe(function (build) {
                    var findIndex = build.maker.findIndex(function (m) { return m._id === _this.maker._id; });
                    if (findIndex === -1) {
                        build.maker.push(s);
                        _this.buildService.putBuild(build).subscribe(function () {
                            _this.notification('Nueva Obra', "Se le ha asignado: " + build.name, 'verde', 'build', undefined, [_this.maker._id]);
                            console.log('add');
                            var toast = {
                                queryParams: { res: 'Nuevo Cosntructor Agregado' },
                            };
                            // this.router.navigate(['list-seller-admin'], toast);
                            _this.router
                                .navigateByUrl('/RefrshComponent', {
                                skipLocationChange: true,
                            })
                                .then(function () {
                                return _this.router.navigate(['list-maker-admin'], toast);
                            });
                        });
                    }
                });
            }
            else {
                var toast_1 = {
                    queryParams: { res: 'Nuevo Cosntructor Agregado' },
                };
                _this.router
                    .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                    .then(function () { return _this.router.navigate(['list-maker-admin'], toast_1); });
            }
            // add
        });
    };
    NewEditMakerComponent.prototype.editCustomer = function () {
        var _this = this;
        console.log(this.oldBuild);
        console.log(this.maker.build);
        if (this.oldBuild && this.oldBuild !== this.maker.build) {
            console.log('a');
            // add
            this.buildService.getBuildById(this.maker.build).subscribe(function (build) {
                var findIndex = build.maker.findIndex(function (m) { return m._id === _this.maker._id; });
                if (findIndex === -1) {
                    build.maker.push(_this.maker);
                    _this.buildService.putBuild(build).subscribe(function () {
                        _this.notification('Nueva Obra', "Se le ha asignado: " + build.name, 'verde', 'build', undefined, [_this.maker._id]);
                        console.log('add');
                    });
                }
            });
            // remove
            this.buildService.getBuildById(this.oldBuild).subscribe(function (build) {
                var findIndex = build.maker.findIndex(function (m) { return m._id === _this.maker._id; });
                build.maker.splice(findIndex, 1);
                _this.buildService.putBuild(build).subscribe(function () {
                    console.log('remove');
                    _this.putMaker();
                });
            });
        }
        else {
            //
            this.notification('Nueva Obra', "Se le ha asignado nueva obra", 'verde', 'build', undefined, [this.maker._id]);
            this.putMaker();
        }
    };
    NewEditMakerComponent.prototype.putMaker = function () {
        var _this = this;
        this.makerService.putMaker(this.maker).subscribe(function () {
            var toast = {
                queryParams: { res: ' Constructor Editado' },
            };
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-maker-admin'], toast); });
        });
    };
    NewEditMakerComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userSessionService.userSession.value.id,
            status: status,
            type: type,
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, tags, receiversId)
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    NewEditMakerComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    NewEditMakerComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    NewEditMakerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-edit-maker',
            template: __webpack_require__(/*! ./new-edit-maker.component.html */ "./src/app/components/maker/new-edit-maker/new-edit-maker.component.html"),
            styles: [__webpack_require__(/*! ./new-edit-maker.component.scss */ "./src/app/components/maker/new-edit-maker/new-edit-maker.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavController"],
            _services_build_service__WEBPACK_IMPORTED_MODULE_1__["BuildService"],
            _services_maker_service__WEBPACK_IMPORTED_MODULE_4__["MakerService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__["UserSessionService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_6__["OnesignalService"]])
    ], NewEditMakerComponent);
    return NewEditMakerComponent;
}());

/* this.buildService.putBuild(this.oldBuild).subscribe(() => {
          console.log('remove');
          resolve(true);
        }); */
/* this.buildService.getBuildById(builId).subscribe(build => {
          const findIndex = build.maker.findIndex(m => m._id === makerId);
          if (findIndex === -1) {
            build.maker.push(makerId);
            this.buildService.putBuild(build).subscribe(() => {
              resolve(true);
            });
          }
        }); */


/***/ }),

/***/ "./src/app/components/manager/new-edit-manager/new-edit-manager.component.html":
/*!*************************************************************************************!*\
  !*** ./src/app/components/manager/new-edit-manager/new-edit-manager.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"start\">\n        <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n      </ion-buttons>\n      <ion-title>\n        Oficinista\n      </ion-title>\n\n    </ion-toolbar>\n  </ion-header>\n-->\n<ion-header>\n  <app-menu-general\n    [isMenuButton]=\"'back'\"\n    [colorMenuButton]=\"'white'\"\n    [titleMenu]=\"'Gerencia'\"\n    [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"\n  ></app-menu-general>\n</ion-header>\n<ion-content>\n  <ng-container\n    *ngIf=\"isLoad; then: thenTemplate; else: elseTemplate\"\n  ></ng-container>\n  <ng-template #thenTemplate>\n    <ion-grid fixed>\n      <h1>Gerencia</h1>\n      <div class=\"container\" style=\"margin-top: 3%\">\n        <form #newUserForm=\"ngForm\">\n          <mat-card>\n            <mat-card-title>Complete los campos</mat-card-title>\n            <div class=\"flex-container\">\n              <!-- name -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Nombre</mat-label>\n                <input\n                  matInput\n                  placeholder=\"\"\n                  [(ngModel)]=\"manager.name\"\n                  #name=\"ngModel\"\n                  id=\"name\"\n                  name=\"name\"\n                  required\n                />\n                <mat-error *ngIf=\"name.dirty || name.touched\"\n                  >Anotar Nombre</mat-error\n                >\n              </mat-form-field>\n              <!-- Apellido -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Apellido</mat-label>\n                <input\n                  matInput\n                  placeholder=\"\"\n                  [(ngModel)]=\"manager.lastname\"\n                  #lastname=\"ngModel\"\n                  id=\"lastname\"\n                  name=\"lastname\"\n                  required\n                />\n                <mat-error *ngIf=\"lastname.dirty || lastname.touched\"\n                  >Anotar Apellido</mat-error\n                >\n              </mat-form-field>\n              <!-- Teléfono -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Teléfono</mat-label>\n                <input\n                  matInput\n                  type=\"number\"\n                  placeholder=\"\"\n                  [(ngModel)]=\"manager.phone\"\n                  #phone=\"ngModel\"\n                  id=\"phone\"\n                  name=\"phone\"\n                  required\n                />\n                <mat-error *ngIf=\"phone.dirty || phone.touched\"\n                  >Anotar Telefono</mat-error\n                >\n              </mat-form-field>\n              <!-- Correo -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Correo</mat-label>\n                <input\n                  matInput\n                  [(ngModel)]=\"manager.email\"\n                  #email=\"ngModel\"\n                  id=\"email\"\n                  name=\"email\"\n                  required\n                />\n                <mat-error *ngIf=\"email.dirty || email.touched\"\n                  >Anotar Correo</mat-error\n                >\n              </mat-form-field>\n              <!-- pass -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Contraseña</mat-label>\n                <input\n                  matInput\n                  [type]=\"hide ? 'password' : 'text'\"\n                  [(ngModel)]=\"manager.password\"\n                  #password=\"ngModel\"\n                  id=\"password\"\n                  name=\"password\"\n                  required\n                />\n                <mat-error *ngIf=\"password.dirty || password.touched\"\n                  >Anotar Contraseña</mat-error\n                >\n                <mat-icon matSuffix (click)=\"hide = !hide\">{{\n                  hide ? 'visibility' : 'visibility_off'\n                }}</mat-icon>\n              </mat-form-field>\n            </div>\n            <mat-card-actions align=\"end\">\n              <div style=\"margin-right: 2%\">\n                <span\n                  [matTooltip]=\"errorToShow\"\n                  [matTooltipClass]=\"'tooltip-size'\"\n                  (mouseenter)=\"getPopMessage($event)\"\n                >\n                  <button\n                    *ngIf=\"isNew\"\n                    id=\"submitUser\"\n                    mat-raised-button\n                    color=\"primary\"\n                    (click)=\"add()\"\n                    [disabled]=\"!newUserForm.form.valid\"\n                  >\n                    Crear\n                  </button>\n                  <button\n                    *ngIf=\"!isNew\"\n                    id=\"submitUser\"\n                    mat-raised-button\n                    color=\"primary\"\n                    [disabled]=\"!newUserForm.form.valid\"\n                    (click)=\"edit()\"\n                  >\n                    Editar\n                  </button>\n                </span>\n              </div>\n            </mat-card-actions>\n          </mat-card>\n        </form>\n      </div>\n    </ion-grid>\n  </ng-template>\n  <ng-template #elseTemplate>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n</ion-content>\n"

/***/ }),

/***/ "./src/app/components/manager/new-edit-manager/new-edit-manager.component.scss":
/*!*************************************************************************************!*\
  !*** ./src/app/components/manager/new-edit-manager/new-edit-manager.component.scss ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/components/manager/new-edit-manager/new-edit-manager.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/components/manager/new-edit-manager/new-edit-manager.component.ts ***!
  \***********************************************************************************/
/*! exports provided: NewEditManagerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewEditManagerComponent", function() { return NewEditManagerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_managers_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/managers.service */ "./src/app/services/managers.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var NewEditManagerComponent = /** @class */ (function () {
    function NewEditManagerComponent(route, router, userSession, managerService) {
        var _this = this;
        this.route = route;
        this.router = router;
        this.userSession = userSession;
        this.managerService = managerService;
        this.hide = true;
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.manager = {};
        this.user = userSession.userSession.value;
        this.isLoad = false;
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.managerService.getManagerById(params['id']).subscribe(function (m) {
                    console.log(m);
                    _this.manager = m;
                    _this.isLoad = true;
                });
                _this.isNew = false;
            }
            else if (_this.user && _this.user.type === 'office') {
                _this.managerService.getManagerById(_this.user.id).subscribe(function (office) {
                    _this.manager = office;
                    _this.isLoad = true;
                });
                _this.isNew = false;
            }
            else {
                _this.isNew = true;
                _this.isLoad = true;
            }
        });
    }
    NewEditManagerComponent.prototype.ngOnInit = function () { };
    NewEditManagerComponent.prototype.edit = function () {
        var _this = this;
        this.managerService.putManager(this.manager).subscribe(function (m) {
            var toast = {
                queryParams: { res: 'Gerente Editado' }
            };
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-manager-admin'], toast); });
        });
    };
    NewEditManagerComponent.prototype.add = function () {
        var _this = this;
        this.managerService.newManager(this.manager).subscribe(function (o) {
            // this.navCtr.navigateRoot('list-ofert-admin', true);
            var toast = {
                queryParams: { res: 'Gerente Creado' }
            };
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-manager-admin'], toast); });
        });
    };
    NewEditManagerComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    NewEditManagerComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    NewEditManagerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-edit-manager',
            template: __webpack_require__(/*! ./new-edit-manager.component.html */ "./src/app/components/manager/new-edit-manager/new-edit-manager.component.html"),
            styles: [__webpack_require__(/*! ./new-edit-manager.component.scss */ "./src/app/components/manager/new-edit-manager/new-edit-manager.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__["UserSessionService"],
            _services_managers_service__WEBPACK_IMPORTED_MODULE_3__["ManagersService"]])
    ], NewEditManagerComponent);
    return NewEditManagerComponent;
}());



/***/ }),

/***/ "./src/app/components/notification/list-notification/list-notification.component.html":
/*!********************************************************************************************!*\
  !*** ./src/app/components/notification/list-notification/list-notification.component.html ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"start\">\n        <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n      </ion-buttons>\n      <ion-title>\n        Notificaciones\n      </ion-title>\n    </ion-toolbar>\n  </ion-header>\n-->\n<ion-header>\n  <app-menu-general\n    [isMenuButton]=\"'menu'\"\n    [colorMenuButton]=\"'white'\"\n    [titleMenu]=\"'Notificaciones'\"\n    [buttonUser]=\"'person'\"\n  ></app-menu-general>\n</ion-header>\n\n<ion-content\n  (ionScroll)=\"onScroll($event)\"\n  [scrollEvents]=\"true\"\n  (sectionChange)=\"onSectionChange($event)\"\n>\n  <div class=\"user-select-contenet\">\n    <ng-container\n      *ngIf=\"isLoad; then: thenTemplate; else: elseTemplate\"\n    ></ng-container>\n    <ng-template #thenTemplate>\n      <!--\n        <h3 *ngIf=\"notificationsNew.length > 0\">\n          Nuevas\n        </h3>\n      -->\n      <div\n        *ngIf=\"notificationsNew.length > 0\"\n        style=\"text-align: center\"\n        id=\"Nuevas\"\n      >\n        <ion-chip class=\"chips-detail\" color=\"secondary\">\n          <ion-label>Nuevas</ion-label>\n        </ion-chip>\n      </div>\n      <span *ngFor=\"let notification of notificationsNew\">\n        <!-- card -->\n        <ion-card>\n          <div class=\"card-noti-flex\">\n            <div\n              [class.mat-elevation-z3]=\"true\"\n              class=\"card-icon-flex \"\n              [ngClass]=\"{\n                'background-verde': notification.status === 'verde',\n                'background-amarillo': notification.status === 'amarillo',\n                'background-rojo': notification.status === 'rojo',\n                'background-gris': notification.status === 'gris',\n                'background-azul': notification.status === 'azul'\n              }\"\n            >\n              <div class=\"card-icon \">\n                <mat-icon class=\"icon-size\">{{\n                  trasforIcon(notification.type)\n                }}</mat-icon>\n              </div>\n            </div>\n\n            <div\n              style=\"width: 100%;\"\n              [ngClass]=\"{\n                'background-verde-light': notification.status === 'verde',\n                'background-amarillo-light': notification.status === 'amarillo',\n                'background-rojo-light': notification.status === 'rojo',\n                'background-gris-light': notification.status === 'gris',\n                'background-azul-light': notification.status === 'azul'\n              }\"\n            >\n              <ion-card-header>\n                <ion-card-subtitle>{{\n                  formatDates(notification.timestamp)\n                }}</ion-card-subtitle>\n                <ion-card-title text-wrap>{{\n                  notification.title\n                }}</ion-card-title>\n              </ion-card-header>\n              <ion-card-content> {{ notification.message }} </ion-card-content>\n              <ion-item lines=\"none\">\n                <ion-button\n                  (click)=\"goToDetails(notification)\"\n                  color=\"secondary\"\n                  slot=\"end\"\n                >\n                  Detalles\n                </ion-button>\n              </ion-item>\n            </div>\n          </div>\n        </ion-card>\n        <!-- / card -->\n      </span>\n      <!--\n        <h3 *ngIf=\"notificationsOld.length > 0\">\n          Leidas\n        </h3>\n      -->\n      <div\n        *ngIf=\"notificationsOld.length > 0\"\n        style=\"text-align: center\"\n        appScrollTitle\n        id=\"Leidas\"\n        #algo\n      >\n        <ion-chip class=\"chips-detail \" color=\"secondary\">\n          <ion-label>Leidas</ion-label>\n        </ion-chip>\n      </div>\n      <span *ngFor=\"let notification of notificationsOld\">\n        <!-- card -->\n        <ion-card>\n          <div class=\"card-noti-flex\">\n            <div\n              class=\"card-icon-flex \"\n              [ngClass]=\"{\n                'state-verde': notification.status === 'verde',\n                'state-amarillo': notification.status === 'amarillo',\n                'state-rojo': notification.status === 'rojo',\n                'state-gris': notification.status === 'gris',\n                'state-azul': notification.status === 'azul'\n              }\"\n            >\n              <div class=\"card-icon \">\n                <mat-icon class=\"icon-size\">{{\n                  trasforIcon(notification.type)\n                }}</mat-icon>\n              </div>\n            </div>\n\n            <div style=\"width: 100%;\">\n              <ion-card-header>\n                <ion-card-subtitle\n                  >Fecha:\n                  {{ formatDates(notification.timestamp) }}</ion-card-subtitle\n                >\n                <ion-card-title text-wrap>{{\n                  notification.title\n                }}</ion-card-title>\n              </ion-card-header>\n              <ion-card-content> {{ notification.message }} </ion-card-content>\n              <ion-item lines=\"none\">\n                <ion-button\n                  (click)=\"goToDetails(notification)\"\n                  color=\"secondary\"\n                  slot=\"end\"\n                >\n                  Detalles\n                </ion-button>\n              </ion-item>\n            </div>\n          </div>\n        </ion-card>\n        <!-- / card -->\n      </span>\n      <div style=\"text-align: center;\">\n        <ion-button\n          *ngIf=\"user.type !== 'buyer'\"\n          (click)=\"loadMore(); demoTabBar.activateTab(0)\"\n          shape=\"round\"\n        >\n          <ion-spinner\n            *ngIf=\"isSpinner\"\n            style=\"color: white\"\n            name=\"bubbles\"\n          ></ion-spinner\n          >Cargar más\n        </ion-button>\n        <ion-button\n          *ngIf=\"user.type === 'buyer'\"\n          (click)=\"loadMore(); demoTabBar2.activateTab(0)\"\n          shape=\"round\"\n        >\n          <ion-spinner\n            *ngIf=\"isSpinner\"\n            style=\"color: white\"\n            name=\"bubbles\"\n          ></ion-spinner\n          >Cargar más\n        </ion-button>\n      </div>\n    </ng-template>\n    <ng-template #elseTemplate>\n      <app-general-skeleton></app-general-skeleton>\n    </ng-template>\n  </div>\n  <!-- /10 iniciales -->\n</ion-content>\n\n<!--\n  tab notification\n  || user.type === 'preBuyer' || user.type === 'maker'\n  || user.type === 'preBuyer' || user.type === 'maker'\n-->\n\n<ion-footer class=\"back-tab\" [hidden]=\"user.type === 'buyer'\">\n  <mdc-tab-bar #demoTabBar (activated)=\"logTab($event)\" stacked>\n    <mdc-tab-scroller *ngIf=\"user.type !== 'preBuyer' && user.type !== 'maker'\">\n      <mdc-tab\n        class=\"tabs-color\"\n        label=\"Todos\"\n        icon=\"assignment_active\"\n      ></mdc-tab>\n      <mdc-tab class=\"tabs-color\" label=\"Clientes\" icon=\"people\"></mdc-tab>\n      <mdc-tab\n        class=\"tabs-color\"\n        label=\"Eventos\"\n        icon=\"calendar_today\"\n      ></mdc-tab>\n      <mdc-tab\n        class=\"tabs-color\"\n        label=\"Asesores\"\n        icon=\"supervised_user_circle\"\n      ></mdc-tab>\n      <mdc-tab class=\"tabs-color\" label=\"Propiedades\" icon=\"business\"></mdc-tab>\n    </mdc-tab-scroller>\n  </mdc-tab-bar>\n</ion-footer>\n<!-- buyer -->\n<ion-footer class=\"back-tab\" [hidden]=\"user.type !== 'buyer'\">\n  <mdc-tab-bar #demoTabBar2 (activated)=\"logTab2($event)\" stacked>\n    <mdc-tab-scroller>\n      <mdc-tab\n        class=\"tabs-color\"\n        label=\"Todos\"\n        icon=\"assignment_active\"\n      ></mdc-tab>\n      <mdc-tab\n        class=\"tabs-color\"\n        label=\"Ofertas\"\n        icon=\"monetization_on\"\n      ></mdc-tab>\n      <mdc-tab class=\"tabs-color\" label=\"Créditos\" icon=\"payment\"></mdc-tab>\n      <mdc-tab\n        class=\"tabs-color\"\n        label=\"Eventos\"\n        icon=\"calendar_today\"\n      ></mdc-tab>\n    </mdc-tab-scroller>\n  </mdc-tab-bar>\n</ion-footer>\n"

/***/ }),

/***/ "./src/app/components/notification/list-notification/list-notification.component.scss":
/*!********************************************************************************************!*\
  !*** ./src/app/components/notification/list-notification/list-notification.component.scss ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".back-tab {\n  background-color: var(--ion-color-light); }\n\n.user-select-contenet {\n  margin: 3% 20% 2% 20%; }\n\n.card-noti-flex {\n  display: flex;\n  flex-direction: row; }\n\n.card-icon {\n  -ms-grid-row-align: center;\n      align-self: center;\n  margin-left: 10%;\n  margin-right: 3%; }\n\n.card-icon-flex {\n  display: flex;\n  width: 50px; }\n\n.icon-size {\n  font-size: 2.8em; }\n\n.detail-button {\n  align-self: flex-end;\n  margin-left: 25%; }\n\n.chips-detail {\n  padding: 15px;\n  font-size: 1.3em; }\n\n.title-sticky {\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n  z-index: 100000; }\n\n@media (max-width: 900px) {\n  .user-select-contenet {\n    margin: 1% 1% 1% 1%; }\n  .card-icon {\n    -ms-grid-row-align: center;\n        align-self: center;\n    margin-left: 0%;\n    margin-right: 0%; } }\n"

/***/ }),

/***/ "./src/app/components/notification/list-notification/list-notification.component.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/components/notification/list-notification/list-notification.component.ts ***!
  \******************************************************************************************/
/*! exports provided: ListNotificationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListNotificationComponent", function() { return ListNotificationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_socket_io_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/socket-io.service */ "./src/app/services/socket-io.service.ts");
/* harmony import */ var _general_dialog_general_dialog_general_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../general/dialog-general/dialog-general.component */ "./src/app/components/general/dialog-general/dialog-general.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};










var ListNotificationComponent = /** @class */ (function () {
    function ListNotificationComponent(userSessionService, platform, oneSignalService, socketIOService, router, dialog) {
        this.userSessionService = userSessionService;
        this.platform = platform;
        this.oneSignalService = oneSignalService;
        this.socketIOService = socketIOService;
        this.router = router;
        this.dialog = dialog;
        this.section = 0;
        this.isDesktop = false;
        this.notifications = [];
        this.notificationsNew = [];
        this.notificationsNewBack = [];
        this.notificationsOld = [];
        this.notificationsOldBack = [];
        this.pageNumber = 1;
        this.isNew = true;
        this.isSpinner = false;
        this.isLoad = false;
        this.isDesktop = platform.is('desktop');
        this.user = userSessionService.userSession.value;
        this.getNotification(this.user, this.pageNumber);
        this.getNotificationRealTime();
    }
    ListNotificationComponent.prototype.ngOnInit = function () { };
    ListNotificationComponent.prototype.logTab = function (event) {
        this.notificationsNew = this.notificationsNewBack;
        this.notificationsOld = this.notificationsOldBack;
        var numTab = event.index;
        if (numTab === 1) {
            this.notificationsNew = this.notificationsNew.filter(function (n) {
                return n.type === 'buyer' ||
                    n.type === 'like' ||
                    n.type === 'credit' ||
                    n.type === 'ofert';
            });
            this.notificationsOld = this.notificationsOld.filter(function (n) {
                return n.type === 'buyer' ||
                    n.type === 'like' ||
                    n.type === 'credit' ||
                    n.type === 'ofert';
            });
        }
        else if (numTab === 2) {
            this.notificationsNew = this.notificationsNew.filter(function (n) { return n.type === 'schedule'; });
            this.notificationsOld = this.notificationsOld.filter(function (n) { return n.type === 'schedule'; });
        }
        else if (numTab === 3) {
            this.notificationsNew = this.notificationsNew.filter(function (n) { return n.type === 'celebrate' || n.type === 'goal'; });
            this.notificationsOld = this.notificationsOld.filter(function (n) { return n.type === 'celebrate' || n.type === 'goal'; });
        }
        else if (numTab === 4) {
            this.notificationsNew = this.notificationsNew.filter(function (n) { return n.type === 'build' || n.type === 'property'; });
            this.notificationsOld = this.notificationsOld.filter(function (n) { return n.type === 'build' || n.type === 'property'; });
        }
    };
    ListNotificationComponent.prototype.logTab2 = function (event) {
        this.notificationsNew = this.notificationsNewBack;
        this.notificationsOld = this.notificationsOldBack;
        var numTab = event.index;
        if (numTab === 1) {
            this.notificationsNew = this.notificationsNew.filter(function (n) { return n.type === 'ofert'; });
            this.notificationsOld = this.notificationsOld.filter(function (n) { return n.type === 'ofert'; });
        }
        else if (numTab === 2) {
            this.notificationsNew = this.notificationsNew.filter(function (n) { return n.type === 'credit'; });
            this.notificationsOld = this.notificationsOld.filter(function (n) { return n.type === 'credit'; });
        }
        else if (numTab === 3) {
            this.notificationsNew = this.notificationsNew.filter(function (n) { return n.type === 'schedule'; });
            this.notificationsOld = this.notificationsOld.filter(function (n) { return n.type === 'schedule'; });
        }
    };
    ListNotificationComponent.prototype.getNotification = function (user, pageNumber) {
        var _this = this;
        this.oneSignalService
            .search(user.id, user.type, pageNumber, 10)
            .subscribe(function (nts) {
            if (pageNumber === 1) {
                _this.notificationsNew = nts.filter(function (n) { return _this.isNewTitle(n.readBy); });
                _this.notificationsOld = nts.filter(function (n) { return !_this.isNewTitle(n.readBy); });
                _this.notificationsNewBack = _this.notificationsNew;
                _this.notificationsOldBack = _this.notificationsOld;
            }
            else {
                _this.notificationsNew = _this.notificationsNew.concat(nts.filter(function (n) { return _this.isNewTitle(n.readBy); }));
                _this.notificationsOld = _this.notificationsOld.concat(nts.filter(function (n) { return !_this.isNewTitle(n.readBy); }));
                _this.notificationsNewBack = _this.notificationsNew;
                _this.notificationsOldBack = _this.notificationsOld;
            }
            var isCelebrate = _this.notificationsNew.filter(function (n) { return n.type === 'celebrate' || n.title === 'Propiedad Adquirida'; });
            console.log('cele', isCelebrate);
            if (isCelebrate.length > 0) {
                isCelebrate.forEach(function (n) {
                    _this.dialogCelebrate(n);
                });
            }
            _this.isSpinner = false;
            _this.isLoad = true;
        });
    };
    ListNotificationComponent.prototype.loadMore = function () {
        this.isSpinner = true;
        this.notificationsNew = this.notificationsNewBack;
        this.notificationsOld = this.notificationsOldBack;
        this.pageNumber++;
        this.getNotification(this.user, this.pageNumber);
    };
    ListNotificationComponent.prototype.ngOnDestroy = function () {
        var _this = this;
        this.socketIOService.resetNum();
        this.notificationsNew.forEach(function (n) {
            n.readBy.push({
                readAt: new Date(),
                readerId: _this.user.id
            });
            _this.oneSignalService.putNotification(n).subscribe();
        });
    };
    ListNotificationComponent.prototype.markAsRead = function (noti) {
        var _this = this;
        noti.readBy.push({
            readAt: new Date(),
            readerId: this.user.id
        });
        this.oneSignalService.putNotification(noti).subscribe(function () {
            _this.socketIOService.minusOne();
            var indexFind = _this.notificationsNew.findIndex(function (n) { return n._id === noti._id; });
            if (indexFind !== -1) {
                _this.notificationsNew.splice(indexFind, 1);
                _this.notificationsNewBack = _this.notificationsNew;
                _this.notificationsOld.push(noti);
                _this.notificationsOldBack = _this.notificationsOld;
            }
        });
    };
    ListNotificationComponent.prototype.goToDetails = function (n) {
        this.markAsRead(n);
        if (this.user.type === 'preBuyer') {
            this.router.navigate(['login-select-user']);
        }
        else if (this.user.type === 'maker') {
            this.router.navigate(['detail-build-admin']);
        }
        else {
            if (n.type === 'build') {
                this.router.navigate(['list-build-admin']);
            }
            else if (n.type === 'buyer') {
                this.router.navigate(['list-buyer-admin']);
            }
            else if (n.type === 'celebrate' || n.type === 'goal') {
                this.router.navigate(['list-goals-admin']);
            }
            else if (n.type === 'property') {
                if (this.user.type === 'buyer') {
                    this.router.navigate(['inter-prop-buyer']);
                }
                else {
                    this.router.navigate(['list-prop-admin']);
                }
            }
            else if (n.type === 'schedule') {
                if (this.user.type === 'buyer') {
                    this.router.navigate(['calendar-buyer']);
                }
                else {
                    this.router.navigate(['list-schedule-admin']);
                }
            }
            else if (n.type === 'ofert') {
                if (this.user.type === 'buyer') {
                    this.router.navigate(['ofert-buyer']);
                }
                else {
                    this.router.navigate(['list-ofert-admin']);
                }
            }
            else if (n.type === 'credit') {
                if (this.user.type === 'buyer') {
                    this.router.navigate(['inter-prop-buyer']);
                }
                else {
                    this.router.navigate(['list-credit-admin']);
                }
            }
            else if (n.type === 'like') {
                if (this.user.type === 'buyer') {
                    this.router.navigate(['inter-prop-buyer']);
                }
                else {
                    this.router.navigate(['list-buyer-admin']);
                }
            }
            else if (n.type === 'msg') {
                this.router.navigate(['chat']);
            }
        }
    };
    ListNotificationComponent.prototype.getNotificationRealTime = function () {
        var _this = this;
        this.socketIOService.onNewPost().subscribe(function (ntf) {
            _this.notificationsNew.push(ntf);
            _this.notificationsNewBack = _this.notificationsNew;
        });
    };
    // dialog
    ListNotificationComponent.prototype.dialogCelebrate = function (n) {
        return __awaiter(this, void 0, void 0, function () {
            var dialogRef, sub;
            var _this = this;
            return __generator(this, function (_a) {
                dialogRef = this.dialog.open(_general_dialog_general_dialog_general_component__WEBPACK_IMPORTED_MODULE_7__["DialogGeneralComponent"], {
                    /*  maxWidth: '50%',
                    minWidth: '20%', */
                    data: {
                        header: 'Felicidades',
                        subHeader: n.message,
                        body: "<img src=\"" + _config_api_end_points__WEBPACK_IMPORTED_MODULE_9__["END_POINT"].IP + "celebrate.png\">",
                        isform: false,
                        hideButtonCancel: true,
                        okButton: 'Gracias'
                    }
                });
                sub = dialogRef.componentInstance.buttons.subscribe(function (res) {
                    _this.markAsRead(n);
                });
                return [2 /*return*/];
            });
        });
    };
    // helpers
    ListNotificationComponent.prototype.formatDates = function (date) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_4__["FormatDatesFront"])(date);
    };
    ListNotificationComponent.prototype.isNewTitle = function (readby) {
        var _this = this;
        var id = readby.find(function (r) { return r.readerId === _this.user.id; });
        if (id !== undefined) {
            return false;
        }
        else {
            return true;
        }
    };
    ListNotificationComponent.prototype.trasforIcon = function (str) {
        if (str === 'like') {
            return 'thumb_up';
        }
        else if (str === 'credit') {
            return 'payment';
        }
        else if (str === 'schedule') {
            return 'event';
        }
        else if (str === 'ofert') {
            return 'monetization_on';
        }
        else if (str === 'property') {
            return 'domain';
        }
        else if (str === 'build') {
            return 'build';
        }
        else if (str === 'buyer') {
            return 'account_circle';
        }
        else if (str === 'goal') {
            return 'insert_chart';
        }
        else if (str === 'celebrate') {
            return 'check_circle_outline';
        }
        else if (str === 'msg') {
            return 'chat';
        }
    };
    ListNotificationComponent.prototype.onSectionChange = function (sectionId) {
        console.log('sectionId', sectionId);
        this.currentSection = sectionId;
    };
    ListNotificationComponent.prototype.scrollTo = function (section) {
        document.querySelector('#' + section).scrollIntoView();
    };
    ListNotificationComponent.prototype.onScroll = function (e) {
        // console.log(e);
    };
    ListNotificationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-list-notification',
            template: __webpack_require__(/*! ./list-notification.component.html */ "./src/app/components/notification/list-notification/list-notification.component.html"),
            styles: [__webpack_require__(/*! ./list-notification.component.scss */ "./src/app/components/notification/list-notification/list-notification.component.scss")],
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [_services_user_session_service__WEBPACK_IMPORTED_MODULE_1__["UserSessionService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_3__["OnesignalService"],
            _services_socket_io_service__WEBPACK_IMPORTED_MODULE_6__["SocketIoService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"],
            _angular_material__WEBPACK_IMPORTED_MODULE_8__["MatDialog"]])
    ], ListNotificationComponent);
    return ListNotificationComponent;
}());



/***/ }),

/***/ "./src/app/components/oferts/new-edit-ofert/new-edit-ofert.component.html":
/*!********************************************************************************!*\
  !*** ./src/app/components/oferts/new-edit-ofert/new-edit-ofert.component.html ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Oferta\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Oferta'\" [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content>\n  <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n  <ng-template #thenTemplate>\n    <ion-grid fixed>\n      <h1>Oferta</h1>\n      <div class=\"container\" style=\"margin-top: 3%\">\n        <form #newUserForm=\"ngForm\">\n          <mat-card>\n            <mat-card-title>Complete los campos</mat-card-title>\n            <div class=\"flex-container\">\n              <!-- buyer -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Consumidor</mat-label>\n                <mat-select [disabled]=\"!isNew\" (selectionChange)=\"getProp(bu.value)\" [(ngModel)]=\"ofert.buyer\" #bu=\"ngModel\"\n                  id=\"bu\" name=\"bu\" required>\n                  <mat-option *ngFor=\"let buyer of buyers\" [value]=\"buyer._id\">\n                    {{buyer.name}} {{buyer.fatherLastName}}\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"bu.dirty || bu.touched\">Selecciona</mat-error>\n              </mat-form-field>\n              <div>\n                <button [disabled]=\"!isNew\" style=\"margin-bottom: 2%;\" mat-raised-button color=\"primary\" (click)=\"searchBuyers()\">\n                  <ion-spinner *ngIf=\"isSpinner\" style=\"color: white\" name=\"bubbles\"></ion-spinner>\n                  <ion-icon name=\"search\"></ion-icon>\n                  Buscar Clientes\n                </button>\n              </div>\n              <!-- prop -->\n              <mat-form-field *ngIf=\"bu.value && !isEmpty\" appearance=\"outline\">\n                <mat-label>Propiedad de Interés</mat-label>\n                <mat-select [disabled]=\"!isNew\" [(ngModel)]=\"ofert.property\" #p=\"ngModel\" id=\"p\" name=\"p\" required>\n                  <mat-option *ngFor=\"let prop of properties\" [value]=\"prop._id\">\n                    {{prop.name}}\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"p.dirty || p.touched\">Selecciona</mat-error>\n              </mat-form-field>\n              <ion-button *ngIf=\"isEmpty\" color=\"danger\" fill=\"outline\" shape=\"round\">Usuarion sin propiedades\n                interesadas</ion-button>\n              <!-- files -->\n              <ion-label text-wrap>Anota los documentos para el crédito separado por comas\n                (documento1,documento2,etc...)</ion-label>\n              <mdc-textarea [(ngModel)]=\"files\" #f=\"ngModel\" id=\"f\" name=\"f\" label=\"Ducumentos\" rows=\"8\" cols=\"40\"></mdc-textarea>\n              <!-- notas -->\n              <mdc-textarea [(ngModel)]=\"ofert.notes\" #w=\"ngModel\" id=\"w\" name=\"w\" label=\"Notas\" rows=\"8\" cols=\"40\"\n                required></mdc-textarea>\n              <!-- waytobuy -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Forma de Compra</mat-label>\n                <mat-select [(ngModel)]=\"ofert.wayToBuy\" #way=\"ngModel\" id=\"way\" name=\"way\" required>\n                  <mat-option value=\"FOVISSTE\">FOVISSTE </mat-option>\n                  <mat-option value=\"IMSS\">IMSS </mat-option>\n                  <mat-option value=\"contado\">contado </mat-option>\n                  <mat-option value=\"PEMEX\">PEMEX </mat-option>\n                  <mat-option value=\"Infonavit\">Infonavit </mat-option>\n                  <mat-option value=\"otros\">otros </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"bu.dirty || bu.touched\">Selecciona</mat-error>\n              </mat-form-field>\n              <!-- precios-->\n              <div class=\"cost\">\n                <mat-form-field appearance=\"outline\">\n                  <mat-label>Precio Apartado</mat-label>\n                  <input matInput type=\"number\" [(ngModel)]=\"ofert.apartOfert\" #apartOfert=\"ngModel\" id=\"apartOfert\"\n                    name=\"apartOfert\">\n                  <mat-error *ngIf=\"apartOfert.dirty || apartOfert.touched\">Anotar</mat-error>\n                </mat-form-field>\n                <mat-form-field appearance=\"outline\">\n                  <mat-label>Precio Real </mat-label>\n                  <input matInput type=\"number\" [(ngModel)]=\"ofert.ofertPrice\" #space=\"ngModel\" id=\"space\" name=\"space\"\n                    required>\n                  <mat-error *ngIf=\"space.dirty || space.touched\">Anotar Costo</mat-error>\n                </mat-form-field>\n              </div>\n            </div>\n            <mat-card-actions align=\"end\">\n              <div style=\"margin-right: 2%\">\n                <span [matTooltip]=errorToShow [matTooltipClass]=\"'tooltip-size'\" (mouseenter)=\"getPopMessage($event)\">\n                  <button *ngIf=\"isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" (click)=\"newOfert()\"\n                    [disabled]=\"!newUserForm.form.valid || isEmpty\">Crear</button>\n                  <button *ngIf=\"!isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" [disabled]=\"!newUserForm.form.valid\"\n                    (click)=\"editOfert()\">Editar</button>\n                </span>\n              </div>\n\n\n\n            </mat-card-actions>\n\n          </mat-card>\n        </form>\n\n      </div>\n    </ion-grid>\n\n  </ng-template>\n  <ng-template #elseTemplate>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/oferts/new-edit-ofert/new-edit-ofert.component.scss":
/*!********************************************************************************!*\
  !*** ./src/app/components/oferts/new-edit-ofert/new-edit-ofert.component.scss ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%; }\n\n.cost {\n  display: flex;\n  justify-content: space-around;\n  width: 50% !important; }\n"

/***/ }),

/***/ "./src/app/components/oferts/new-edit-ofert/new-edit-ofert.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/components/oferts/new-edit-ofert/new-edit-ofert.component.ts ***!
  \******************************************************************************/
/*! exports provided: NewEditOfertComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewEditOfertComponent", function() { return NewEditOfertComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/status-buyer-property.service */ "./src/app/services/status-buyer-property.service.ts");
/* harmony import */ var _services_ofert_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/ofert.service */ "./src/app/services/ofert.service.ts");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var _general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../general/search-select/search-select.component */ "./src/app/components/general/search-select/search-select.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};











var NewEditOfertComponent = /** @class */ (function () {
    function NewEditOfertComponent(route, router, ofertService, navCtr, propertyService, buyerService, statusBuyerPropertyService, oneSignalService, userSession, dialog) {
        var _this = this;
        this.route = route;
        this.router = router;
        this.ofertService = ofertService;
        this.navCtr = navCtr;
        this.propertyService = propertyService;
        this.buyerService = buyerService;
        this.statusBuyerPropertyService = statusBuyerPropertyService;
        this.oneSignalService = oneSignalService;
        this.userSession = userSession;
        this.dialog = dialog;
        this.hide = true;
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.ofert = {};
        this.buyer = '';
        this.property = '';
        this.isLoad = false;
        buyerService.getBuyerAll().subscribe(function (buyers) {
            _this.buyers = buyers;
        });
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.ofertService.getOfertById(params['id']).subscribe(function (ofert) {
                    console.log(ofert);
                    _this.ofert = ofert;
                    _this.buyer = ofert.buyer._id;
                    _this.property = ofert.property._id;
                    _this.files = '';
                    _this.ofert.files.forEach(function (f, i) {
                        if (_this.ofert.files.length === i + 1) {
                            _this.files += f;
                        }
                        else {
                            _this.files += f + ',';
                        }
                    });
                    _this.ofert.buyer = _this.buyer;
                    _this.ofert.property = _this.property;
                    _this.getProp(_this.buyer);
                    _this.isLoad = true;
                });
                _this.isNew = false;
            }
            else {
                _this.isNew = true;
                _this.isLoad = true;
            }
        });
    }
    NewEditOfertComponent.prototype.ngOnInit = function () { };
    NewEditOfertComponent.prototype.getPropName = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.propertyService.getPropertyById(id).toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    NewEditOfertComponent.prototype.editOfert = function () {
        return __awaiter(this, void 0, void 0, function () {
            var prop;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.update('amarillo', this.ofert.buyer, this.ofert.property);
                        this.ofert.status = 'amarillo';
                        this.ofert.files = this.files.split(',');
                        return [4 /*yield*/, this.getPropName(this.ofert.property)];
                    case 1:
                        prop = _a.sent();
                        this.notification('Actualización de Oferta', "Se ha actualizado la oferta para " + prop.name, 'amarillo', 'ofert', this.ofert.buyer);
                        this.ofertService.putOfert(this.ofert).subscribe(function (s) {
                            var toast = {
                                queryParams: { res: 'Oferta Editada' }
                            };
                            // this.router.navigate(['list-credit-admin'], toast);
                            // this.navCtr.navigateRoot('list-ofert-admin', true, toast);
                            _this.router
                                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                                .then(function () { return _this.router.navigate(['list-ofert-admin'], toast); });
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewEditOfertComponent.prototype.newOfert = function () {
        return __awaiter(this, void 0, void 0, function () {
            var prop;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.ofert.files = this.files.split(',');
                        this.ofert.status = 'amarillo';
                        return [4 /*yield*/, this.getPropName(this.ofert.property)];
                    case 1:
                        prop = _a.sent();
                        this.notification('Nueva Oferta', "Se ha creado oferta para " + prop.name, 'amarillo', 'ofert', this.ofert.buyer);
                        this.ofertService.newOfert(this.ofert).subscribe(function (o) {
                            _this.update('amarillo', _this.ofert.buyer, _this.ofert.property);
                            _this.OfertsBuyer.push(o._id);
                            var buyer = {
                                _id: _this.ofert.buyer,
                                ofert: _this.OfertsBuyer
                            };
                            _this.buyerService.putBuyer(buyer).subscribe(function () {
                                // this.navCtr.navigateRoot('list-ofert-admin', true);
                                var toast = {
                                    queryParams: { res: 'Oferta Creada' }
                                };
                                _this.router
                                    .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                                    .then(function () { return _this.router.navigate(['list-ofert-admin'], toast); });
                            });
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewEditOfertComponent.prototype.update = function (status, buyer, prop) {
        var _this = this;
        this.statusBuyerPropertyService
            .searchSpecial(buyer, prop)
            .subscribe(function (sbp) {
            console.log(sbp);
            _this.statusBuyerPropertyService
                .upgradeStatus(sbp._id, status)
                .subscribe(function (c) { return console.log(c); });
        });
    };
    NewEditOfertComponent.prototype.getProp = function (item) {
        var _this = this;
        this.buyerService.getBuyerById(item).subscribe(function (buyer) {
            _this.OfertsBuyer = buyer.ofert.map(function (o) { return o._id; });
            if (buyer.statusBuyerProperty && buyer.statusBuyerProperty.length > 0) {
                _this.properties = buyer.statusBuyerProperty.map(function (sbp) { return sbp.property; });
                _this.isEmpty = false;
            }
            else {
                _this.isEmpty = true;
            }
        });
    };
    // noti
    NewEditOfertComponent.prototype.notification = function (title, message, status, type, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            receiversId: [receiversId],
            senderId: this.userSession.userSession.value.id,
            status: status,
            type: type
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, undefined, [receiversId])
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    // dialog
    NewEditOfertComponent.prototype.searchBuyers = function () {
        return __awaiter(this, void 0, void 0, function () {
            var buyers, dialogRef, sub;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isSpinner = true;
                        return [4 /*yield*/, this.buyerService.getBuyerAll().toPromise()];
                    case 1:
                        buyers = _a.sent();
                        this.isSpinner = false;
                        dialogRef = this.dialog.open(_general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_10__["SearchSelectComponent"], {
                            /*  maxWidth: '50%',
                                minWidth: '20%', */
                            data: {
                                header: 'Buscar clientes para asignar un asesor, seleccione uno o varios',
                                hideButtonCancel: true,
                                okButton: 'OK',
                                isMultiple: false,
                                filtersDetail: true,
                                itemsIdDisable: this.ofert.buyer === undefined ? undefined : [this.ofert.buyer._id],
                                rows: buyers,
                                typeFilter: 'filter-buyer',
                                columns: [
                                    {
                                        name: 'Nombre',
                                        prop: 'name',
                                        type: 'normal'
                                    },
                                    {
                                        name: 'Apellido',
                                        prop: 'fatherLastName',
                                        type: 'normal'
                                    },
                                    {
                                        name: 'Fecha Alta',
                                        prop: 'timestamp',
                                        type: 'date'
                                    },
                                    {
                                        name: 'Estado',
                                        prop: 'statusBuyerProperty',
                                        type: 'statusBuyerProperty'
                                    }
                                ]
                            }
                        });
                        sub = dialogRef.componentInstance.buttons.subscribe(function (res) {
                            console.log(res);
                            if (res.options) {
                                _this.ofert.buyer = res.arrSelect[0]._id;
                                _this.buyer = res.arrSelect[0]._id;
                                _this.getProp(_this.buyer);
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewEditOfertComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    NewEditOfertComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    NewEditOfertComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-edit-ofert',
            template: __webpack_require__(/*! ./new-edit-ofert.component.html */ "./src/app/components/oferts/new-edit-ofert/new-edit-ofert.component.html"),
            styles: [__webpack_require__(/*! ./new-edit-ofert.component.scss */ "./src/app/components/oferts/new-edit-ofert/new-edit-ofert.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _services_ofert_service__WEBPACK_IMPORTED_MODULE_5__["OfertService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_3__["PropertyService"],
            _services_buyer_service__WEBPACK_IMPORTED_MODULE_6__["BuyerService"],
            _services_status_buyer_property_service__WEBPACK_IMPORTED_MODULE_4__["StatusBuyerPropertyService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_7__["OnesignalService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_8__["UserSessionService"],
            _angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__["MatDialog"]])
    ], NewEditOfertComponent);
    return NewEditOfertComponent;
}());



/***/ }),

/***/ "./src/app/components/office/new-edit-office/new-edit-office.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/components/office/new-edit-office/new-edit-office.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Oficinista\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Oficinista'\" [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content>\n  <ng-container *ngIf=\"isLoad; then thenTemplate; else elseTemplate\"></ng-container>\n  <ng-template #thenTemplate>\n    <ion-grid fixed>\n      <h1>Oficinista</h1>\n      <div class=\"container\" style=\"margin-top: 3%\">\n        <form #newUserForm=\"ngForm\">\n          <mat-card>\n            <mat-card-title>Complete los campos</mat-card-title>\n            <div class=\"flex-container\">\n              <!-- name -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Nombre</mat-label>\n                <input matInput placeholder=\"\" [(ngModel)]=\"office.name\" #name=\"ngModel\" id=\"name\" name=\"name\" required>\n                <mat-error *ngIf=\"name.dirty || name.touched\">Anotar Nombre</mat-error>\n              </mat-form-field>\n              <!-- Apellido -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Apellido</mat-label>\n                <input matInput placeholder=\"\" [(ngModel)]=\"office.lastname\" #lastname=\"ngModel\" id=\"lastname\" name=\"lastname\"\n                  required>\n                <mat-error *ngIf=\"lastname.dirty || lastname.touched\">Anotar Apellido</mat-error>\n              </mat-form-field>\n              <!-- Teléfono -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Teléfono</mat-label>\n                <input matInput type=\"number\" placeholder=\"\" [(ngModel)]=\"office.phone\" #phone=\"ngModel\" id=\"phone\"\n                  name=\"phone\" required>\n                <mat-error *ngIf=\"phone.dirty || phone.touched\">Anotar Telefono</mat-error>\n              </mat-form-field>\n              <!-- Correo-->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Correo</mat-label>\n                <input matInput [(ngModel)]=\"office.email\" #email=\"ngModel\" id=\"email\" name=\"email\" required>\n                <mat-error *ngIf=\"email.dirty || email.touched\">Anotar Correo</mat-error>\n              </mat-form-field>\n              <!-- pass -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Contraseña</mat-label>\n                <input matInput [type]=\"hide ? 'password' : 'text'\" [(ngModel)]=\"office.password\" #password=\"ngModel\"\n                  id=\"password\" name=\"password\" required>\n                <mat-error *ngIf=\"password.dirty || password.touched\">Anotar Contraseña</mat-error>\n                <mat-icon matSuffix (click)=\"hide = !hide\">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>\n              </mat-form-field>\n\n            </div>\n            <mat-card-actions align=\"end\">\n              <div style=\"margin-right: 2%\">\n                <span [matTooltip]=errorToShow [matTooltipClass]=\"'tooltip-size'\" (mouseenter)=\"getPopMessage($event)\">\n                  <button *ngIf=\"isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" (click)=\"newOfert()\"\n                    [disabled]=\"!newUserForm.form.valid\">Crear</button>\n                  <button *ngIf=\"!isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" [disabled]=\"!newUserForm.form.valid\"\n                    (click)=\"editOfert()\">Editar</button>\n                </span>\n              </div>\n\n\n\n            </mat-card-actions>\n\n          </mat-card>\n        </form>\n\n      </div>\n    </ion-grid>\n\n  </ng-template>\n  <ng-template #elseTemplate>\n    <app-general-skeleton></app-general-skeleton>\n  </ng-template>\n\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/office/new-edit-office/new-edit-office.component.scss":
/*!**********************************************************************************!*\
  !*** ./src/app/components/office/new-edit-office/new-edit-office.component.scss ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/components/office/new-edit-office/new-edit-office.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/components/office/new-edit-office/new-edit-office.component.ts ***!
  \********************************************************************************/
/*! exports provided: NewEditOfficeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewEditOfficeComponent", function() { return NewEditOfficeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_office_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/office.service */ "./src/app/services/office.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var NewEditOfficeComponent = /** @class */ (function () {
    function NewEditOfficeComponent(route, router, officeService, userSession) {
        var _this = this;
        this.route = route;
        this.router = router;
        this.officeService = officeService;
        this.userSession = userSession;
        this.hide = true;
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.office = {};
        this.user = userSession.userSession.value;
        this.isLoad = false;
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.officeService.getOfficeById(params['id']).subscribe(function (office) {
                    _this.office = office;
                    _this.isLoad = true;
                });
                _this.isNew = false;
            }
            else if (_this.user && _this.user.type === 'office') {
                _this.officeService.getOfficeById(_this.user.id).subscribe(function (office) {
                    if (office === null) {
                        var q = {
                            queryParams: { id: params['id'] }
                        };
                        _this.router.navigate(['new-edit-manager'], q);
                    }
                    else {
                        _this.office = office;
                        _this.isLoad = true;
                    }
                });
                _this.isNew = false;
            }
            else {
                _this.isNew = true;
                _this.isLoad = true;
            }
        });
    }
    NewEditOfficeComponent.prototype.ngOnInit = function () { };
    NewEditOfficeComponent.prototype.editOfert = function () {
        var _this = this;
        this.officeService.putOffice(this.office).subscribe(function (office) {
            var toast = {
                queryParams: { res: 'Oficinista Editado' }
            };
            // this.router.navigate(['list-credit-admin'], toast);
            // this.navCtr.navigateRoot('list-ofert-admin', true, toast);
            /**
             * Es para recargar el componente previo
             */
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-office-admin'], toast); });
        });
    };
    NewEditOfficeComponent.prototype.newOfert = function () {
        var _this = this;
        this.officeService.newOffice(this.office).subscribe(function (o) {
            // this.navCtr.navigateRoot('list-ofert-admin', true);
            var toast = {
                queryParams: { res: 'Oficinista Creado' }
            };
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-office-admin'], toast); });
        });
    };
    NewEditOfficeComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    NewEditOfficeComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    NewEditOfficeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-edit-office',
            template: __webpack_require__(/*! ./new-edit-office.component.html */ "./src/app/components/office/new-edit-office/new-edit-office.component.html"),
            styles: [__webpack_require__(/*! ./new-edit-office.component.scss */ "./src/app/components/office/new-edit-office/new-edit-office.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _services_office_service__WEBPACK_IMPORTED_MODULE_1__["OfficeService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__["UserSessionService"]])
    ], NewEditOfficeComponent);
    return NewEditOfficeComponent;
}());



/***/ }),

/***/ "./src/app/components/pre-build/new-edit-pre-build/new-edit-pre-build.component.html":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/pre-build/new-edit-pre-build/new-edit-pre-build.component.html ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"start\">\n        <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n      </ion-buttons>\n      <ion-title>\n        Obra\n      </ion-title>\n\n    </ion-toolbar>\n  </ion-header>\n-->\n<ion-header>\n  <app-menu-general\n    [isMenuButton]=\"'back'\"\n    [colorMenuButton]=\"'white'\"\n    [titleMenu]=\"'Obra'\"\n    [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"\n  ></app-menu-general>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n    <h1 *ngIf=\"isNew\">Nueva Preventa</h1>\n    <h1 *ngIf=\"!isNew\">Editar Preventa</h1>\n    <div class=\"container\" style=\"margin-top: 3%\">\n      <form #newUserForm=\"ngForm\">\n        <mat-card>\n          <mat-card-title>Complete los campos</mat-card-title>\n          <div class=\"flex-container\">\n            <!-- makers -->\n            <div>\n              <mat-form-field style=\"width: 100%\" appearance=\"outline\">\n                <mat-label>Precompradores</mat-label>\n                <mat-select\n                  [(value)]=\"pre\"\n                  [(ngModel)]=\"pre\"\n                  #property=\"ngModel\"\n                  id=\"property\"\n                  name=\"property\"\n                  multiple\n                >\n                  <mat-option\n                    *ngFor=\"let prop of preBuyerForSelect\"\n                    [value]=\"prop._id\"\n                  >\n                    {{ prop.name }}\n                    <small *ngIf=\"prop.preBuild\"\n                      >tiene: {{ prop.preBuild.length }} preventas\n                    </small>\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"property.dirty || property.touched\"\n                  >Selcciona</mat-error\n                >\n              </mat-form-field>\n              <!--\n                <div>\n                  <button\n                    mat-raised-button\n                    color=\"primary\"\n                    (click)=\"searchBuyers()\"\n                  >\n                    <ion-spinner\n                      *ngIf=\"isSpinner\"\n                      style=\"color: white\"\n                      name=\"bubbles\"\n                    ></ion-spinner>\n                    Buscar Precompradores\n                  </button>\n                </div>\n              -->\n            </div>\n\n            <!-- name -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Nombre</mat-label>\n              <input\n                matInput\n                placeholder=\"\"\n                [(ngModel)]=\"preBuild.name\"\n                #name=\"ngModel\"\n                id=\"name\"\n                name=\"name\"\n                required\n              />\n              <mat-error *ngIf=\"name.dirty || name.touched\"\n                >Anotar Nombre</mat-error\n              >\n            </mat-form-field>\n            <!-- city -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Ciudad</mat-label>\n              <mat-select\n                [(ngModel)]=\"preBuild.city\"\n                #city=\"ngModel\"\n                id=\"city\"\n                name=\"city\"\n                required\n              >\n                <mat-option value=\"puebla\"> Puebla </mat-option>\n                <mat-option value=\"mexico\"> México </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"city.dirty || city.touched\"\n                >Anotar Ciudad</mat-error\n              >\n            </mat-form-field>\n            <!-- notas -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Notas</mat-label>\n              <textarea\n                matInput\n                [(ngModel)]=\"preBuild.notes\"\n                #notes=\"ngModel\"\n                id=\"notes\"\n                name=\"notes\"\n              ></textarea>\n            </mat-form-field>\n          </div>\n          <!-- faeses List -->\n          <app-form-str-list\n            [forms]=\"forms\"\n            nameTitle=\"Fases de la Preventa\"\n            nameItems=\"Fase\"\n            nameItems2=\"Notas\"\n            (arrOutput)=\"getPhases($event)\"\n            [arrStr]=\"arrStr\"\n            [arrStr2]=\"arrStr2\"\n            [arrDate]=\"arrDate\"\n            [arrDate2]=\"arrDate2\"\n            [numOfItems]=\"isNew ? 2 : arrStr.length\"\n            [isDesktop]=\"isDesktop\"\n          ></app-form-str-list>\n          <mat-card-actions align=\"end\">\n            <div style=\"margin-right: 2%\">\n              <span\n                [matTooltip]=\"errorToShow\"\n                [matTooltipClass]=\"'tooltip-size'\"\n                (mouseenter)=\"getPopMessage($event)\"\n              >\n                <button\n                  *ngIf=\"isNew\"\n                  id=\"submitUser\"\n                  mat-raised-button\n                  color=\"primary\"\n                  (click)=\"newCustomer()\"\n                  [disabled]=\"!newUserForm.form.valid || !isPhasesValid\"\n                >\n                  Crear\n                </button>\n                <button\n                  *ngIf=\"!isNew\"\n                  id=\"submitUser\"\n                  mat-raised-button\n                  color=\"primary\"\n                  [disabled]=\"!newUserForm.form.valid\"\n                  (click)=\"editCustomer()\"\n                >\n                  Editar\n                </button>\n              </span>\n            </div>\n          </mat-card-actions>\n        </mat-card>\n      </form>\n    </div>\n  </ion-grid>\n</ion-content>\n"

/***/ }),

/***/ "./src/app/components/pre-build/new-edit-pre-build/new-edit-pre-build.component.scss":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/pre-build/new-edit-pre-build/new-edit-pre-build.component.scss ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  /* display: flex;\n    flex-direction: column;\n    padding: 5%; */\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 50%;\n  padding: 1%; }\n\n@media (max-width: 900px) {\n  .flex-container > * {\n    width: 100%; } }\n"

/***/ }),

/***/ "./src/app/components/pre-build/new-edit-pre-build/new-edit-pre-build.component.ts":
/*!*****************************************************************************************!*\
  !*** ./src/app/components/pre-build/new-edit-pre-build/new-edit-pre-build.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: NewEditPreBuildComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewEditPreBuildComponent", function() { return NewEditPreBuildComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../general/search-select/search-select.component */ "./src/app/components/general/search-select/search-select.component.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _services_pre_buyer_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/pre-buyer.service */ "./src/app/services/pre-buyer.service.ts");
/* harmony import */ var _services_pre_build_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/pre-build.service */ "./src/app/services/pre-build.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};










var NewEditPreBuildComponent = /** @class */ (function () {
    function NewEditPreBuildComponent(route, router, platform, userSessionService, oneSignalService, dialog, preBuyerService, preBuildService) {
        this.route = route;
        this.router = router;
        this.platform = platform;
        this.userSessionService = userSessionService;
        this.oneSignalService = oneSignalService;
        this.dialog = dialog;
        this.preBuyerService = preBuyerService;
        this.preBuildService = preBuildService;
        this.hide = true;
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.preBuild = {};
        this.forms = {
            arrStr: true,
            arrStr2: true,
            arrDate: true,
            arrDate2: true
        };
        this.arrStr = [];
        this.arrStr2 = [];
        this.arrDate = [];
        this.arrDate2 = [];
        this.isPhasesValid = false;
        this.isDesktop = platform.is('desktop');
    }
    NewEditPreBuildComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.getPreBuyers();
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.preBuildService.getBuildById(params['id']).subscribe(function (build) {
                    _this.pre = build.preBuyer.map(function (m) { return m._id; });
                    _this.preBuild = build;
                    _this.oldPreBuyers = build.preBuyer;
                    console.log(build);
                    // generar arr inputs
                    // arrStr
                    _this.arrStr = build.timeLine.map(function (tl) { return tl.namePhase; });
                    _this.arrStr2 = build.timeLine.map(function (tl) { return tl.notes; });
                    _this.arrDate = build.timeLine.map(function (tl) { return new Date(tl.yearToStart, tl.monthToStart, tl.dayToStart); });
                    _this.arrDate2 = build.timeLine.map(function (tl) { return new Date(tl.yearToEnd, tl.monthToEnd, tl.dayToEnd); });
                });
                _this.isNew = false;
            }
            else {
                _this.preBuild.timeLine = [{}];
                _this.isNew = true;
            }
        });
    };
    NewEditPreBuildComponent.prototype.getPreBuyers = function () {
        var _this = this;
        this.preBuyerService.getAll().subscribe(function (m) {
            console.log(m);
            _this.preBuyerForSelect = m;
        });
    };
    NewEditPreBuildComponent.prototype.getPhases = function (phases) {
        var _this = this;
        this.isPhasesValid = phases.isValid;
        phases.arrStr.forEach(function (str, i) {
            var phaseObj = {
                namePhase: str,
                notes: phases.arrStr2[i],
                dayToStart: phases.arrDate[i] ? phases.arrDate[i].getDate() : undefined,
                monthToStart: phases.arrDate[i]
                    ? phases.arrDate[i].getMonth()
                    : undefined,
                yearToStart: phases.arrDate[i]
                    ? phases.arrDate[i].getFullYear()
                    : undefined,
                dayToEnd: phases.arrDate2[i] ? phases.arrDate2[i].getDate() : undefined,
                monthToEnd: phases.arrDate2[i]
                    ? phases.arrDate2[i].getMonth()
                    : undefined,
                yearToEnd: phases.arrDate2[i]
                    ? phases.arrDate2[i].getFullYear()
                    : undefined
            };
            if (_this.preBuild &&
                _this.preBuild.timeLine &&
                _this.preBuild.timeLine[i]) {
                _this.preBuild.timeLine[i] = phaseObj;
            }
            else {
                _this.preBuild.timeLine.push(phaseObj);
            }
        });
    };
    NewEditPreBuildComponent.prototype.newCustomer = function () {
        var _this = this;
        this.preBuild.preBuyer = this.pre;
        this.preBuildService.newBuild(this.preBuild).subscribe(function (b) {
            if (b.preBuyer.length > 0) {
                _this.notification('Nueva Preventa', "Se le ha asignado: " + _this.preBuild.name, 'verde', 'build', undefined, b.preBuyer.map(function (pb) { return pb._id; }));
                if (b.preBuyer.length > 0) {
                    b.preBuyer.forEach(function (buyer) { return __awaiter(_this, void 0, void 0, function () {
                        var _a;
                        return __generator(this, function (_b) {
                            switch (_b.label) {
                                case 0:
                                    _a = this.addPrebuildToByer;
                                    return [4 /*yield*/, this.getPreBuyerId(buyer)];
                                case 1:
                                    _a.apply(this, [_b.sent(), b._id]);
                                    return [2 /*return*/];
                            }
                        });
                    }); });
                }
            }
            /* b.timeLine.forEach(tm => {
              this.notificationBySchedule(tm, b.name, b);
            }); */
            var toast = {
                queryParams: { res: 'Nuevo Obra Agregada' }
            };
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-prebuild-admin'], toast); });
        });
    };
    NewEditPreBuildComponent.prototype.editCustomer = function () {
        var _this = this;
        // this.preBuild.notificationOneSignal = this.deleteOneSignal(this.preBuild);
        this.oldPreBuyers
            .filter(function (op) { return !_this.pre.some(function (id) { return id === op._id; }); })
            .forEach(function (buyer) { return _this.deleteBuyers(buyer); });
        this.pre
            .filter(function (id) { return !_this.oldPreBuyers.some(function (ob) { return ob._id === id; }); })
            .forEach(function (id) { return __awaiter(_this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this.addPrebuildToByer;
                        return [4 /*yield*/, this.getPreBuyerId(id)];
                    case 1:
                        _a.apply(this, [_b.sent(), this.preBuild._id]);
                        return [2 /*return*/];
                }
            });
        }); });
        this.preBuild.preBuyer = this.pre;
        this.preBuildService.putBuild(this.preBuild).subscribe(function () {
            var toast = {
                queryParams: { res: 'Obra Editada' }
            };
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-prebuild-admin'], toast); });
        });
    };
    NewEditPreBuildComponent.prototype.addPrebuildToByer = function (buyer, prebuildid) {
        console.log(buyer);
        var index = buyer.preBuild.findIndex(function (pb) { return pb._id === prebuildid; });
        if (index === -1) {
            buyer.preBuild.push(prebuildid);
            this.preBuyerService.putBuyer(buyer).subscribe();
        }
    };
    NewEditPreBuildComponent.prototype.getPreBuyerId = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.preBuyerService.getBuyerById(id).toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    NewEditPreBuildComponent.prototype.deleteBuyers = function (buyer) {
        var _this = this;
        var index = buyer.preBuild.findIndex(function (p) { return p._id === _this.preBuild._id; });
        if (index !== -1) {
            buyer.preBuild.splice(index, 1);
            this.preBuyerService.putBuyer(buyer).subscribe();
        }
    };
    // dialog
    NewEditPreBuildComponent.prototype.searchBuyers = function () {
        return __awaiter(this, void 0, void 0, function () {
            var makers, dialogRef, sub;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isSpinner = true;
                        return [4 /*yield*/, this.preBuyerService
                                .getAll()
                                /*  .pipe(
                                  map(arr =>
                                    arr.map((maker: any) => {
                                      if (maker.build) {
                                        maker.buildName = <any>maker.build.name;
                                      } else {
                                        maker.buildName = <any>'';
                                      }
                                      return maker;
                                    })
                                  )
                                ) */
                                .toPromise()];
                    case 1:
                        makers = _a.sent();
                        console.log(makers);
                        this.isSpinner = false;
                        dialogRef = this.dialog.open(_general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_6__["SearchSelectComponent"], {
                            data: {
                                header: 'Buscar Usuarios',
                                hideButtonCancel: true,
                                okButton: 'OK',
                                isMultiple: true,
                                filtersDetail: false,
                                rows: makers,
                                selectedItems: makers.map(function (b) { return b._id; }),
                                columns: [
                                    {
                                        name: 'Nombre',
                                        prop: 'name',
                                        type: 'normal'
                                    },
                                    {
                                        name: 'Apellido',
                                        prop: 'lastName',
                                        type: 'normal'
                                    },
                                    {
                                        name: 'Fecha Alta',
                                        prop: 'timestamp',
                                        type: 'date'
                                    },
                                    {
                                        name: 'Obra',
                                        prop: 'buildName',
                                        type: 'normal'
                                    }
                                ]
                            }
                        });
                        sub = dialogRef.componentInstance.buttons.subscribe(function (res) {
                            console.log(res);
                            if (res.options) {
                                _this.pre = res.arrSelect.map(function (r) { return r._id; });
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewEditPreBuildComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    NewEditPreBuildComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    NewEditPreBuildComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userSessionService.userSession.value.id,
            status: status,
            type: type
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, tags, receiversId)
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    /*   private notificationBySchedule(timeLine, buildName, build: IPreBuild) {
      const date = this.getDate(
        timeLine.dayToEnd,
        timeLine.monthToEnd,
        timeLine.yearToEnd
      );
      // onesignal
      this.oneSignalService
        .postOneSignalBySchedule(
          'Recordatorio de Fase',
          `La fase "${
            timeLine.namePhase
          }" de la obra ${buildName} llegó a la fecha límite: ${date}`,
          new Date(
            timeLine.yearToEnd,
            timeLine.monthToEnd,
            timeLine.dayToEnd,
            10,
            40
          ),
          ['office', 'administrator'],
          build.maker === undefined ? undefined : build.maker.map(m => m._id)
        )
        .subscribe(data => {
          if (!build.notificationOneSignal) {
            build.notificationOneSignal = [];
          }
          build.notificationOneSignal.push(data.id);
          this.buildService.putBuild(build).subscribe();
        });
    } */
    NewEditPreBuildComponent.prototype.deleteOneSignal = function (build) {
        var _this = this;
        /* const schedule = await this.scheduleService
          .getScheduleById(scheduleId)
          .toPromise(); */
        if (build.notificationOneSignal && build.notificationOneSignal.length > 0) {
            build.notificationOneSignal.forEach(function (idN, i) {
                _this.oneSignalService.deleteOneSignalSchedule(idN).subscribe();
            });
            return (build.notificationOneSignal = []);
        }
    };
    NewEditPreBuildComponent.prototype.getDate = function (day, month, year) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_7__["FormatDatesFront"])(new Date(year, month, day));
    };
    NewEditPreBuildComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-edit-pre-build',
            template: __webpack_require__(/*! ./new-edit-pre-build.component.html */ "./src/app/components/pre-build/new-edit-pre-build/new-edit-pre-build.component.html"),
            styles: [__webpack_require__(/*! ./new-edit-pre-build.component.scss */ "./src/app/components/pre-build/new-edit-pre-build/new-edit-pre-build.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_3__["UserSessionService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_4__["OnesignalService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_5__["MatDialog"],
            _services_pre_buyer_service__WEBPACK_IMPORTED_MODULE_8__["PreBuyerService"],
            _services_pre_build_service__WEBPACK_IMPORTED_MODULE_9__["PreBuildService"]])
    ], NewEditPreBuildComponent);
    return NewEditPreBuildComponent;
}());



/***/ }),

/***/ "./src/app/components/pre-buyer/pre-buyer.component.html":
/*!***************************************************************!*\
  !*** ./src/app/components/pre-buyer/pre-buyer.component.html ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"start\">\n        <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n      </ion-buttons>\n      <ion-title>\n        Propietario\n      </ion-title>\n\n    </ion-toolbar>\n  </ion-header>\n-->\n<ion-header>\n  <app-menu-general\n    [isMenuButton]=\"'back'\"\n    [colorMenuButton]=\"'white'\"\n    [titleMenu]=\"'Usuario'\"\n    [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"\n  ></app-menu-general>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n    <ng-container\n      *ngIf=\"isLoad; then: thenTemplate; else: elseTemplate\"\n    ></ng-container>\n    <ng-template #thenTemplate>\n      <div class=\"container\" style=\"margin-top: 3%\">\n        <form #newUserForm=\"ngForm\">\n          <mat-card>\n            <mat-card-title>Complete los campos</mat-card-title>\n            <div class=\"flex-container\">\n              <!-- name -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Nombre</mat-label>\n                <input\n                  matInput\n                  placeholder=\"\"\n                  [(ngModel)]=\"preBuyer.name\"\n                  #name=\"ngModel\"\n                  id=\"name\"\n                  name=\"name\"\n                  required\n                />\n                <mat-error *ngIf=\"name.dirty || name.touched\"\n                  >Anotar Nombre</mat-error\n                >\n              </mat-form-field>\n              <!-- lastname -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Apellido</mat-label>\n                <input\n                  matInput\n                  [(ngModel)]=\"preBuyer.lastName\"\n                  #lastName=\"ngModel\"\n                  id=\"lastName\"\n                  name=\"lastName\"\n                  required\n                />\n                <mat-error *ngIf=\"lastName.dirty || lastName.touched\"\n                  >Anotar Apellido</mat-error\n                >\n              </mat-form-field>\n              <!-- email -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Correo</mat-label>\n                <input\n                  matInput\n                  [(ngModel)]=\"preBuyer.email\"\n                  #email=\"ngModel\"\n                  id=\"email\"\n                  name=\"email\"\n                  required\n                />\n                <mat-error *ngIf=\"email.dirty || email.touched\"\n                  >Anotar Correo</mat-error\n                >\n              </mat-form-field>\n              <!-- phone -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Teléfono</mat-label>\n                <input\n                  matInput\n                  [(ngModel)]=\"preBuyer.phone\"\n                  #phone=\"ngModel\"\n                  id=\"phone\"\n                  name=\"phone\"\n                  required\n                />\n                <mat-error *ngIf=\"phone.dirty || phone.touched\"\n                  >Anotar Teléfono</mat-error\n                >\n              </mat-form-field>\n              <!-- pass -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Contraseña</mat-label>\n                <input\n                  matInput\n                  [type]=\"hide ? 'password' : 'text'\"\n                  [(ngModel)]=\"preBuyer.password\"\n                  #password=\"ngModel\"\n                  id=\"password\"\n                  name=\"password\"\n                  required\n                />\n                <mat-error *ngIf=\"password.dirty || password.touched\"\n                  >Anotar Contraseña</mat-error\n                >\n                <mat-icon matSuffix (click)=\"hide = !hide\">{{\n                  hide ? 'visibility' : 'visibility_off'\n                }}</mat-icon>\n              </mat-form-field>\n\n              <!-- prop -->\n              <mat-form-field appearance=\"outline\">\n                <mat-label>Preventa</mat-label>\n                <mat-select\n                  [(value)]=\"pre\"\n                  (selectionChange)=\"flag = true\"\n                  [(ngModel)]=\"pre\"\n                  #property=\"ngModel\"\n                  id=\"property\"\n                  name=\"property\"\n                  multiple\n                >\n                  <mat-option *ngFor=\"let prop of buildings\" [value]=\"prop._id\">\n                    {{ prop.name }}\n                  </mat-option>\n                </mat-select>\n                <mat-error *ngIf=\"property.dirty || property.touched\"\n                  >Anotar Preventa</mat-error\n                >\n              </mat-form-field>\n            </div>\n            <mat-card-actions align=\"end\">\n              <div style=\"margin-right: 2%\">\n                <span\n                  [matTooltip]=\"errorToShow\"\n                  [matTooltipClass]=\"'tooltip-size'\"\n                  (mouseenter)=\"getPopMessage($event)\"\n                >\n                  <button\n                    *ngIf=\"isNew\"\n                    id=\"submitUser\"\n                    mat-raised-button\n                    color=\"primary\"\n                    (click)=\"newCustomer()\"\n                    [disabled]=\"!newUserForm.form.valid\"\n                  >\n                    Crear\n                  </button>\n                  <button\n                    *ngIf=\"!isNew\"\n                    id=\"submitUser\"\n                    mat-raised-button\n                    color=\"primary\"\n                    [disabled]=\"!newUserForm.form.valid\"\n                    (click)=\"editCustomer()\"\n                  >\n                    Editar\n                  </button>\n                </span>\n              </div>\n            </mat-card-actions>\n          </mat-card>\n        </form>\n      </div>\n    </ng-template>\n    <ng-template #elseTemplate>\n      <app-general-skeleton></app-general-skeleton>\n    </ng-template>\n  </ion-grid>\n</ion-content>\n"

/***/ }),

/***/ "./src/app/components/pre-buyer/pre-buyer.component.scss":
/*!***************************************************************!*\
  !*** ./src/app/components/pre-buyer/pre-buyer.component.scss ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/components/pre-buyer/pre-buyer.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/components/pre-buyer/pre-buyer.component.ts ***!
  \*************************************************************/
/*! exports provided: PreBuyerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreBuyerComponent", function() { return PreBuyerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _services_pre_buyer_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/pre-buyer.service */ "./src/app/services/pre-buyer.service.ts");
/* harmony import */ var _services_pre_build_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/pre-build.service */ "./src/app/services/pre-build.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var PreBuyerComponent = /** @class */ (function () {
    function PreBuyerComponent(route, router, userSessionService, oneSignalService, prebuyerService, prebuildrService) {
        this.route = route;
        this.router = router;
        this.userSessionService = userSessionService;
        this.oneSignalService = oneSignalService;
        this.prebuyerService = prebuyerService;
        this.prebuildrService = prebuildrService;
        this.isLoad = false;
        this.hide = true;
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.preBuyer = {};
        this.oldBuild = [];
        this.flag = false;
        this.pre = [];
    }
    PreBuyerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isLoad = false;
        this.getBuild();
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.prebuyerService.getBuyerById(params['id']).subscribe(function (b) {
                    _this.preBuyer = b;
                    _this.oldBuild = b.preBuild;
                    _this.pre = b.preBuild.map(function (p) { return p._id; });
                    console.log(_this.pre);
                    if (b.preBuild) {
                    }
                    else {
                    }
                    console.log(b);
                    _this.isLoad = true;
                });
                _this.isNew = false;
            }
            else {
                _this.isNew = true;
                _this.isLoad = true;
            }
        });
    };
    PreBuyerComponent.prototype.getBuild = function () {
        var _this = this;
        this.prebuildrService.getAll().subscribe(function (b) {
            console.log(b);
            _this.buildings = b;
        });
    };
    PreBuyerComponent.prototype.newCustomer = function () {
        var _this = this;
        this.preBuyer.preBuild = this.pre;
        this.prebuyerService.newBuyer(this.preBuyer).subscribe(function (b) {
            if (b.preBuild.length > 0) {
                b.preBuild.forEach(function (build) {
                    _this.prebuildrService.getBuildById(build).subscribe(function (prebuild) {
                        var findIndex = prebuild.preBuyer.findIndex(function (m) { return m._id === _this.preBuyer._id; });
                        if (findIndex === -1) {
                            prebuild.preBuyer.push(b);
                            _this.prebuildrService.putBuild(prebuild).subscribe(function () {
                                _this.notification('Nueva Preventa', "Se le ha asignado: " + prebuild.name, 'verde', 'build', undefined, [_this.preBuyer._id]);
                            });
                        }
                    });
                });
                var toast_1 = {
                    queryParams: { res: 'Nuevo Usuario Agregado' }
                };
                _this.router
                    .navigateByUrl('/RefrshComponent', {
                    skipLocationChange: true
                })
                    .then(function () { return _this.router.navigate(['list-prebuyer-admin'], toast_1); });
            }
            else {
                var toast_2 = {
                    queryParams: { res: 'Nuevo Usuario Agregado' }
                };
                _this.router
                    .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                    .then(function () { return _this.router.navigate(['list-prebuyer-admin'], toast_2); });
            }
        });
    };
    PreBuyerComponent.prototype.editCustomer = function () {
        var _this = this;
        if (this.flag) {
            // borrar
            this.oldBuild
                .filter(function (ob) { return !_this.pre.some(function (id) { return id === ob._id; }); })
                .forEach(function (build) { return _this.deleteBuilds(build); });
            // agregar
            this.pre
                .filter(function (id) { return !_this.oldBuild.some(function (ob) { return ob._id === id; }); })
                .forEach(function (id) { return __awaiter(_this, void 0, void 0, function () {
                var _a;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            console.log(id);
                            // buscar ids
                            _a = this.addBuilds;
                            return [4 /*yield*/, this.getPreBuildById(id)];
                        case 1:
                            // buscar ids
                            _a.apply(this, [_b.sent()]);
                            this.notification('Nueva Usuario', "Se le ha asignado nueva obra", 'verde', 'build', undefined, [this.preBuyer._id]);
                            return [2 /*return*/];
                    }
                });
            }); });
        }
        this.putMaker();
    };
    PreBuyerComponent.prototype.putMaker = function () {
        var _this = this;
        this.preBuyer.preBuild = this.pre;
        this.prebuyerService.putBuyer(this.preBuyer).subscribe(function () {
            var toast = {
                queryParams: { res: ' Usuario Editado' }
            };
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-prebuyer-admin'], toast); });
        });
    };
    PreBuyerComponent.prototype.deleteBuilds = function (build) {
        var _this = this;
        var index = build.preBuyer.findIndex(function (p) { return p === _this.preBuyer._id; });
        if (index !== -1) {
            build.preBuyer.splice(index, 1);
            this.prebuildrService.putBuild(build).subscribe();
        }
    };
    PreBuyerComponent.prototype.getPreBuildById = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.prebuildrService.getBuildById(id).toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    PreBuyerComponent.prototype.addBuilds = function (build) {
        var _this = this;
        console.log(build);
        var index = build.preBuyer.findIndex(function (p) { return p._id === _this.preBuyer._id; });
        if (index === -1) {
            build.preBuyer.push(this.preBuyer);
        }
        this.prebuildrService.putBuild(build).subscribe();
    };
    PreBuyerComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userSessionService.userSession.value.id,
            status: status,
            type: type
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, tags, receiversId)
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    PreBuyerComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    PreBuyerComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    PreBuyerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-pre-buyer',
            template: __webpack_require__(/*! ./pre-buyer.component.html */ "./src/app/components/pre-buyer/pre-buyer.component.html"),
            styles: [__webpack_require__(/*! ./pre-buyer.component.scss */ "./src/app/components/pre-buyer/pre-buyer.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_2__["UserSessionService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_3__["OnesignalService"],
            _services_pre_buyer_service__WEBPACK_IMPORTED_MODULE_4__["PreBuyerService"],
            _services_pre_build_service__WEBPACK_IMPORTED_MODULE_5__["PreBuildService"]])
    ], PreBuyerComponent);
    return PreBuyerComponent;
}());



/***/ }),

/***/ "./src/app/components/prop/new-edit-prop/new-edit-prop.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/components/prop/new-edit-prop/new-edit-prop.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Propiedad\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"isNew ? 'Nueva Propiedad': 'Editar Propiedad'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n    <div class=\"container\" style=\"margin-top: 3%\">\n      <form #newUserForm=\"ngForm\">\n        <mat-card>\n          <mat-card-title>Complete los campos</mat-card-title>\n          <div class=\"flex-container\">\n            <!-- name -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Nombre</mat-label>\n              <input matInput placeholder=\"\" [(ngModel)]=\"property.name\" #name=\"ngModel\" id=\"name\" name=\"name\" required>\n              <mat-error *ngIf=\"name.dirty || name.touched\">Anotar Nombre</mat-error>\n            </mat-form-field>\n            <!-- isRent  -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Venta o Renta</mat-label>\n              <mat-select [(ngModel)]=\"property.isRent\" #isRent=\"ngModel\" id=\"isRent\" name=\"isRent\" required>\n                <mat-option [value]=true>\n                  Renta\n                </mat-option>\n                <mat-option [value]=false>\n                  Venta\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"isRent.dirty || isRent.touched\">Selecciona una</mat-error>\n            </mat-form-field>\n            <!-- typeOfProperty -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Tipo de Vivienda</mat-label>\n              <mat-select [(ngModel)]=\"property.typeOfProperty\" #typeOfProperty=\"ngModel\" id=\"typeOfProperty\" name=\"typeOfProperty\"\n                required>\n                <mat-option value=\"casa\">Casa\n                </mat-option>\n                <mat-option value=\"departamento\">Departamento\n                </mat-option>\n                <mat-option value=\"nave industrial\">Nave Industrial\n                </mat-option>\n                <mat-option value=\"terreno\">Terreno\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"typeOfProperty.dirty || typeOfProperty.touched\">Anotar Correo</mat-error>\n            </mat-form-field>\n            <!-- space-->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Espacio</mat-label>\n              <input matInput type=\"number\" [(ngModel)]=\"property.space\" #space=\"ngModel\" id=\"space\" name=\"space\"\n                required>\n              <mat-error *ngIf=\"space.dirty || space.touched\">Anotar Espacio</mat-error>\n            </mat-form-field>\n            <!-- dateToBuy -->\n            <!-- Fecha a comprar -->\n            <div>\n              <ion-label text-wrap>Anota la posible fecha de compra o renta</ion-label>\n              <!-- day -->\n              <mdc-text-field label=\"Dia\" type=\"number\" [(ngModel)]=\"daySelect\" #d=\"ngModel\" id=\"d\" name=\"d\" required\n                [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n              <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n                <span *ngIf=\"d.dirty || d.touched\">Anota Dia</span>\n              </mdc-text-field-helper-text>\n            </div>\n\n            <!-- mm -->\n            <ion-item lines=\"none\" class=\"margin-field\">\n              <ion-label>Mes</ion-label>\n              <ion-select [(ngModel)]=\"monthSelect\" #me=\"ngModel\" id=\"me\" name=\"me\" required placeholder=\"Selecciona\">\n                <ion-select-option *ngFor=\"let m of months; let i = index\" [value]=\"i + 1\">{{m}}</ion-select-option>\n              </ion-select>\n            </ion-item>\n            <!-- aa -->\n            <div>\n              <mdc-text-field label=\"Año\" type=\"number\" [(ngModel)]=\"yearSelect\" #y=\"ngModel\" id=\"y\" name=\"y\" required\n                [box]=\"true\" [required]=\"true\" [helperText]=\"weightHelper\"></mdc-text-field>\n              <mdc-text-field-helper-text #weightHelper=\"mdcHelperText\" [validation]=\"true\">\n                <span *ngIf=\"y.dirty || y.touched\">Anota Año</span>\n              </mdc-text-field-helper-text>\n            </div>\n\n            <!-- zone -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Zona</mat-label>\n              <input matInput placeholder=\"\" [(ngModel)]=\"property.zone\" #zone=\"ngModel\" id=\"zone\" name=\"zone\" required>\n              <mat-error *ngIf=\"zone.dirty || zone.touched\">Anotar Zona</mat-error>\n            </mat-form-field>\n            <!-- minPrice -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Precio Minimo</mat-label>\n              <input matInput type=\"number\" placeholder=\"\" [(ngModel)]=\"property.minPrice\" #minPrice=\"ngModel\" id=\"minPrice\"\n                name=\"minPrice\" required>\n              <mat-error *ngIf=\"minPrice.dirty || minPrice.touched\">Anotar Numero</mat-error>\n            </mat-form-field>\n            <!-- max -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Precio Maximo</mat-label>\n              <input matInput type=\"number\" placeholder=\"\" [(ngModel)]=\"property.maxPrice\" #maxPrice=\"ngModel\" id=\"maxPrice\"\n                name=\"maxPrice\" required>\n              <mat-error *ngIf=\"maxPrice.dirty || maxPrice.touched\">Anotar Numero</mat-error>\n            </mat-form-field>\n            <!-- numRooms -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Numero de Cuartos</mat-label>\n              <input matInput type=\"number\" placeholder=\"\" [(ngModel)]=\"property.numRooms\" #numRooms=\"ngModel\" id=\"numRooms\"\n                name=\"numRooms\" required>\n              <mat-error *ngIf=\"numRooms.dirty || numRooms.touched\">Anotar Numero</mat-error>\n            </mat-form-field>\n            <!-- numBathrooms -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Numero de Baños</mat-label>\n              <input matInput type=\"number\" placeholder=\"\" [(ngModel)]=\"property.numBathrooms\" #numBathrooms=\"ngModel\"\n                id=\"numBathrooms\" name=\"numBathrooms\" required>\n              <mat-error *ngIf=\"numBathrooms.dirty || numBathrooms.touched\">Anotar Numero</mat-error>\n            </mat-form-field>\n            <!-- numCars -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Lugares Estacionamiento</mat-label>\n              <input matInput type=\"number\" placeholder=\"\" [(ngModel)]=\"property.numCars\" #numCars=\"ngModel\" id=\"numCars\"\n                name=\"numCars\" required>\n              <mat-error *ngIf=\"numCars.dirty || numCars.touched\">Anotar Numero</mat-error>\n            </mat-form-field>\n            <!-- isOld -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Estado</mat-label>\n              <mat-select [(ngModel)]=\"property.isOld\" #isOld=\"ngModel\" id=\"isOld\" name=\"isOld\" required>\n                <mat-option [value]=false>Nuevo\n                </mat-option>\n                <mat-option [value]=true>Usado\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"isOld.dirty || isOld.touched\">Selecciona uno</mat-error>\n            </mat-form-field>\n            <!-- isClose -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Tipo Fraccionamiento</mat-label>\n              <mat-select [(ngModel)]=\"property.isClose\" #isClose=\"ngModel\" id=\"isClose\" name=\"isClose\" required>\n                <mat-option [value]=false>Abierto\n                </mat-option>\n                <mat-option [value]=true>Cerrado\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"isClose.dirty || isClose.touched\">Selecciona uno</mat-error>\n            </mat-form-field>\n            <!-- hasGarden -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Con Jardin</mat-label>\n              <mat-select [(ngModel)]=\"property.hasGarden\" #hasGarden=\"ngModel\" id=\"hasGarden\" name=\"hasGarden\"\n                required>\n                <mat-option [value]=true>Sí\n                </mat-option>\n                <mat-option [value]=false>No\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"hasGarden.dirty || hasGarden.touched\">Selecciona uno</mat-error>\n            </mat-form-field>\n            <!-- isLowLevel -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Planta Baja</mat-label>\n              <mat-select [(ngModel)]=\"property.isLowLevel\" #isLowLevel=\"ngModel\" id=\"isLowLevel\" name=\"isLowLevel\"\n                required>\n                <mat-option [value]=true>Sí\n                </mat-option>\n                <mat-option [value]=false>No\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"isLowLevel.dirty || isLowLevel.touched\">Selecciona uno</mat-error>\n            </mat-form-field>\n            <!-- hasElevator -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Con Elevador</mat-label>\n              <mat-select [(ngModel)]=\"property.hasElevator\" #hasElevator=\"ngModel\" id=\"hasElevator\" name=\"hasElevator\"\n                required>\n                <mat-option [value]=true>Sí\n                </mat-option>\n                <mat-option [value]=false>No\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"hasElevator.dirty || hasElevator.touched\">Selecciona uno</mat-error>\n            </mat-form-field>\n            <!-- allServices -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Todos los Servicios </mat-label>\n              <mat-select [(ngModel)]=\"property.allServices\" #allServices=\"ngModel\" id=\"allServices\" name=\"allServices\"\n                required>\n                <mat-option [value]=true>Sí\n                </mat-option>\n                <mat-option [value]=false>No\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"allServices.dirty || allServices.touched\">Selecciona uno</mat-error>\n            </mat-form-field>\n            <!-- wayToBuy FOVISSTE, IMSS, contado, PEMEX, Infonavit, aliados, otros -->\n\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Forma de Venta/Renta </mat-label>\n              <mat-select [(ngModel)]=\"property.wayToBuy\" #wayToBuy=\"ngModel\" id=\"wayToBuy\" name=\"wayToBuy\" required\n                placeholder=\"Selecciona\">\n                <mat-option value=\"FOVISSTE\">FOVISSTE</mat-option>\n                <mat-option value=\"IMSS\">IMSS</mat-option>\n                <mat-option value=\"contado\">contado</mat-option>\n                <mat-option value=\"PEMEX\">Pemex</mat-option>\n                <mat-option value=\"infonavit\">Infonavit</mat-option>\n                <mat-option value=\"infonavit\">Aliados</mat-option>\n                <mat-option value=\"otros\">Otros</mat-option>\n              </mat-select>\n            </mat-form-field>\n            <!-- tag -->\n            <div>\n              <ion-label text-wrap>Anota palabras clave separadas por comas para una mejor búsqueda (ej: casa,\n                departamento,\n                mascotas)</ion-label>\n              <mdc-textarea [(ngModel)]=\"words\" #w=\"ngModel\" id=\"w\" name=\"w\" label=\"Palabras\" rows=\"8\" cols=\"40\"></mdc-textarea>\n            </div>\n\n            <!-- files -->\n            <div>\n              <ion-label text-wrap>Anota nombre de los archivos separado por comas (ej: documento1,\n                documento2, documento3, etc...)</ion-label>\n              <mdc-textarea [(ngModel)]=\"files\" #f=\"ngModel\" id=\"f\" name=\"f\" label=\"Documentos:\" rows=\"8\" cols=\"40\"></mdc-textarea>\n            </div>\n\n\n          </div>\n          <mat-card-actions align=\"end\">\n            <div style=\"margin-right: 2%\">\n              <span [matTooltip]=errorToShow [matTooltipClass]=\"'tooltip-size'\" (mouseenter)=\"getPopMessage($event)\">\n                <button *ngIf=\"isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" (click)=\"newCustomer()\"\n                  [disabled]=\"!newUserForm.form.valid\">Crear</button>\n                <button *ngIf=\"!isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" (click)=\"editCustomer()\">Editar</button>\n              </span>\n            </div>\n\n\n          </mat-card-actions>\n\n        </mat-card>\n      </form>\n\n    </div>\n  </ion-grid>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/prop/new-edit-prop/new-edit-prop.component.scss":
/*!****************************************************************************!*\
  !*** ./src/app/components/prop/new-edit-prop/new-edit-prop.component.scss ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  /* display: flex;\n    flex-direction: column;\n    padding: 5%; */\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 50%;\n  padding: 1%; }\n\n@media (max-width: 900px) {\n  .flex-container > * {\n    width: 100%; } }\n"

/***/ }),

/***/ "./src/app/components/prop/new-edit-prop/new-edit-prop.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/components/prop/new-edit-prop/new-edit-prop.component.ts ***!
  \**************************************************************************/
/*! exports provided: NewEditPropComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewEditPropComponent", function() { return NewEditPropComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var NewEditPropComponent = /** @class */ (function () {
    function NewEditPropComponent(route, router, propertyService) {
        this.route = route;
        this.router = router;
        this.propertyService = propertyService;
        this.months = [
            'Enero',
            'Febrero',
            'Marzo',
            'Abril',
            'Mayo',
            'Junio',
            'Julio',
            'Agosto',
            'Septiembre',
            'Octubre',
            'Noviembre',
            'Diciembre',
        ];
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.property = {};
    }
    NewEditPropComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.propertyService.getPropertyById(params['id']).subscribe(function (prop) {
                    console.log(prop);
                    _this.property = prop;
                    _this.words = '';
                    _this.property.tag.forEach(function (word, i) {
                        if (_this.property.tag.length === i + 1) {
                            _this.words += word;
                        }
                        else {
                            _this.words += word + ',';
                        }
                    });
                    _this.files = '';
                    _this.property.files.forEach(function (f, i) {
                        if (_this.property.files.length === i + 1) {
                            _this.files += f;
                        }
                        else {
                            _this.files += f + ',';
                        }
                    });
                    var date = _this.property.dateToBuy.split('/');
                    _this.daySelect = +date[0];
                    _this.monthSelect = +date[1];
                    _this.yearSelect = +date[2];
                });
                _this.isNew = false;
            }
            else {
                _this.isNew = true;
            }
        });
    };
    NewEditPropComponent.prototype.newCustomer = function () {
        var _this = this;
        console.log(this.property);
        console.log(this.words.split(','));
        console.log(this.files.split(','));
        if (this.words) {
            this.property.tag = this.words.split(',');
        }
        if (this.files) {
            this.property.files = this.files.split(',');
        }
        this.property.dateToBuy = this.daySelect + "/" + this.monthSelect + "/" + this.yearSelect;
        console.log(this.property);
        this.propertyService.newProperty(this.property).subscribe(function (prop) {
            var toast = {
                queryParams: { res: 'Nuevo Propiedad Agregada' },
            };
            // this.router.navigate(['list-prop-admin'], toast);
            /**
             * Es para recargar el componente previo
             */
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-prop-admin'], toast); });
        });
    };
    NewEditPropComponent.prototype.editCustomer = function () {
        var _this = this;
        if (this.words) {
            this.property.tag = this.words.split(',');
        }
        if (this.files) {
            this.property.files = this.files.split(',');
        }
        this.property.dateToBuy = this.daySelect + "/" + this.monthSelect + "/" + this.yearSelect;
        this.propertyService.putProperty(this.property).subscribe(function (prop) {
            var toast = {
                queryParams: { res: 'Propiedad Editada' },
            };
            // this.router.navigate(['list-prop-admin'], toast);
            /**
             * Es para recargar el componente previo
             */
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-prop-admin'], toast); });
        });
    };
    NewEditPropComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    NewEditPropComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    NewEditPropComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-edit-prop',
            template: __webpack_require__(/*! ./new-edit-prop.component.html */ "./src/app/components/prop/new-edit-prop/new-edit-prop.component.html"),
            styles: [__webpack_require__(/*! ./new-edit-prop.component.scss */ "./src/app/components/prop/new-edit-prop/new-edit-prop.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_1__["PropertyService"]])
    ], NewEditPropComponent);
    return NewEditPropComponent;
}());



/***/ }),

/***/ "./src/app/components/schedule/new-edit-schedule/new-edit-schedule.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/components/schedule/new-edit-schedule/new-edit-schedule.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Evento\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"'Evento'\" [buttonNotification]=\"'notifications'\"\n    [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n    <div class=\"container\" style=\"margin-top: 3%\">\n      <ion-button style=\"margin-bottom: 2%\" shape=\"round\" color=\"secondary\" [routerLink]=\"['/personal-schedule']\">Crear\n        Evento Personal</ion-button>\n      <form #newUserForm=\"ngForm\">\n        <mat-card>\n          <mat-card-title>Complete los campos</mat-card-title>\n          <div class=\"flex-container\">\n            <!-- title -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Titulo del evento</mat-label>\n              <input matInput [(ngModel)]=\"schedule.title\" #title=\"ngModel\" id=\"title\" name=\"title\" required>\n              <mat-error *ngIf=\"title.dirty || title.touched\">Anotar Titulo</mat-error>\n\n            </mat-form-field>\n            <!-- note -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Notas</mat-label>\n              <textarea matInput [(ngModel)]=\"schedule.note\" #note=\"ngModel\" id=\"note\" name=\"note\"></textarea>\n            </mat-form-field>\n            <!-- buyer -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Cliente</mat-label>\n              <mat-select [disabled]=\"!isNew\" (selectionChange)=\"getAdvByBuyer()\" [(ngModel)]=\"schedule.buyer\" #b=\"ngModel\"\n                id=\"b\" name=\"b\" required>\n                <mat-option *ngFor=\"let buyer of buyers$ | async\" [value]=\"buyer._id\">\n                  {{buyer.name}} {{buyer.fatherLastName}}\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"b.dirty || b.touched\">Anotar Comprador</mat-error>\n            </mat-form-field>\n            <div>\n              <button [disabled]=\"!isNew\" mat-stroked-button color=\"accent\" (click)=\"searchBuyers()\">\n                <ion-spinner *ngIf=\"isSpinner\" color=\"secondary\" name=\"bubbles\"></ion-spinner>\n                Buscar Clientes\n              </button>\n            </div>\n            <!-- lista de asesores -->\n            <div *ngIf=\"b.value && (user.type !== 'adviser' && user.type !== 'seller') && (schedule && !schedule.seller )\">\n              <mat-radio-group style=\"margin-bottom: 2%;\" (change)=\"getAdvAll(ad.value)\" class=\"example-radio-group\"\n                [(ngModel)]=\"item\" #ad=\"ngModel\" id=\"ad\" name=\"ad\" required>\n                <span class=\"example-radio-group\" *ngIf=\"(buyerSelect$ | async)?.adviser && (buyerSelect$ | async)?.adviser.length > 0\">\n                  <mat-radio-button [checked]=\"schedule.adviser === adv._id\" class=\"example-radio-button\" *ngFor=\"let adv of (buyerSelect$ | async)?.adviser\"\n                    [value]=\"adv._id\">\n                    {{adv.name}} {{adv.lastName}}\n                    <small> Disponible de {{adv.hourStart}} a {{adv.hourEnd}}</small>\n                  </mat-radio-button>\n                </span>\n\n                <mat-radio-button class=\"example-radio-button\" value=\"other\">\n                  Asignar nuevo Asesor\n                </mat-radio-button>\n              </mat-radio-group>\n            </div>\n\n            <!-- new adv to buyer -->\n            <mat-label style=\"margin: 3%;\" *ngIf=\" item === 'other'\">Se agregará un nuevo asesor al cliente:</mat-label>\n            <mat-form-field *ngIf=\" item === 'other'\" appearance=\"outline\">\n              <mat-label>Asesores</mat-label>\n              <mat-select [(ngModel)]=\"schedule.adviser\" #ad2=\"ngModel\" id=\"ad2\" name=\"ad2\">\n                <mat-option *ngFor=\"let adviser of advisers$ | async\" [value]=\"adviser._id\">\n                  {{adviser.name}} {{adviser.lastName}} <small> Disponible de {{adviser.hourStart}} a\n                    {{adviser.hourEnd}}</small>\n                </mat-option>\n              </mat-select>\n              <button mat-button *ngIf=\"ad2.value\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"schedule.adviser=undefined\">\n                <mat-icon>close</mat-icon>\n              </button>\n              <mat-error *ngIf=\"ad2.dirty || ad2.touched\">Anotar Asesor</mat-error>\n            </mat-form-field>\n            <div>\n              <button *ngIf=\" item === 'other'\" mat-stroked-button color=\"accent\" (click)=\"searchAdv()\">\n                <ion-spinner *ngIf=\"isSpinner\" color=\"secondary\" name=\"bubbles\"></ion-spinner>\n                Buscar Asesor\n              </button>\n            </div>\n\n            <!-- prop -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Propiedad a visitar</mat-label>\n              <mat-select [disabled]=\"user.type !== 'seller' && schedule.seller\" (selectionChange)=\"getAddress(property.value)\"\n                [(ngModel)]=\"schedule.property\" #property=\"ngModel\" id=\"property\" name=\"property\" required>\n                <mat-option *ngFor=\"let prop of properties$ | async\" [value]=\"prop._id\">\n                  {{prop.name}}\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"property.dirty \">Anotar Propiedad</mat-error>\n            </mat-form-field>\n            <div>\n              <button [disabled]=\"user.type !== 'seller' && schedule.seller\" mat-stroked-button color=\"accent\" (click)=\"searchProp()\">\n                <ion-spinner *ngIf=\"isSpinner\" color=\"secondary\" name=\"bubbles\"></ion-spinner>\n                Buscar Propiedad\n              </button>\n            </div>\n\n            <!-- address -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Dirección</mat-label>\n              <textarea matInput [(ngModel)]=\"schedule.address\" #address=\"ngModel\" id=\"address\" name=\"address\" required></textarea>\n              <mat-error *ngIf=\"address.dirty || address.touched\">Anotar Dirección</mat-error>\n            </mat-form-field>\n            <!-- Fecha -->\n            <mat-form-field appearance=\"outline\">\n              <input (dateChange)=\"dateSelect($event)\" (focus)=\"picker.open()\" [value]=\"getDate(schedule.day, schedule.month, schedule.year)\"\n                matInput [matDatepicker]=\"picker\" placeholder=\"Selecciona Fecha\" required>\n              <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n              <mat-datepicker #picker></mat-datepicker>\n            </mat-form-field>\n            <!-- hora -->\n            <mat-label style=\"margin-bottom: 2%;\">Anote Hora </mat-label>\n            <div>\n              <mat-form-field style=\"width: 70px;\" appearance=\"outline\">\n                <input max=24 min=0 type=\"number\" style=\"text-align: right;\" matInput [(ngModel)]=\"schedule.hour\" #hour=\"ngModel\"\n                  id=\"hour\" name=\"hour\" required>\n\n              </mat-form-field>\n              :\n              <mat-form-field style=\"width: 70px;\" appearance=\"outline\">\n                <input type=\"number\" matInput [(ngModel)]=\"schedule.minute\" #minute=\"ngModel\" id=\"minute\" name=\"minute\"\n                  required>\n              </mat-form-field>\n              <!-- pm/am -->\n              <mat-form-field style=\"width: 71px;\n              margin-left: 1%;\" appearance=\"outline\">\n                <mat-select (selectionChange)=\"hourFormat(ampm.value)\" #ampm>\n                  <mat-option value=\"pm\">\n                    PM\n                  </mat-option>\n                  <mat-option value=\"am\">\n                    AM\n                  </mat-option>\n                </mat-select>\n              </mat-form-field>\n            </div>\n\n\n          </div>\n          <mat-card-actions align=\"end\">\n            <div style=\"margin-right: 2%\">\n\n              <!-- no seller -->\n\n              <button *ngIf=\"isNew && user.type !== 'seller'\" id=\"submitUser\" mat-raised-button color=\"primary\" (click)=\"dialogs(true,'new','admin')\"\n                [disabled]=\"!newUserForm.form.valid\">Crear</button>\n\n              <button *ngIf=\"!isNew && (user.type !== 'seller' && !schedule.seller)\" id=\"submitUser\" mat-raised-button\n                color=\"primary\" (click)=\"dialogs(true,'edit','admin')\">Editar</button>\n              <!-- seller -->\n              <button *ngIf=\"isNew && (user.type === 'seller')\" id=\"submitUser\" mat-raised-button color=\"primary\"\n                (click)=\"dialogs(false,'new','seller')\" [disabled]=\"!newUserForm.form.valid\">Crear</button>\n              <button *ngIf=\"!isNew && (user.type === 'seller' || schedule.seller )\" mat-raised-button color=\"accent\"\n                (click)=\"dialogs(false,'edit','seller')\">Editar</button>\n            </div>\n\n\n          </mat-card-actions>\n\n        </mat-card>\n      </form>\n\n    </div>\n  </ion-grid>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/schedule/new-edit-schedule/new-edit-schedule.component.scss":
/*!****************************************************************************************!*\
  !*** ./src/app/components/schedule/new-edit-schedule/new-edit-schedule.component.scss ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%; }\n\n.example-radio-group {\n  display: inline-flex;\n  flex-direction: column; }\n\n.example-radio-button {\n  margin: 5px; }\n\n.alert-schedule {\n  background-color: #ffcdcd;\n  border-left: 5px solid red;\n  color: black;\n  width: 50% !important;\n  padding: 5px; }\n"

/***/ }),

/***/ "./src/app/components/schedule/new-edit-schedule/new-edit-schedule.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/components/schedule/new-edit-schedule/new-edit-schedule.component.ts ***!
  \**************************************************************************************/
/*! exports provided: NewEditScheduleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewEditScheduleComponent", function() { return NewEditScheduleComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/internal/Observable */ "./node_modules/rxjs/internal/Observable.js");
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_seller_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/seller.service */ "./src/app/services/seller.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _services_buyer_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/buyer.service */ "./src/app/services/buyer.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _services_adviser_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/adviser.service */ "./src/app/services/adviser.service.ts");
/* harmony import */ var _services_schedule_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/schedule.service */ "./src/app/services/schedule.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _general_dialog_general_dialog_general_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../general/dialog-general/dialog-general.component */ "./src/app/components/general/dialog-general/dialog-general.component.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var _general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../general/search-select/search-select.component */ "./src/app/components/general/search-select/search-select.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
















var NewEditScheduleComponent = /** @class */ (function () {
    function NewEditScheduleComponent(route, router, scheduleService, navCtr, propertyService, buyerService, adviserService, alertController, userSession, sellerService, dialog, oneSignalService) {
        this.route = route;
        this.router = router;
        this.scheduleService = scheduleService;
        this.navCtr = navCtr;
        this.propertyService = propertyService;
        this.buyerService = buyerService;
        this.adviserService = adviserService;
        this.alertController = alertController;
        this.userSession = userSession;
        this.sellerService = sellerService;
        this.dialog = dialog;
        this.oneSignalService = oneSignalService;
        this.hide = true;
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.schedule = {};
        this.user = userSession.userSession.value;
    }
    NewEditScheduleComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.getProperties();
        this.getBuyers();
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.scheduleService.getScheduleById(params['id']).subscribe(function (s) {
                    console.log(s);
                    _this.schedule = s;
                    if (s.buyer) {
                        _this.schedule.buyer = s.buyer._id;
                        _this.getAdvByBuyer();
                    }
                    if (s.adviser) {
                        _this.schedule.adviser = s.adviser._id;
                        console.log(_this.schedule.adviser);
                        _this.adviserBefore = _this.schedule.adviser;
                    }
                    _this.schedule.property = s.property._id;
                    if (_this.schedule.property) {
                        _this.getAddress(_this.schedule.property);
                    }
                });
                _this.isNew = false;
            }
            else {
                if (params['year']) {
                    _this.schedule.day = +params.day;
                    _this.schedule.month = +params.month;
                    _this.schedule.year = +params.year;
                    _this.schedule.hour = +params.hour;
                }
                if (_this.user.type === 'adviser') {
                    _this.schedule.adviser = _this.user.id;
                }
                _this.isNew = true;
            }
        });
    };
    NewEditScheduleComponent.prototype.getProperties = function () {
        var _this = this;
        if (this.user.type === 'seller') {
            this.properties$ = new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1__["Observable"](function (ob) {
                _this.propertyService.getAll().subscribe(function (prop) {
                    _this.sellerService.getSellerById(_this.user.id).subscribe(function (seller) {
                        ob.next(prop.filter(function (p) {
                            return !!seller.property.find(function (ps) { return ps._id === p._id; });
                        }));
                    });
                });
                ob.next();
            });
        }
        else {
            this.properties$ = this.propertyService.getAll();
        }
    };
    NewEditScheduleComponent.prototype.getBuyers = function () {
        var _this = this;
        if (this.user.type === 'adviser') {
            this.buyers$ = new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1__["Observable"](function (ob) {
                _this.buyerService.getBuyerAll().subscribe(function (data) {
                    ob.next(data.filter(function (b) {
                        return !!b.adviser.find(function (adv) { return adv._id === _this.user.id; });
                    }));
                });
            });
        }
        else if (this.user.type === 'seller') {
            this.buyers$ = new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1__["Observable"](function (ob) {
                _this.buyerService.getBuyerAll().subscribe(function (buyers) {
                    _this.sellerService.getSellerById(_this.user.id).subscribe(function (seller) {
                        ob.next(buyers.filter(function (b) {
                            return !!b.statusBuyerProperty.find(function (sbp) {
                                return !!seller.property.find(function (p) { return p._id === sbp.property._id; });
                            });
                        }));
                    });
                });
            });
        }
        else {
            this.buyers$ = this.buyerService.getBuyerAll();
        }
    };
    NewEditScheduleComponent.prototype.getAdvByBuyer = function () {
        this.buyerSelect$ = this.buyerService.getBuyerById((this.schedule.buyer));
        this.buyerSelect$.subscribe(function (c) { return console.log(c); });
    };
    NewEditScheduleComponent.prototype.getAddress = function (propId) {
        var _this = this;
        this.propertyService.getPropertyById(propId).subscribe(function (prop) {
            _this.schedule.address = prop.zone;
        });
    };
    NewEditScheduleComponent.prototype.dateSelect = function (event) {
        if (event) {
            this.schedule.day = event.value._i.date;
            this.schedule.month = event.value._i.month;
            this.schedule.year = event.value._i.year;
        }
    };
    NewEditScheduleComponent.prototype.hourFormat = function (pmAm) {
        if (pmAm === 'pm' && this.schedule.hour && this.schedule.hour < 12) {
            this.schedule.hour = this.schedule.hour + 12;
        }
        if (pmAm === 'am' && this.schedule.hour && this.schedule.hour > 12) {
            this.schedule.hour = this.schedule.hour - 12;
        }
    };
    NewEditScheduleComponent.prototype.getAdvAll = function (item) {
        this.item = item;
        console.log(item);
        if (item === 'other') {
            this.advisers$ = this.adviserService.getAdviserAll();
            this.advisers$.subscribe(function (a) { return console.log(a); });
        }
        else {
            this.schedule.adviser = item;
        }
    };
    NewEditScheduleComponent.prototype.getPropById = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.propertyService.getPropertyById(id).toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    NewEditScheduleComponent.prototype.newScheduleSeller = function () {
        return __awaiter(this, void 0, void 0, function () {
            var date, hours, prop;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        date = this.getDate2(this.schedule.day, this.schedule.month, this.schedule.year);
                        hours = this.formatHour(this.schedule.hour, this.schedule.minute);
                        return [4 /*yield*/, this.getPropById(this.schedule.property)];
                    case 1:
                        prop = _a.sent();
                        this.schedule.status = 'verde';
                        this.schedule.seller = this.user.id;
                        console.log(this.schedule);
                        this.scheduleService.newSchedule(this.schedule).subscribe(function (s) {
                            _this.buyerSelect$.subscribe(function (buyer) {
                                buyer.schedule.push(s._id);
                                _this.buyerService.putBuyer(buyer).subscribe(function () {
                                    _this.sellerService.getSellerById(_this.user.id).subscribe(function (seller) {
                                        seller.schedule.push(s._id);
                                        _this.sellerService.putSeller(seller).subscribe(function () {
                                            _this.notification('Nuevo Evento', "Se ha agendado una propuesta de evento con el vendedor " + seller.name + " en propiedad: " + prop.name + "  con fecha: " + date + " y hora: " + hours + " ", 'amarillo', 'schedule', undefined, [_this.schedule.buyer]);
                                            var toast = {
                                                queryParams: { res: 'Evento de Vendedor Creado' },
                                            };
                                            // this.navCtr.navigateRoot('list-schedule-admin');
                                            _this.router
                                                .navigateByUrl('/RefrshComponent', {
                                                skipLocationChange: true,
                                            })
                                                .then(function () {
                                                return _this.router.navigate(['list-schedule-admin'], toast);
                                            });
                                        });
                                    });
                                });
                            });
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    // start get by id
    NewEditScheduleComponent.prototype.getSchedulebyId = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.scheduleService.getScheduleById(id).toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    //
    NewEditScheduleComponent.prototype.newSchedule = function () {
        var _this = this;
        var date = this.getDate2(this.schedule.day, this.schedule.month, this.schedule.year);
        var hours = this.formatHour(this.schedule.hour, this.schedule.minute);
        this.schedule.status = 'verde';
        console.log(this.schedule);
        this.scheduleService.newSchedule(this.schedule).subscribe(function (s) {
            _this.buyerSelect$.subscribe(function (buyer) {
                buyer.schedule.push(s._id);
                if (_this.item === 'other') {
                    buyer.adviser.push(_this.schedule.adviser);
                }
                _this.buyerService.putBuyer(buyer).subscribe(function () {
                    _this.adviserService
                        .getAdviserById(_this.schedule.adviser)
                        .subscribe(function (adv) {
                        if (_this.item === 'other') {
                            adv.buyer.push(_this.schedule.buyer);
                        }
                        adv.schedule.push(s._id);
                        _this.adviserService.putAdviser(adv).subscribe(function () { return __awaiter(_this, void 0, void 0, function () {
                            var schedule, toast;
                            var _this = this;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0: return [4 /*yield*/, this.getSchedulebyId(s._id)];
                                    case 1:
                                        schedule = _a.sent();
                                        // noti
                                        this.notification('Nuevo Evento', "Se ha generado una propuesta de evento en " + schedule.property.name + " con fecha: " + date + " y hora: " + hours + " ", 'verde', 'schedule', undefined, [schedule.adviser._id, schedule.buyer._id]);
                                        toast = {
                                            queryParams: { res: ' Evento Creado' },
                                        };
                                        // this.navCtr.navigateRoot('list-schedule-admin');
                                        this.router
                                            .navigateByUrl('/RefrshComponent', {
                                            skipLocationChange: true,
                                        })
                                            .then(function () {
                                            return _this.router.navigate(['list-schedule-admin'], toast);
                                        });
                                        return [2 /*return*/];
                                }
                            });
                        }); });
                    });
                });
            });
        });
        console.log('%c nuevo', 'color: #f5811e;');
    };
    NewEditScheduleComponent.prototype.editCustomerSeller = function () {
        var _this = this;
        if (this.schedule.status === 'amarillo') {
            this.schedule.notificationOneSignal = this.deleteOneSignal(this.schedule);
        }
        this.schedule.status = 'verde';
        this.scheduleService
            .putSchedule(this.schedule)
            .subscribe(function () { return __awaiter(_this, void 0, void 0, function () {
            var prop, toast, p;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getPropById(this.schedule.property)];
                    case 1:
                        prop = _a.sent();
                        toast = {
                            queryParams: { res: ' Evento Editado' },
                        };
                        this.notification('Evento Editado', "Actualizaci\u00F3n de propuesta de evento en propiedad " + prop.name, 'amarillo', 'schedule', undefined, [this.schedule.buyer]);
                        return [4 /*yield*/, this.router.navigateByUrl('/RefrshComponent', {
                                skipLocationChange: true,
                            })];
                    case 2:
                        p = _a.sent();
                        if (p) {
                            this.router.navigate(['list-schedule-admin'], toast);
                        }
                        return [2 /*return*/];
                }
            });
        }); });
    };
    NewEditScheduleComponent.prototype.editCustomer = function () {
        var _this = this;
        if (this.schedule.status === 'amarillo') {
            this.schedule.notificationOneSignal = this.deleteOneSignal(this.schedule);
        }
        this.schedule.status = 'verde';
        if (this.adviserBefore === undefined) {
            this.buyerSelect$.subscribe(function (buyer) {
                if (_this.item === 'other') {
                    buyer.adviser.push(_this.schedule.adviser);
                }
                _this.buyerService.putBuyer(buyer).subscribe(function () {
                    _this.adviserService
                        .getAdviserById(_this.schedule.adviser)
                        .subscribe(function (adv) {
                        if (_this.item === 'other') {
                            adv.buyer.push(_this.schedule.buyer);
                        }
                        adv.schedule.push(_this.schedule._id);
                        _this.adviserService.putAdviser(adv).subscribe(function () { });
                    });
                });
            });
        }
        else {
            if (this.adviserBefore !== this.schedule.adviser) {
                this.adviserService
                    .getAdviserById(this.adviserBefore)
                    .subscribe(function (advBefore) {
                    var indexFinded = advBefore.schedule.findIndex(function (s) { return s._id === _this.schedule._id; });
                    advBefore.schedule.splice(indexFinded, 1);
                    _this.adviserService.putAdviser(advBefore).subscribe(function () {
                        _this.adviserService
                            .getAdviserById(_this.schedule.adviser)
                            .subscribe(function (adv) {
                            adv.schedule.push(_this.schedule._id);
                            _this.adviserService.putAdviser(adv).subscribe(function () { });
                        });
                    });
                });
            }
        }
        this.scheduleService
            .putSchedule(this.schedule)
            .subscribe(function () { return __awaiter(_this, void 0, void 0, function () {
            var schedule, toast, p;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getSchedulebyId(this.schedule._id)];
                    case 1:
                        schedule = _a.sent();
                        // noti
                        this.notification('Nuevo Evento', "Se ha generado una propuesta de evento en " + schedule.property.name + ", en espera de respuesta del Cliente: " + schedule.buyer.name, 'verde', 'schedule', undefined, [schedule.buyer._id, schedule.adviser._id]);
                        toast = {
                            queryParams: { res: ' Evento Editado' },
                        };
                        return [4 /*yield*/, this.router.navigate(['RefrshComponent'], {
                                skipLocationChange: true,
                            })];
                    case 2:
                        p = _a.sent();
                        if (p) {
                            this.router.navigate(['list-schedule-admin'], toast);
                        }
                        return [2 /*return*/];
                }
            });
        }); });
    };
    // START VER errores de horarios
    // checa adv horario
    NewEditScheduleComponent.prototype.checkHoursAdviser = function () {
        return __awaiter(this, void 0, void 0, function () {
            var adv, promise, result;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.advData()];
                    case 1:
                        adv = _a.sent();
                        promise = new Promise(function (resolve, reject) {
                            try {
                                if (_this.schedule.hour < adv.hourStart ||
                                    _this.schedule.hour > adv.hourEnd) {
                                    // no puede a esa hora
                                    resolve(true);
                                }
                                else {
                                    // si puede
                                    resolve(false);
                                }
                                console.log(_this.schedule);
                            }
                            catch (error) {
                                // error
                            }
                        });
                        return [4 /*yield*/, promise];
                    case 2:
                        result = _a.sent();
                        return [2 /*return*/, result];
                }
            });
        });
    };
    NewEditScheduleComponent.prototype.advData = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.adviserService
                            .getAdviserById(this.schedule.adviser)
                            .toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    //  ve errores de calendario
    NewEditScheduleComponent.prototype.checkSchedule = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.scheduleService.checkSchedule(this.schedule).toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    // END VER
    // START dialog
    NewEditScheduleComponent.prototype.dialogs = function (checkAdv, type, user) {
        return __awaiter(this, void 0, void 0, function () {
            var presentDialogAdv, checkSchedule, result, check, isOk;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        presentDialogAdv = false;
                        checkSchedule = true;
                        result = false;
                        if (!checkAdv) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.checkHoursAdviser()];
                    case 1:
                        presentDialogAdv = _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!presentDialogAdv) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.dialogAdv()];
                    case 3:
                        checkSchedule = _a.sent();
                        _a.label = 4;
                    case 4:
                        if (!checkSchedule) return [3 /*break*/, 8];
                        return [4 /*yield*/, this.checkSchedule()];
                    case 5:
                        check = _a.sent();
                        isOk = check.adviserCan && check.buyerCan && check.propertyCan;
                        if (!!isOk) return [3 /*break*/, 7];
                        return [4 /*yield*/, this.dialogSchedule(check)];
                    case 6:
                        result = _a.sent();
                        return [3 /*break*/, 8];
                    case 7:
                        result = true;
                        _a.label = 8;
                    case 8:
                        if (result) {
                            if (type === 'new' && user === 'seller') {
                                this.newScheduleSeller();
                            }
                            else if (type === 'edit' && user === 'seller') {
                                this.editCustomerSeller();
                            }
                            else if (type === 'new' && user !== 'seller') {
                                this.newSchedule();
                            }
                            else if (type === 'edit' && user !== 'seller') {
                                this.editCustomer();
                            }
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    NewEditScheduleComponent.prototype.dialogSchedule = function (check) {
        return __awaiter(this, void 0, void 0, function () {
            var message, dialogRef, promise, _a, _b, result;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        console.log(check);
                        if (!check.propertyCan) {
                            message = 'La propiedad elegida esta ocupada a esa hora';
                        }
                        else if (!check.buyerCan) {
                            message = "El Cliente elegido esta ocupado a esa hora";
                        }
                        else if (!check.adviserCan) {
                            message = "El Asesor elegido esta ocupado a esa hora";
                        }
                        dialogRef = this.dialog.open(_general_dialog_general_dialog_general_component__WEBPACK_IMPORTED_MODULE_11__["DialogGeneralComponent"], {
                            maxWidth: '50%',
                            minWidth: '20%',
                            data: {
                                header: 'Advertencia',
                                subHeader: 'Se empalman horarios',
                                body: message,
                                isform: false,
                            },
                        });
                        promise = new Promise(function (resolve, reject) {
                            try {
                                var sub = dialogRef.componentInstance.buttons.subscribe(function (res) {
                                    resolve(res);
                                });
                            }
                            catch (error) { }
                        });
                        _b = (_a = console).log;
                        return [4 /*yield*/, promise];
                    case 1:
                        _b.apply(_a, [_c.sent()]);
                        return [4 /*yield*/, promise];
                    case 2:
                        result = _c.sent();
                        return [2 /*return*/, result];
                }
            });
        });
    };
    NewEditScheduleComponent.prototype.dialogAdv = function () {
        return __awaiter(this, void 0, void 0, function () {
            var adv, dialogRef, promise, _a, _b, result;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0: return [4 /*yield*/, this.advData()];
                    case 1:
                        adv = _c.sent();
                        dialogRef = this.dialog.open(_general_dialog_general_dialog_general_component__WEBPACK_IMPORTED_MODULE_11__["DialogGeneralComponent"], {
                            maxWidth: '50%',
                            minWidth: '20%',
                            data: {
                                header: 'Advertencia',
                                subHeader: 'El horario no coincide con el asesor',
                                body: "El asesor <b>" + adv.name + "</b> tiene un horario de <b>" + adv.hourStart + "</b> a <b>" + adv.hourEnd + "</b>",
                                isform: false,
                            },
                        });
                        promise = new Promise(function (resolve, reject) {
                            try {
                                var sub = dialogRef.componentInstance.buttons.subscribe(function (res) {
                                    resolve(res);
                                });
                            }
                            catch (error) { }
                        });
                        _b = (_a = console).log;
                        return [4 /*yield*/, promise];
                    case 2:
                        _b.apply(_a, [_c.sent()]);
                        return [4 /*yield*/, promise];
                    case 3:
                        result = _c.sent();
                        return [2 /*return*/, result];
                }
            });
        });
    };
    // END dialog
    NewEditScheduleComponent.prototype.getDate = function (day, month, year) {
        return new Date(year, month, day);
    };
    // noti
    NewEditScheduleComponent.prototype.notification = function (title, message, status, type, tags, receiversId) {
        var _this = this;
        // notificacion
        var notification = {
            title: title,
            message: message,
            tags: tags,
            receiversId: receiversId,
            senderId: this.userSession.userSession.value.id,
            status: status,
            type: type,
        };
        // onesignal
        this.oneSignalService
            .postOneSignalByTag(notification.title, message, tags, receiversId)
            .subscribe(function () {
            // guardar noti
            _this.oneSignalService.newNotification(notification).subscribe();
        });
    };
    NewEditScheduleComponent.prototype.notificationBySchedule = function (schedule) {
        // onesignal
        this.oneSignalService
            .postOneSignalBySchedule('Recordatorio de evento', "Tienes un evento con direccion " + schedule.address + " en propiedad: " + schedule.property.name + " a las " + schedule.hour + "hrs", new Date(schedule.year, schedule.month, schedule.day, schedule.hour, schedule.minute), undefined, [schedule.buyer._id, schedule.adviser._id])
            .subscribe(function () { });
    };
    NewEditScheduleComponent.prototype.deleteOneSignal = function (schedule) {
        var _this = this;
        /* const schedule = await this.scheduleService
          .getScheduleById(scheduleId)
          .toPromise(); */
        if (schedule.notificationOneSignal &&
            schedule.notificationOneSignal.length > 0) {
            schedule.notificationOneSignal.forEach(function (idN, i) {
                _this.oneSignalService.deleteOneSignalSchedule(idN).subscribe();
            });
            return (schedule.notificationOneSignal = []);
        }
    };
    // _helpers
    NewEditScheduleComponent.prototype.getDate2 = function (day, month, year) {
        var d = new Date(year, month, day);
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_13__["FormatDatesFront"])(d);
    };
    NewEditScheduleComponent.prototype.formatHour = function (h, m) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_13__["FormatHoursFront"])(h, m);
    };
    // dialog
    NewEditScheduleComponent.prototype.searchBuyers = function () {
        return __awaiter(this, void 0, void 0, function () {
            var buyers, dialogRef, sub;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isSpinner = true;
                        return [4 /*yield*/, this.buyerService.getBuyerAll().toPromise()];
                    case 1:
                        buyers = _a.sent();
                        this.isSpinner = false;
                        dialogRef = this.dialog.open(_general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_15__["SearchSelectComponent"], {
                            /*  maxWidth: '50%',
                            minWidth: '20%', */
                            data: {
                                header: 'Buscar clientes para cita, seleccione uno o varios',
                                hideButtonCancel: true,
                                okButton: 'OK',
                                isMultiple: false,
                                filtersDetail: true,
                                rows: buyers,
                                typeFilter: 'filter-buyer',
                                columns: [
                                    {
                                        name: 'Nombre',
                                        prop: 'name',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Apellido',
                                        prop: 'fatherLastName',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Fecha Alta',
                                        prop: 'timestamp',
                                        type: 'date',
                                    },
                                    {
                                        name: 'Estado',
                                        prop: 'statusBuyerProperty',
                                        type: 'statusBuyerProperty',
                                    },
                                ],
                            },
                        });
                        sub = dialogRef.componentInstance.buttons.subscribe(function (res) {
                            if (res.options) {
                                _this.schedule.buyer = res.arrSelect[0]._id;
                                _this.getAdvByBuyer();
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    // dialog
    NewEditScheduleComponent.prototype.searchAdv = function () {
        return __awaiter(this, void 0, void 0, function () {
            var adv, dialogRef, sub;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isSpinner = true;
                        return [4 /*yield*/, this.adviserService
                                .getAdviserAll()
                                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["map"])(function (arr) {
                                return arr.map(function (adviser) {
                                    adviser.numOfBuyer = "N\u00FAmero de Clientes: " + adviser.buyer.length;
                                    adviser.range = "Disponible de " + adviser.hourStart + " a " + adviser.hourEnd;
                                    return adviser;
                                });
                            }))
                                .toPromise()];
                    case 1:
                        adv = _a.sent();
                        this.isSpinner = false;
                        dialogRef = this.dialog.open(_general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_15__["SearchSelectComponent"], {
                            /*  maxWidth: '50%',
                            minWidth: '20%', */
                            data: {
                                header: 'Buscar asesor para cita, seleccione uno o varios',
                                hideButtonCancel: true,
                                okButton: 'OK',
                                isMultiple: false,
                                filtersDetail: true,
                                rows: adv,
                                typeFilter: 'filter-adv',
                                columns: [
                                    {
                                        name: 'Nombre',
                                        prop: 'name',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Apellido',
                                        prop: 'fatherLastName',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Fecha Alta',
                                        prop: 'timestamp',
                                        type: 'date',
                                    },
                                    {
                                        name: '# De Consumidores',
                                        prop: 'numOfBuyer',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Disponibilidad',
                                        prop: 'range',
                                        type: 'normal',
                                    },
                                ],
                            },
                        });
                        sub = dialogRef.componentInstance.buttons.subscribe(function (res) {
                            if (res.options) {
                                _this.schedule.adviser = res.arrSelect[0]._id;
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewEditScheduleComponent.prototype.searchProp = function () {
        return __awaiter(this, void 0, void 0, function () {
            var prop, dialogRef, sub;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isSpinner = true;
                        return [4 /*yield*/, this.propertyService.getAll().toPromise()];
                    case 1:
                        prop = _a.sent();
                        this.isSpinner = false;
                        console.log(prop);
                        dialogRef = this.dialog.open(_general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_15__["SearchSelectComponent"], {
                            /*  maxWidth: '50%',
                              minWidth: '20%', */
                            data: {
                                header: 'Buscar Propiedades para Cita',
                                hideButtonCancel: true,
                                okButton: 'OK',
                                isMultiple: false,
                                rows: prop,
                                typeFilter: 'filter-prop2',
                                columns: [
                                    {
                                        name: 'Nombre',
                                        prop: 'name',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Fecha Alta',
                                        prop: 'timestamp',
                                        type: 'date',
                                    },
                                ],
                            },
                        });
                        sub = dialogRef.componentInstance.buttons.subscribe(function (res) {
                            if (res.options) {
                                _this.schedule.property = res.arrSelect[0]._id;
                                _this.getAddress(res.arrSelect[0]._id);
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewEditScheduleComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-edit-schedule',
            template: __webpack_require__(/*! ./new-edit-schedule.component.html */ "./src/app/components/schedule/new-edit-schedule/new-edit-schedule.component.html"),
            styles: [__webpack_require__(/*! ./new-edit-schedule.component.scss */ "./src/app/components/schedule/new-edit-schedule/new-edit-schedule.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _services_schedule_service__WEBPACK_IMPORTED_MODULE_9__["ScheduleService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["NavController"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_5__["PropertyService"],
            _services_buyer_service__WEBPACK_IMPORTED_MODULE_6__["BuyerService"],
            _services_adviser_service__WEBPACK_IMPORTED_MODULE_8__["AdviserService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_10__["UserSessionService"],
            _services_seller_service__WEBPACK_IMPORTED_MODULE_3__["SellerService"],
            _angular_material_dialog__WEBPACK_IMPORTED_MODULE_14__["MatDialog"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_12__["OnesignalService"]])
    ], NewEditScheduleComponent);
    return NewEditScheduleComponent;
}());



/***/ }),

/***/ "./src/app/components/schedule/personal-schedule/personal-schedule.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/components/schedule/personal-schedule/personal-schedule.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Evento Personal\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n    <div class=\"container\" style=\"margin-top: 3%\">\n      <form #newUserForm=\"ngForm\">\n        <mat-card>\n          <mat-card-title>Complete los campos</mat-card-title>\n          <div class=\"flex-container\">\n\n\n            <!-- address -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Dirección</mat-label>\n              <textarea matInput [(ngModel)]=\"schedule.address\" #address=\"ngModel\" id=\"address\" name=\"address\" required></textarea>\n              <mat-error *ngIf=\"address.dirty || address.touched\">Anotar Dirección</mat-error>\n            </mat-form-field>\n            <!-- Fecha -->\n            <mat-form-field appearance=\"outline\">\n              <input (dateChange)=\"dateSelect($event)\" (focus)=\"picker.open()\" [value]=\"getDate(schedule.day, schedule.month, schedule.year)\"\n                matInput [matDatepicker]=\"picker\" placeholder=\"Selecciona Fecha\" required>\n              <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n              <mat-datepicker #picker></mat-datepicker>\n            </mat-form-field>\n            <!-- hora -->\n            <mat-label style=\"margin-bottom: 2%;\">Anote Hora </mat-label>\n            <div>\n              <mat-form-field style=\"width: 70px;\" appearance=\"outline\">\n                <input max=24 min=0 type=\"number\" style=\"text-align: right;\" matInput [(ngModel)]=\"schedule.hour\" #hour=\"ngModel\"\n                  id=\"hour\" name=\"hour\" required>\n\n              </mat-form-field>\n              :\n              <mat-form-field style=\"width: 70px;\" appearance=\"outline\">\n                <input max=59 min=0 type=\"number\" matInput [(ngModel)]=\"schedule.minute\" #minute=\"ngModel\" id=\"minute\"\n                  name=\"minute\" required>\n              </mat-form-field>\n              <!-- pm/am -->\n              <mat-form-field style=\"width: 71px;\n                margin-left: 1%;\" appearance=\"outline\">\n                <mat-select (selectionChange)=\"hourFormat(ampm.value)\" #ampm>\n                  <mat-option value=\"pm\">\n                    PM\n                  </mat-option>\n                  <mat-option value=\"am\">\n                    AM\n                  </mat-option>\n                </mat-select>\n              </mat-form-field>\n            </div>\n            <!-- Fecha Recordatorio -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Fecha para mandar recordatorio</mat-label>\n              <input (dateChange)=\"dateSelect2($event)\" (focus)=\"picker2.open()\" matInput [matDatepicker]=\"picker2\"\n                placeholder=\"Selecciona Fecha\" required>\n              <mat-datepicker-toggle matSuffix [for]=\"picker2\"></mat-datepicker-toggle>\n              <mat-datepicker #picker2></mat-datepicker>\n            </mat-form-field>\n            <!-- hora -->\n            <mat-label style=\"margin-bottom: 2%;\">Anote Hora de Recordatorio </mat-label>\n            <div>\n              <mat-form-field style=\"width: 70px;\" appearance=\"outline\">\n                <input type=\"number\" style=\"text-align: right;\" matInput [(ngModel)]=\"hourNoti\" #hour2=\"ngModel\" id=\"hour2\"\n                  name=\"hour2\" required>\n\n              </mat-form-field>\n              :\n              <mat-form-field style=\"width: 70px;\" appearance=\"outline\">\n                <input type=\"number\" matInput [(ngModel)]=\"minuteNoti\" #minute2=\"ngModel\" id=\"minute2\" name=\"minute2\"\n                  required>\n              </mat-form-field>\n              <!-- pm/am -->\n              <mat-form-field style=\"width: 71px;\n                margin-left: 1%;\" appearance=\"outline\">\n                <mat-select value='am' (selectionChange)=\"hourFormat2(ampm2.value)\" #ampm2>\n                  <mat-option value=\"pm\">\n                    PM\n                  </mat-option>\n                  <mat-option value=\"am\">\n                    AM\n                  </mat-option>\n                </mat-select>\n              </mat-form-field>\n            </div>\n            <!-- title -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Titulo del evento</mat-label>\n              <input matInput [(ngModel)]=\"schedule.title\" #title=\"ngModel\" id=\"title\" name=\"title\" required>\n              <mat-error *ngIf=\"title.dirty || title.touched\">Anotar Titulo</mat-error>\n\n            </mat-form-field>\n            <!-- note -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Notas</mat-label>\n              <textarea matInput [(ngModel)]=\"schedule.note\" #note=\"ngModel\" id=\"note\" name=\"note\"></textarea>\n            </mat-form-field>\n            <!-- <div class=\"alert-schedule\">\n                El Asesor seleccionado tiene una disponibilidad de 8 a 6 hrs\n              </div> -->\n\n          </div>\n          <mat-card-actions align=\"end\">\n            <div style=\"margin-right: 2%\">\n              <span [matTooltip]=errorToShow [matTooltipClass]=\"'tooltip-size'\" (mouseenter)=\"getPopMessage($event)\">\n                <button *ngIf=\"isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" (click)=\"newSchedule()\"\n                  [disabled]=\"!newUserForm.form.valid\">Crear</button>\n                <button *ngIf=\"!isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" (click)=\"editSchedule()\"\n                  [disabled]=\"!newUserForm.form.valid\">Editar</button>\n              </span>\n            </div>\n\n\n          </mat-card-actions>\n\n        </mat-card>\n      </form>\n\n    </div>\n  </ion-grid>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/schedule/personal-schedule/personal-schedule.component.scss":
/*!****************************************************************************************!*\
  !*** ./src/app/components/schedule/personal-schedule/personal-schedule.component.scss ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%; }\n\n.example-radio-group {\n  display: inline-flex;\n  flex-direction: column; }\n\n.example-radio-button {\n  margin: 5px; }\n\n.alert-schedule {\n  background-color: #ffcdcd;\n  border-left: 5px solid red;\n  color: black;\n  width: 50% !important;\n  padding: 5px; }\n"

/***/ }),

/***/ "./src/app/components/schedule/personal-schedule/personal-schedule.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/components/schedule/personal-schedule/personal-schedule.component.ts ***!
  \**************************************************************************************/
/*! exports provided: PersonalScheduleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PersonalScheduleComponent", function() { return PersonalScheduleComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_schedule_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/schedule.service */ "./src/app/services/schedule.service.ts");
/* harmony import */ var _services_onesignal_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/onesignal.service */ "./src/app/services/onesignal.service.ts");
/* harmony import */ var _config_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_config/_helpers */ "./src/app/_config/_helpers.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var PersonalScheduleComponent = /** @class */ (function () {
    function PersonalScheduleComponent(route, router, scheduleService, userSessionService, oneSignalService) {
        this.route = route;
        this.router = router;
        this.scheduleService = scheduleService;
        this.userSessionService = userSessionService;
        this.oneSignalService = oneSignalService;
        this.hide = true;
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.schedule = {};
    }
    PersonalScheduleComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params['id']) {
                _this.scheduleService.getScheduleById(params.id).subscribe(function (s) {
                    _this.schedule = s;
                    _this.isNew = false;
                });
            }
            else {
                _this.isNew = true;
            }
        });
        this.getUsuerType();
    };
    /**
     * asignar persona
     */
    PersonalScheduleComponent.prototype.getUsuerType = function () {
        var user = this.userSessionService.userSession.value;
        if (user.type === 'administrator') {
            this.schedule.administrator = user.id;
        }
        else {
            this.schedule.personal = user.id;
        }
    };
    PersonalScheduleComponent.prototype.dateSelect = function (event) {
        if (event) {
            this.schedule.day = event.value._i.date;
            this.schedule.month = event.value._i.month;
            this.schedule.year = event.value._i.year;
        }
    };
    PersonalScheduleComponent.prototype.dateSelect2 = function (event) {
        if (event) {
            this.dayNoti = event.value._i.date;
            this.monthNoti = event.value._i.month;
            this.yearNoti = event.value._i.year;
        }
    };
    PersonalScheduleComponent.prototype.hourFormat = function (pmAm) {
        if (pmAm === 'pm' && this.schedule.hour && this.schedule.hour < 12) {
            this.schedule.hour = this.schedule.hour + 12;
        }
        else if (pmAm === 'am' && this.schedule.hour && this.schedule.hour > 12) {
            this.schedule.hour = this.schedule.hour - 12;
        }
    };
    PersonalScheduleComponent.prototype.hourFormat2 = function (pmAm) {
        if (pmAm === 'pm' && this.hourNoti && this.hourNoti < 12) {
            this.hourNoti = this.hourNoti + 12;
        }
        else if (pmAm === 'am' && this.hourNoti && this.hourNoti > 12) {
            this.hourNoti = this.hourNoti - 12;
        }
    };
    /*   getAdvAll(item) {
      this.item = item;
      console.log(item);
      if (item === 'other') {
        this.advisers$ = this.adviserService.getAdviserAll();
        this.advisers$.subscribe(a => console.log(a));
      } else {
        this.schedule.adviser = item;
      }
    } */
    PersonalScheduleComponent.prototype.newSchedule = function () {
        var _this = this;
        var date = this.getDate2(this.schedule.day, this.schedule.month, this.schedule.year);
        var hours = this.formatHour(this.schedule.hour, this.schedule.minute);
        this.scheduleService.newSchedule(this.schedule).subscribe(function (s) {
            _this.notificationBySchedule('Evento Personal', "Tiene un evento pendiente con fecha: " + date + " a las " + hours, undefined, [_this.userSessionService.userSession.value.id], new Date(_this.yearNoti, _this.monthNoti, _this.dayNoti, _this.hourNoti, _this.minuteNoti), s);
            var toast = {
                queryParams: { res: ' Evento Creado' },
            };
            // this.navCtr.navigateRoot('list-schedule-admin');
            _this.router
                .navigateByUrl('/RefrshComponent', {
                skipLocationChange: true,
            })
                .then(function () { return _this.router.navigate(['list-schedule-admin'], toast); });
        });
    };
    PersonalScheduleComponent.prototype.editSchedule = function () {
        var _this = this;
        var date = this.getDate2(this.schedule.day, this.schedule.month, this.schedule.year);
        var hours = this.formatHour(this.schedule.hour, this.schedule.minute);
        this.schedule.notificationOneSignal = this.deleteOneSignal(this.schedule);
        this.scheduleService.putSchedule(this.schedule).subscribe(function () {
            _this.notificationBySchedule('Evento Personal', "Tiene un evento pendiente con fecha: " + date + " a las " + hours, undefined, [_this.userSessionService.userSession.value.id], new Date(_this.yearNoti, _this.monthNoti, _this.dayNoti, _this.hourNoti, _this.minuteNoti), _this.schedule);
            var toast = {
                queryParams: { res: ' Evento Editado' },
            };
            // this.navCtr.navigateRoot('list-schedule-admin');
            _this.router
                .navigateByUrl('/RefrshComponent', {
                skipLocationChange: true,
            })
                .then(function () { return _this.router.navigate(['list-schedule-admin'], toast); });
        });
    };
    PersonalScheduleComponent.prototype.getDate = function (day, month, year) {
        return new Date(year, month, day);
    };
    PersonalScheduleComponent.prototype.getDate2 = function (day, month, year) {
        var d = new Date(year, month, day);
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_5__["FormatDatesFront"])(d);
    };
    PersonalScheduleComponent.prototype.formatHour = function (h, m) {
        return Object(_config_helpers__WEBPACK_IMPORTED_MODULE_5__["FormatHoursFront"])(h, m);
    };
    PersonalScheduleComponent.prototype.notificationBySchedule = function (title, message, tags, reciversId, date, schedule) {
        var _this = this;
        // onesignal
        this.oneSignalService
            .postOneSignalBySchedule(title, message, date, tags, reciversId, 0)
            .subscribe(function (data) {
            if (!schedule.notificationOneSignal) {
                schedule.notificationOneSignal = [];
            }
            schedule.notificationOneSignal.push(data.id);
            _this.scheduleService.putSchedule(schedule).subscribe();
        });
    };
    PersonalScheduleComponent.prototype.deleteOneSignal = function (schedule) {
        var _this = this;
        /* const schedule = await this.scheduleService
          .getScheduleById(scheduleId)
          .toPromise(); */
        console.log(schedule);
        if (schedule.notificationOneSignal &&
            schedule.notificationOneSignal.length > 0) {
            schedule.notificationOneSignal.forEach(function (idN, i) {
                _this.oneSignalService.deleteOneSignalSchedule(idN).subscribe();
            });
            return (schedule.notificationOneSignal = []);
        }
    };
    PersonalScheduleComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    PersonalScheduleComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    PersonalScheduleComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-personal-schedule',
            template: __webpack_require__(/*! ./personal-schedule.component.html */ "./src/app/components/schedule/personal-schedule/personal-schedule.component.html"),
            styles: [__webpack_require__(/*! ./personal-schedule.component.scss */ "./src/app/components/schedule/personal-schedule/personal-schedule.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _services_schedule_service__WEBPACK_IMPORTED_MODULE_3__["ScheduleService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_1__["UserSessionService"],
            _services_onesignal_service__WEBPACK_IMPORTED_MODULE_4__["OnesignalService"]])
    ], PersonalScheduleComponent);
    return PersonalScheduleComponent;
}());



/***/ }),

/***/ "./src/app/components/seller/new-edit-seller/new-edit-seller.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/components/seller/new-edit-seller/new-edit-seller.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button style=\"color: white !important\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      Propietario\n    </ion-title>\n\n  </ion-toolbar>\n</ion-header> -->\n<ion-header>\n  <app-menu-general [isMenuButton]=\"'back'\" [colorMenuButton]=\"'white'\" [titleMenu]=\"isNew ? 'Nuevo Propietario': 'Editar Propietario'\"\n    [buttonNotification]=\"'notifications'\" [buttonUser]=\"'person'\"></app-menu-general>\n</ion-header>\n<ion-content>\n  <ion-grid fixed>\n    <div class=\"container\" style=\"margin-top: 3%\">\n      <form #newUserForm=\"ngForm\">\n        <mat-card>\n          <mat-card-title>Complete los campos</mat-card-title>\n          <div class=\"flex-container\">\n            <!-- name -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Nombre</mat-label>\n              <input matInput placeholder=\"\" [(ngModel)]=\"seller.name\" #name=\"ngModel\" id=\"name\" name=\"name\" required>\n              <mat-error *ngIf=\"name.dirty || name.touched\">Anotar Nombre</mat-error>\n            </mat-form-field>\n            <!-- lastname -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Dirección</mat-label>\n              <input matInput [(ngModel)]=\"seller.lastName\" #lastName=\"ngModel\" id=\"lastName\" name=\"lastName\" required>\n              <mat-error *ngIf=\"lastName.dirty || lastName.touched\">Anotar Apellido</mat-error>\n            </mat-form-field>\n            <!-- email -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Correo</mat-label>\n              <input matInput [(ngModel)]=\"seller.email\" #email=\"ngModel\" id=\"email\" name=\"email\" required>\n              <mat-error *ngIf=\"email.dirty || email.touched\">Anotar Correo</mat-error>\n            </mat-form-field>\n            <!-- city -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Ciudad</mat-label>\n              <mat-select [(ngModel)]=\"seller.city\" #city=\"ngModel\" id=\"city\" name=\"city\" required>\n                <mat-option value=\"puebla\">\n                  Puebla\n                </mat-option>\n                <mat-option value=\"mexico\">\n                  México\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"city.dirty || city.touched\">Anotar Ciudad</mat-error>\n            </mat-form-field>\n            <!-- isRenter -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Vende o Renta</mat-label>\n              <mat-select [(ngModel)]=\"seller.isRenter\" #isRenter=\"ngModel\" id=\"isRenter\" name=\"isRenter\" required>\n                <mat-option value=\"false\">\n                  Vende\n                </mat-option>\n                <mat-option value=\"true\">\n                  Renta\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"isRenter.dirty || isRenter.touched\">Anotar Tipo</mat-error>\n            </mat-form-field>\n            <!-- pass -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Contraseña</mat-label>\n              <input matInput [type]=\"hide ? 'password' : 'text'\" [(ngModel)]=\"seller.password\" #password=\"ngModel\" id=\"password\"\n                name=\"password\" required>\n              <mat-error *ngIf=\"password.dirty || password.touched\">Anotar Contraseña</mat-error>\n              <mat-icon matSuffix (click)=\"hide = !hide\">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>\n            </mat-form-field>\n\n            <!-- prop -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Propiedades del Vendedor</mat-label>\n              <mat-select [disabled]=\"user.type === 'seller'\" [(ngModel)]=\"seller.property\" #property=\"ngModel\" id=\"property\"\n                name=\"property\" multiple>\n                <mat-option [disabled]=\"prop.isBuy\" *ngFor=\"let prop of properties$ | async\" [value]=\"prop._id\">\n                  {{prop.name}}\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"property.dirty || property.touched\">Anotar Tipo</mat-error>\n            </mat-form-field>\n            <!-- notas -->\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Notas</mat-label>\n              <input matInput [(ngModel)]=\"seller.notes\" #notes=\"ngModel\" id=\"notes\" name=\"notes\">\n            </mat-form-field>\n\n            <div>\n              <button [disabled]=\"user.type === 'seller'\" mat-raised-button color=\"primary\" (click)=\"searchProp()\">\n                <ion-spinner *ngIf=\"isSpinner\" style=\"color: white\" name=\"bubbles\"></ion-spinner>\n                Buscar Propiedades\n              </button>\n            </div>\n          </div>\n          <mat-card-actions align=\"end\">\n            <div style=\"margin-right: 2%\">\n              <span [matTooltip]=errorToShow [matTooltipClass]=\"'tooltip-size'\" (mouseenter)=\"getPopMessage($event)\">\n                <button *ngIf=\"isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" (click)=\"newCustomer()\"\n                  [disabled]=\"!newUserForm.form.valid\">Crear</button>\n                <button *ngIf=\"!isNew\" id=\"submitUser\" mat-raised-button color=\"primary\" [disabled]=\"!newUserForm.form.valid\"\n                  (click)=\"editCustomer()\">Editar</button>\n              </span>\n            </div>\n\n\n          </mat-card-actions>\n\n        </mat-card>\n      </form>\n\n    </div>\n  </ion-grid>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/components/seller/new-edit-seller/new-edit-seller.component.scss":
/*!**********************************************************************************!*\
  !*** ./src/app/components/seller/new-edit-seller/new-edit-seller.component.scss ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-container {\n  display: flex;\n  flex-direction: column;\n  padding: 5%; }\n\n.flex-container > * {\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/components/seller/new-edit-seller/new-edit-seller.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/components/seller/new-edit-seller/new-edit-seller.component.ts ***!
  \********************************************************************************/
/*! exports provided: NewEditSellerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewEditSellerComponent", function() { return NewEditSellerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_seller_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/seller.service */ "./src/app/services/seller.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _services_property_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/property.service */ "./src/app/services/property.service.ts");
/* harmony import */ var _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var _general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../general/search-select/search-select.component */ "./src/app/components/general/search-select/search-select.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








var NewEditSellerComponent = /** @class */ (function () {
    function NewEditSellerComponent(route, router, sellerService, navCtr, propertyService, userSession, dialog) {
        this.route = route;
        this.router = router;
        this.sellerService = sellerService;
        this.navCtr = navCtr;
        this.propertyService = propertyService;
        this.userSession = userSession;
        this.dialog = dialog;
        this.hide = true;
        this.isNew = true;
        this.errorToShow = '';
        this.errorToShowMat = 'Dato obligatorio';
        this.seller = {};
        this.user = userSession.userSession.value;
    }
    NewEditSellerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.getProperties();
        this.route.queryParams.subscribe(function (params) {
            var arr = [];
            if (params['id']) {
                _this.sellerService.getSellerById(params['id']).subscribe(function (s) {
                    Object.keys(s).forEach(function (key) {
                        if (s[key] === false) {
                            s[key] = 'false';
                        }
                        else if (s[key] === true) {
                            s[key] = 'true';
                        }
                    });
                    if (s.property && s.property.length > 0) {
                        arr = s.property.map(function (p) { return p._id; });
                    }
                    delete s.property;
                    _this.seller = s;
                    _this.seller.property = arr;
                });
                _this.isNew = false;
            }
            else if (_this.user.type === 'seller') {
                _this.sellerService.getSellerById(_this.user.id).subscribe(function (s) {
                    Object.keys(s).forEach(function (key) {
                        if (s[key] === false) {
                            s[key] = 'false';
                        }
                        else if (s[key] === true) {
                            s[key] = 'true';
                        }
                    });
                    if (s.property && s.property.length > 0) {
                        arr = s.property.map(function (p) { return p._id; });
                    }
                    delete s.property;
                    _this.seller = s;
                    _this.seller.property = arr;
                });
                _this.isNew = false;
            }
            else {
                _this.isNew = true;
            }
        });
    };
    NewEditSellerComponent.prototype.getProperties = function () {
        this.properties$ = this.propertyService.getAllSpecial();
    };
    NewEditSellerComponent.prototype.newCustomer = function () {
        var _this = this;
        this.sellerService.newSeller(this.seller).subscribe(function (s) {
            var toast = {
                queryParams: { res: 'Nuevo Propietario Agregado' },
            };
            // this.router.navigate(['list-seller-admin'], toast);
            _this.router
                .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                .then(function () { return _this.router.navigate(['list-seller-admin'], toast); });
        });
    };
    NewEditSellerComponent.prototype.editCustomer = function () {
        var _this = this;
        this.sellerService.putSeller(this.seller).subscribe(function () {
            var toast = {
                queryParams: { res: ' Propietario Editado' },
            };
            if (_this.user.type === 'seller') {
                _this.router
                    .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                    .then(function () { return _this.router.navigate(['list-buyer-admin'], toast); });
            }
            else {
                _this.router
                    .navigateByUrl('/RefrshComponent', { skipLocationChange: true })
                    .then(function () { return _this.router.navigate(['list-seller-admin'], toast); });
            }
        });
    };
    // dialog
    NewEditSellerComponent.prototype.searchProp = function () {
        return __awaiter(this, void 0, void 0, function () {
            var prop, dialogRef, sub;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isSpinner = true;
                        return [4 /*yield*/, this.propertyService.getAllSpecial().toPromise()];
                    case 1:
                        prop = _a.sent();
                        this.isSpinner = false;
                        console.log(prop);
                        dialogRef = this.dialog.open(_general_search_select_search_select_component__WEBPACK_IMPORTED_MODULE_7__["SearchSelectComponent"], {
                            /*  maxWidth: '50%',
                              minWidth: '20%', */
                            data: {
                                header: 'Buscar Propiedades del Vendedor',
                                hideButtonCancel: true,
                                okButton: 'OK',
                                isMultiple: true,
                                itemsIdDisable: this.seller.property !== undefined
                                    ? this.seller.property.concat(prop.filter(function (p) { return p.isBuy === true; }).map(function (p) { return p._id; })) : prop.filter(function (p) { return p.isBuy === true; }).map(function (p) { return p._id; }),
                                rows: prop,
                                typeFilter: 'filter-prop',
                                columns: [
                                    {
                                        name: 'Nombre',
                                        prop: 'name',
                                        type: 'normal',
                                    },
                                    {
                                        name: 'Fecha Alta',
                                        prop: 'timestamp',
                                        type: 'date',
                                    },
                                ],
                            },
                        });
                        sub = dialogRef.componentInstance.buttons.subscribe(function (res) {
                            console.log(res);
                            if (res.options) {
                                _this.seller.property = res.arrSelect;
                                console.log(_this.seller);
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewEditSellerComponent.prototype.getPopMessage = function (event) {
        var isDisabled = document.getElementById('submitUser')
            .disabled;
        if (isDisabled) {
            this.errorToShow = 'Verificar datos ingresados';
        }
        else {
            this.errorToShow = '';
        }
    };
    NewEditSellerComponent.prototype.getMatError = function ($event) {
        if ($event.target.validity.valueMissing) {
            this.errorToShowMat = 'Dato obligatorio';
        }
        if ($event.target.validity.patternMismatch) {
            this.errorToShowMat = 'Solo números, letras, guiones y puntos\n';
        }
        if ($event.target.validity.tooShort) {
            this.errorToShowMat = 'Ingrese al menos 4 caracteres\n';
        }
        if ($event.target.validity.tooLong) {
            this.errorToShowMat = 'Máximo 255 caracteres\n';
        }
        if ($event.target.validity.rangeUnderflow) {
            this.errorToShowMat = 'Debe ser mayor a 0\n';
        }
    };
    NewEditSellerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-edit-seller',
            template: __webpack_require__(/*! ./new-edit-seller.component.html */ "./src/app/components/seller/new-edit-seller/new-edit-seller.component.html"),
            styles: [__webpack_require__(/*! ./new-edit-seller.component.scss */ "./src/app/components/seller/new-edit-seller/new-edit-seller.component.scss")],
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _services_seller_service__WEBPACK_IMPORTED_MODULE_2__["SellerService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavController"],
            _services_property_service__WEBPACK_IMPORTED_MODULE_4__["PropertyService"],
            _services_user_session_service__WEBPACK_IMPORTED_MODULE_5__["UserSessionService"],
            _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialog"]])
    ], NewEditSellerComponent);
    return NewEditSellerComponent;
}());



/***/ }),

/***/ "./src/app/material.module.ts":
/*!************************************!*\
  !*** ./src/app/material.module.ts ***!
  \************************************/
/*! exports provided: AppMaterialModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppMaterialModule", function() { return AppMaterialModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_mdc_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular-mdc/web */ "./node_modules/@angular-mdc/web/esm5/web.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var AppMaterialModule = /** @class */ (function () {
    function AppMaterialModule() {
    }
    AppMaterialModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            exports: [
                _angular_mdc_web__WEBPACK_IMPORTED_MODULE_1__["MdcButtonModule"],
                _angular_mdc_web__WEBPACK_IMPORTED_MODULE_1__["MdcIconModule"],
                _angular_mdc_web__WEBPACK_IMPORTED_MODULE_1__["MdcRippleModule"],
                _angular_mdc_web__WEBPACK_IMPORTED_MODULE_1__["MdcTextFieldModule"],
                _angular_mdc_web__WEBPACK_IMPORTED_MODULE_1__["MdcThemeModule"],
                _angular_mdc_web__WEBPACK_IMPORTED_MODULE_1__["MdcTypographyModule"],
                _angular_mdc_web__WEBPACK_IMPORTED_MODULE_1__["MdcTabBarModule"],
            ],
        })
    ], AppMaterialModule);
    return AppMaterialModule;
}());



/***/ }),

/***/ "./src/app/services/administrator.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/administrator.service.ts ***!
  \***************************************************/
/*! exports provided: AdministratorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdministratorService", function() { return AdministratorService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AdministratorService = /** @class */ (function () {
    function AdministratorService(http) {
        this.http = http;
    }
    AdministratorService.prototype.getAdminById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].ADMINISTRATOR + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    AdministratorService.prototype.getAdminEvents = function (pageNumber, nPerPage) {
        if (nPerPage === void 0) { nPerPage = 15; }
        var body = { pageNumber: pageNumber, nPerPage: nPerPage };
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].ADMINISTRATOR_EVENTS, body)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    AdministratorService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], AdministratorService);
    return AdministratorService;
}());



/***/ }),

/***/ "./src/app/services/adviser.service.ts":
/*!*********************************************!*\
  !*** ./src/app/services/adviser.service.ts ***!
  \*********************************************/
/*! exports provided: AdviserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdviserService", function() { return AdviserService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AdviserService = /** @class */ (function () {
    function AdviserService(http) {
        this.http = http;
    }
    AdviserService.prototype.getAdviserAll = function () {
        return this.http.get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].ADVISER).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    AdviserService.prototype.newAdviser = function (adviser) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].ADVISER, adviser)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    AdviserService.prototype.putAdviser = function (adviser) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].ADVISER + adviser._id, adviser)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    AdviserService.prototype.getAdviserById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].ADVISER_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    AdviserService.prototype.deletedAdviserById = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].ADVISER + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    AdviserService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], AdviserService);
    return AdviserService;
}());



/***/ }),

/***/ "./src/app/services/auth-guard.service.ts":
/*!************************************************!*\
  !*** ./src/app/services/auth-guard.service.ts ***!
  \************************************************/
/*! exports provided: AuthGuardService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthGuardService", function() { return AuthGuardService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _user_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./user-session.service */ "./src/app/services/user-session.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var AuthGuardService = /** @class */ (function () {
    function AuthGuardService(userSession, alertCtrl) {
        this.userSession = userSession;
        this.alertCtrl = alertCtrl;
    }
    /**
     *
     * @param route contiene la ruta futura que se activará
     * @param state el stado futuro
     */
    AuthGuardService.prototype.canActivate = function (route, state) {
        var url = state.url;
        var rol = route.data['rol'];
        return this.checkLogin(rol);
    };
    /**
     *
     * @param rol rol viene el user
     */
    AuthGuardService.prototype.checkLogin = function (rol) {
        var currentUser = this.userSession.userSession.value;
        if (currentUser && currentUser.id) {
            var isRolFind = rol.some(function (r) { return r === currentUser.type; });
            if (isRolFind) {
                return true;
            }
            else {
                this.presentAlert();
                this.userSession.loggout();
                return false;
            }
        }
        else {
            this.presentAlert();
            this.userSession.loggout();
            return false;
        }
    };
    AuthGuardService.prototype.presentAlert = function () {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Error',
                            subHeader: 'Acceso Denegado',
                            message: 'No cuentas con los permisos necesarios.',
                            buttons: ['OK'],
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    AuthGuardService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_user_session_service__WEBPACK_IMPORTED_MODULE_1__["UserSessionService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"]])
    ], AuthGuardService);
    return AuthGuardService;
}());



/***/ }),

/***/ "./src/app/services/build.service.ts":
/*!*******************************************!*\
  !*** ./src/app/services/build.service.ts ***!
  \*******************************************/
/*! exports provided: BuildService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildService", function() { return BuildService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var BuildService = /** @class */ (function () {
    function BuildService(http) {
        this.http = http;
    }
    BuildService.prototype.newBuild = function (build) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUILD, build)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    BuildService.prototype.putBuild = function (build) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUILD + build._id, build)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    BuildService.prototype.getBuildAll = function () {
        return this.http.get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUILD).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    BuildService.prototype.getBuildById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUILD_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    BuildService.prototype.deltedBuildById = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUILD + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    BuildService.prototype.updateBuildPhase = function (timeLine, id) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUILD_UPDATE_PHASE + id, timeLine)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    BuildService.prototype.uploadImg = function (formData) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUILD_UPLOAD_IMG, formData)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    /**
     *
     * @param imgName ej: imagen.PNG
     */
    BuildService.prototype.deletedImg = function (imgName) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUILD_DELETE_IMG + imgName)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    BuildService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], BuildService);
    return BuildService;
}());



/***/ }),

/***/ "./src/app/services/buyer.service.ts":
/*!*******************************************!*\
  !*** ./src/app/services/buyer.service.ts ***!
  \*******************************************/
/*! exports provided: BuyerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuyerService", function() { return BuyerService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var BuyerService = /** @class */ (function () {
    function BuyerService(http) {
        this.http = http;
    }
    BuyerService.prototype.getBuyerById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUYER_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    BuyerService.prototype.getBuyerAll = function () {
        return this.http.get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUYER).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    BuyerService.prototype.putBuyer = function (buyer) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUYER + buyer._id, buyer)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    BuyerService.prototype.checkBuyer = function (buyer) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUYER_CHECK, buyer)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    BuyerService.prototype.newBuyer = function (buyer) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUYER, buyer)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    BuyerService.prototype.deletedBuyer = function (buyer) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].BUYER + buyer._id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    BuyerService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], BuyerService);
    return BuyerService;
}());



/***/ }),

/***/ "./src/app/services/credit.service.ts":
/*!********************************************!*\
  !*** ./src/app/services/credit.service.ts ***!
  \********************************************/
/*! exports provided: CreditService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreditService", function() { return CreditService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var CreditService = /** @class */ (function () {
    function CreditService(http) {
        this.http = http;
    }
    CreditService.prototype.newCredit = function (credit) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].CREDIT, credit)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    CreditService.prototype.putCredit = function (credit) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].CREDIT + credit._id, credit)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    CreditService.prototype.getCredit = function () {
        return this.http.get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].CREDIT).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    CreditService.prototype.getCreditById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].CREDIT_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    CreditService.prototype.deleteCredit = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].CREDIT + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    CreditService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], CreditService);
    return CreditService;
}());



/***/ }),

/***/ "./src/app/services/goal.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/goal.service.ts ***!
  \******************************************/
/*! exports provided: GoalService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GoalService", function() { return GoalService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var GoalService = /** @class */ (function () {
    function GoalService(http) {
        this.http = http;
    }
    GoalService.prototype.newGoal = function (goal) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].GOAL, goal)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    GoalService.prototype.getGoal = function () {
        return this.http.get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].GOAL).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    GoalService.prototype.getGoaltById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].GOAL_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    GoalService.prototype.putGoal = function (goal) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].GOAL + goal._id, goal)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    GoalService.prototype.deleteGoal = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].GOAL + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    GoalService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], GoalService);
    return GoalService;
}());



/***/ }),

/***/ "./src/app/services/mail.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/mail.service.ts ***!
  \******************************************/
/*! exports provided: MailService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MailService", function() { return MailService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var MailService = /** @class */ (function () {
    function MailService(http) {
        this.http = http;
    }
    MailService.prototype.addEmail = function (email) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].EMAIL_ADD, { email: email })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    MailService.prototype.findEmail = function (email, token) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].EMAIL_FIND, { email: email, token: token })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    /**
     * enviar archivos
     */
    MailService.prototype.sendFiles = function (formData) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].EMAIL_FILES, formData)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    MailService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], MailService);
    return MailService;
}());



/***/ }),

/***/ "./src/app/services/maker.service.ts":
/*!*******************************************!*\
  !*** ./src/app/services/maker.service.ts ***!
  \*******************************************/
/*! exports provided: MakerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MakerService", function() { return MakerService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var MakerService = /** @class */ (function () {
    function MakerService(http) {
        this.http = http;
    }
    MakerService.prototype.newMaker = function (maker) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].MAKER, maker)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    MakerService.prototype.putMaker = function (maker) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].MAKER + maker._id, maker)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    MakerService.prototype.getMakerAll = function () {
        return this.http.get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].MAKER).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    MakerService.prototype.getMakerById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].MAKER_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    MakerService.prototype.deltedMakerById = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].MAKER + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    MakerService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], MakerService);
    return MakerService;
}());



/***/ }),

/***/ "./src/app/services/managers.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/managers.service.ts ***!
  \**********************************************/
/*! exports provided: ManagersService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManagersService", function() { return ManagersService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ManagersService = /** @class */ (function () {
    function ManagersService(http) {
        this.http = http;
    }
    ManagersService.prototype.newManager = function (manager) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_1__["END_POINT"].MANAGER, manager)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    ManagersService.prototype.putManager = function (manager) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_1__["END_POINT"].MANAGER + manager._id, manager)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    ManagersService.prototype.getManagerAll = function () {
        return this.http.get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_1__["END_POINT"].MANAGER).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    ManagersService.prototype.getManagerById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_1__["END_POINT"].MANAGER_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    ManagersService.prototype.deleteManagerById = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_1__["END_POINT"].MANAGER + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    ManagersService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"]])
    ], ManagersService);
    return ManagersService;
}());



/***/ }),

/***/ "./src/app/services/ofert.service.ts":
/*!*******************************************!*\
  !*** ./src/app/services/ofert.service.ts ***!
  \*******************************************/
/*! exports provided: OfertService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OfertService", function() { return OfertService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var OfertService = /** @class */ (function () {
    function OfertService(http) {
        this.http = http;
    }
    OfertService.prototype.newOfert = function (ofert) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].OFERT, ofert)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    OfertService.prototype.putOfert = function (ofert) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].OFERT + ofert._id, ofert)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    OfertService.prototype.getOfert = function () {
        return this.http.get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].OFERT).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    OfertService.prototype.getOfertById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].OFERT_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    OfertService.prototype.deleteOfertById = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].OFERT + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    OfertService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], OfertService);
    return OfertService;
}());



/***/ }),

/***/ "./src/app/services/office.service.ts":
/*!********************************************!*\
  !*** ./src/app/services/office.service.ts ***!
  \********************************************/
/*! exports provided: OfficeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OfficeService", function() { return OfficeService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var OfficeService = /** @class */ (function () {
    function OfficeService(http) {
        this.http = http;
    }
    OfficeService.prototype.newOffice = function (office) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_1__["END_POINT"].OFFICE, office)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    OfficeService.prototype.putOffice = function (office) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_1__["END_POINT"].OFFICE + office._id, office)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    OfficeService.prototype.getOffice = function () {
        return this.http.get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_1__["END_POINT"].OFFICE).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    OfficeService.prototype.getOfficeById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_1__["END_POINT"].OFFICE_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    OfficeService.prototype.deleteOfficeById = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_1__["END_POINT"].OFFICE + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    OfficeService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"]])
    ], OfficeService);
    return OfficeService;
}());



/***/ }),

/***/ "./src/app/services/onesignal.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/onesignal.service.ts ***!
  \***********************************************/
/*! exports provided: OnesignalService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnesignalService", function() { return OnesignalService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var _config_const_general__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_config/_const-general */ "./src/app/_config/_const-general.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var OnesignalService = /** @class */ (function () {
    function OnesignalService(http) {
        this.http = http;
    }
    OnesignalService.prototype.search = function (id, tags, pageNumber, nPerPage) {
        if (pageNumber === void 0) { pageNumber = 1; }
        if (nPerPage === void 0) { nPerPage = 10; }
        var body = {
            id: id,
            pageNumber: pageNumber,
            nPerPage: nPerPage,
            tags: tags,
        };
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].NOTIFICATION_SEARCH, body)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    OnesignalService.prototype.notRead = function (id, tags) {
        var body = {
            id: id,
            tags: tags,
        };
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].NOTIFICATION_NOT_READ, body)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    OnesignalService.prototype.newNotification = function (notification) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].NOTIFICATION, notification)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    OnesignalService.prototype.putNotification = function (notification) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].NOTIFICATION + notification._id, notification)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    /**
     *
     * @param headings Titulo de la notificacion
     * @param contents contenido
     * @param tags typo se usuario  | 'administrator' | 'buyer' | 'seller' | 'adviser' | 'management' | 'maker' | 'office'
     * @param usersId [ids]
     */
    OnesignalService.prototype.postOneSignalByTag = function (headings, contents, tags, usersId) {
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
            Authorization: "Basic " + _config_const_general__WEBPACK_IMPORTED_MODULE_4__["CONST_GENERAL"].REST_API_KEY,
            'Content-Type': 'application/json; charset=utf-8',
        });
        var filters = this.filterByTags(tags, usersId);
        var body = {
            app_id: _config_const_general__WEBPACK_IMPORTED_MODULE_4__["CONST_GENERAL"].ONESIGNAL_APP_ID,
            headings: { en: headings },
            contents: { en: contents },
            filters: filters,
        };
        console.log(body);
        return this.http.post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].ONESIGNAL, body, { headers: headers });
    };
    /**
     * Notif. con fecha
     * @param headings titulo
     * @param contents contenido
     * @param date fecha a mandar
     * @param tags grupos
     * @param usersId usuarios id
     * @param prevTimeSet minutos antes de evento
     */
    OnesignalService.prototype.postOneSignalBySchedule = function (headings, contents, date, tags, usersId, prevTimeSet) {
        if (prevTimeSet === void 0) { prevTimeSet = 30; }
        var prevTime = prevTimeSet * 60000;
        var schedule = new Date(date).getTime() - prevTime;
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
            Authorization: "Basic " + _config_const_general__WEBPACK_IMPORTED_MODULE_4__["CONST_GENERAL"].REST_API_KEY,
            'Content-Type': 'application/json; charset=utf-8',
        });
        var filters = this.filterByTags(tags, usersId);
        var body = {
            app_id: _config_const_general__WEBPACK_IMPORTED_MODULE_4__["CONST_GENERAL"].ONESIGNAL_APP_ID,
            headings: { en: headings },
            contents: { en: contents },
            filters: filters,
            send_after: new Date(schedule).toString(),
        };
        console.log(body);
        return this.http.post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].ONESIGNAL, body, { headers: headers });
    };
    OnesignalService.prototype.deleteOneSignalSchedule = function (notificationId) {
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
            Authorization: "Basic " + _config_const_general__WEBPACK_IMPORTED_MODULE_4__["CONST_GENERAL"].REST_API_KEY,
            'Content-Type': 'application/json; charset=utf-8',
        });
        return this.http.delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].ONESIGNAL + "/" + notificationId + "?app_id=" + _config_const_general__WEBPACK_IMPORTED_MODULE_4__["CONST_GENERAL"].ONESIGNAL_APP_ID, { headers: headers });
    };
    OnesignalService.prototype.getAllNotificationOneSignal = function () {
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
            Authorization: "Basic " + _config_const_general__WEBPACK_IMPORTED_MODULE_4__["CONST_GENERAL"].REST_API_KEY,
            'Content-Type': 'application/json; charset=utf-8',
        });
        return this.http.get("https://onesignal.com/api/v1/notifications?app_id=" + _config_const_general__WEBPACK_IMPORTED_MODULE_4__["CONST_GENERAL"].ONESIGNAL_APP_ID, { headers: headers });
    };
    // helpers
    OnesignalService.prototype.filterByTags = function (tags, usersId) {
        var filters = [];
        if (tags && (usersId === undefined || usersId === null)) {
            filters = this.getFiltersTags(tags);
        }
        if (usersId && (tags === undefined || tags === null)) {
            filters = this.getFiltersIds(usersId);
        }
        if (usersId !== undefined &&
            usersId !== null &&
            (tags !== undefined && tags !== null)) {
            filters = this.getFiltersTags(tags);
            filters.push({
                operator: 'OR',
            });
            filters = filters.concat(this.getFiltersIds(usersId));
        }
        return filters;
    };
    OnesignalService.prototype.getFiltersTags = function (tags) {
        var filters = [];
        tags.forEach(function (tag, i) {
            if (i === 0) {
                filters.push({
                    field: 'tag',
                    key: 'type',
                    relation: '=',
                    value: tag,
                });
            }
            else {
                filters.push({
                    operator: 'OR',
                }, {
                    field: 'tag',
                    key: 'type',
                    relation: '=',
                    value: tag,
                });
            }
        });
        return filters;
    };
    OnesignalService.prototype.getFiltersIds = function (usersId) {
        var ids = [];
        usersId.forEach(function (userId, i) {
            if (i === 0) {
                ids.push({
                    field: 'tag',
                    key: '_id',
                    relation: '=',
                    value: userId,
                });
            }
            else {
                ids.push({
                    operator: 'OR',
                }, {
                    field: 'tag',
                    key: '_id',
                    relation: '=',
                    value: userId,
                });
            }
        });
        return ids;
    };
    OnesignalService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], OnesignalService);
    return OnesignalService;
}());



/***/ }),

/***/ "./src/app/services/pre-build.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/pre-build.service.ts ***!
  \***********************************************/
/*! exports provided: PreBuildService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreBuildService", function() { return PreBuildService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/internal/operators/map */ "./node_modules/rxjs/internal/operators/map.js");
/* harmony import */ var rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var PreBuildService = /** @class */ (function () {
    function PreBuildService(http) {
        this.http = http;
    }
    PreBuildService.prototype.newBuild = function (build) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].PRE_BUILD, build)
            .pipe(Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    PreBuildService.prototype.putBuild = function (build) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].PRE_BUILD + build._id, build)
            .pipe(Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    PreBuildService.prototype.getBuildById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].PRE_BUILD + id)
            .pipe(Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    PreBuildService.prototype.deltedBuildById = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].PRE_BUILD + id)
            .pipe(Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    PreBuildService.prototype.getAll = function () {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].PRE_BUILD)
            .pipe(Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    PreBuildService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], PreBuildService);
    return PreBuildService;
}());



/***/ }),

/***/ "./src/app/services/pre-buyer.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/pre-buyer.service.ts ***!
  \***********************************************/
/*! exports provided: PreBuyerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreBuyerService", function() { return PreBuyerService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/internal/operators/map */ "./node_modules/rxjs/internal/operators/map.js");
/* harmony import */ var rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var PreBuyerService = /** @class */ (function () {
    function PreBuyerService(http) {
        this.http = http;
    }
    PreBuyerService.prototype.newBuyer = function (buyer) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].PRE_BUYER, buyer)
            .pipe(Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    PreBuyerService.prototype.putBuyer = function (buyer) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].PRE_BUYER + buyer._id, buyer)
            .pipe(Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    PreBuyerService.prototype.getBuyerById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].PRE_BUYER + id)
            .pipe(Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    PreBuyerService.prototype.getAll = function () {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].PRE_BUYER)
            .pipe(Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    PreBuyerService.prototype.deltedBuyerById = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_3__["END_POINT"].PRE_BUYER + id)
            .pipe(Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (data) { return data.data; }));
    };
    PreBuyerService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], PreBuyerService);
    return PreBuyerService;
}());



/***/ }),

/***/ "./src/app/services/property.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/property.service.ts ***!
  \**********************************************/
/*! exports provided: PropertyService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyService", function() { return PropertyService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var PropertyService = /** @class */ (function () {
    function PropertyService(http) {
        this.http = http;
    }
    PropertyService.prototype.matchSearch = function (buyerId, percentage) {
        if (percentage === void 0) { percentage = 10; }
        var body = { percentage: percentage };
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].PROPERTY_MATCH_SEARCH + buyerId, body)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    PropertyService.prototype.getPropertyById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].PROPERTY_BY_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    PropertyService.prototype.getAll = function () {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].PROPERTY)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    PropertyService.prototype.getAllSpecial = function () {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].PROPERTY_ALL)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    PropertyService.prototype.deletedById = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].PROPERTY + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    PropertyService.prototype.newProperty = function (property) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].PROPERTY, property)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    PropertyService.prototype.putProperty = function (property) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].PROPERTY + property._id, property)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    PropertyService.prototype.getPropertySimulate = function (property, percentage) {
        var body = property;
        body.percentage = percentage;
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].PROPERTY_SIMULATE, body)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    PropertyService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], PropertyService);
    return PropertyService;
}());



/***/ }),

/***/ "./src/app/services/sale.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/sale.service.ts ***!
  \******************************************/
/*! exports provided: SaleService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaleService", function() { return SaleService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SaleService = /** @class */ (function () {
    function SaleService(http) {
        this.http = http;
    }
    SaleService.prototype.newSale = function (sale) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SALE, sale)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    SaleService.prototype.putSale = function (sale) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SALE + sale._id, sale)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    SaleService.prototype.getSale = function () {
        return this.http.get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SALE).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    SaleService.prototype.getSaleById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SALE_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    SaleService.prototype.deltedSaleById = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SALE + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    SaleService.prototype.getSaleByIdAdv = function (adviserId) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SALE_ADV_ID, { adviser: adviserId })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    SaleService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], SaleService);
    return SaleService;
}());



/***/ }),

/***/ "./src/app/services/schedule.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/schedule.service.ts ***!
  \**********************************************/
/*! exports provided: ScheduleService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScheduleService", function() { return ScheduleService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ScheduleService = /** @class */ (function () {
    function ScheduleService(http) {
        this.http = http;
    }
    ScheduleService.prototype.newSchedule = function (schedule) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SCHEDULE, schedule)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    ScheduleService.prototype.putSchedule = function (schedule) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SCHEDULE + schedule._id, schedule)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    ScheduleService.prototype.getSchedule = function () {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SCHEDULE)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    ScheduleService.prototype.getSchedulePage = function (pageNumber, nPerPage) {
        if (nPerPage === void 0) { nPerPage = 10; }
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SCHEDULE_PAGE, { pageNumber: pageNumber, nPerPage: nPerPage })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    ScheduleService.prototype.getScheduleById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SCHEDULE_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    ScheduleService.prototype.deltedScheduleById = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SCHEDULE + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    ScheduleService.prototype.checkSchedule = function (schedule) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SCHEDULE_CHECK, schedule)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    ScheduleService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], ScheduleService);
    return ScheduleService;
}());



/***/ }),

/***/ "./src/app/services/seller.service.ts":
/*!********************************************!*\
  !*** ./src/app/services/seller.service.ts ***!
  \********************************************/
/*! exports provided: SellerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SellerService", function() { return SellerService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SellerService = /** @class */ (function () {
    function SellerService(http) {
        this.http = http;
    }
    SellerService.prototype.getSellerAll = function () {
        return this.http.get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SELLER).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    SellerService.prototype.newSeller = function (seller) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SELLER, seller)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    SellerService.prototype.putSeller = function (seller) {
        return this.http
            .put(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SELLER + seller._id, seller)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    SellerService.prototype.getSellerById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SELLER_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    SellerService.prototype.deletedSellerById = function (id) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].SELLER + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    SellerService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], SellerService);
    return SellerService;
}());



/***/ }),

/***/ "./src/app/services/socket-io.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/socket-io.service.ts ***!
  \***********************************************/
/*! exports provided: SocketIoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SocketIoService", function() { return SocketIoService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/internal/Observable */ "./node_modules/rxjs/internal/Observable.js");
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! socket.io-client */ "./node_modules/socket.io-client/lib/index.js");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(socket_io_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/internal/BehaviorSubject */ "./node_modules/rxjs/internal/BehaviorSubject.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_4__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var SocketIoService = /** @class */ (function () {
    function SocketIoService() {
        this.numOfNewNoti = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](0);
        this.cont = 0;
        // start listen
        this.socket = socket_io_client__WEBPACK_IMPORTED_MODULE_3__(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].IP);
    }
    /**
     * evento llamado en los post notification
     */
    SocketIoService.prototype.onNewPost = function () {
        var _this = this;
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1__["Observable"](function (observer) {
            _this.socket.on('NEW_NOTIFICATION', function (newPost) {
                return observer.next(newPost);
            });
        });
    };
    SocketIoService.prototype.onNewMsg = function () {
        var _this = this;
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1__["Observable"](function (observer) {
            _this.socket.on('NEW_MESSAGE', function (chatid) {
                console.log(chatid);
                observer.next(chatid._id);
            });
        });
    };
    SocketIoService.prototype.addNum = function () {
        this.cont++;
        this.numOfNewNoti.next(this.cont);
    };
    SocketIoService.prototype.resetNum = function () {
        this.cont = 0;
        this.numOfNewNoti.next(0);
    };
    SocketIoService.prototype.minusOne = function () {
        this.cont--;
        this.numOfNewNoti.next(this.cont);
    };
    SocketIoService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [])
    ], SocketIoService);
    return SocketIoService;
}());



/***/ }),

/***/ "./src/app/services/status-buyer-property.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/services/status-buyer-property.service.ts ***!
  \***********************************************************/
/*! exports provided: StatusBuyerPropertyService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StatusBuyerPropertyService", function() { return StatusBuyerPropertyService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var StatusBuyerPropertyService = /** @class */ (function () {
    function StatusBuyerPropertyService(http) {
        this.http = http;
    }
    StatusBuyerPropertyService.prototype.newStatusBuyerProperty = function (sBP) {
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].STATUS_BP, sBP)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    StatusBuyerPropertyService.prototype.deletedStatusBuyerProperty = function (sBPId) {
        return this.http
            .delete(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].STATUS_BP + sBPId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    StatusBuyerPropertyService.prototype.upgradeStatus = function (sBPId, sBPStatus) {
        var body = { status: sBPStatus };
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].STATUS_UPGRADE + sBPId, body)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    StatusBuyerPropertyService.prototype.getStatusBuyerProperty = function () {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].STATUS_BP)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    StatusBuyerPropertyService.prototype.getStatusBuyerPropertyById = function (id) {
        return this.http
            .get(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].STATUS_ID + id)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    StatusBuyerPropertyService.prototype.searchSpecial = function (buyerId, propertyId) {
        var body = { buyer: buyerId, property: propertyId };
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].STATUS_SEARCH, body)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    StatusBuyerPropertyService.prototype.findByBuyer = function (buyerId) {
        var body = { buyer: buyerId };
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_2__["END_POINT"].STATUS_FIND_BY_BUYER, body)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    StatusBuyerPropertyService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root',
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], StatusBuyerPropertyService);
    return StatusBuyerPropertyService;
}());



/***/ }),

/***/ "./src/app/services/user-session.service.ts":
/*!**************************************************!*\
  !*** ./src/app/services/user-session.service.ts ***!
  \**************************************************/
/*! exports provided: UserSessionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserSessionService", function() { return UserSessionService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _config_api_end_points__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_config/api.end-points */ "./src/app/_config/api.end-points.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/dist/index.js");
/* harmony import */ var _config_const_general__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../_config/_const-general */ "./src/app/_config/_const-general.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/index.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var UserSessionService = /** @class */ (function () {
    function UserSessionService(http, storage, platform) {
        this.http = http;
        this.storage = storage;
        this.platform = platform;
        this.userSession = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]({});
        this.isInitOne = false;
        /**
         * solo para mandar a notificaciones en android y build
         * list-notification
         */
        this.activateMenu = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]('');
    }
    UserSessionService.prototype.logginUserSession = function (email, password) {
        var concatSession = btoa(email + ':' + password);
        return this.http
            .post(_config_api_end_points__WEBPACK_IMPORTED_MODULE_4__["END_POINT"].USER_SESSION, { base64: concatSession })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (data) { return data.data; }));
    };
    UserSessionService.prototype.setUserSession = function (name, type, id, password, email, token) {
        var _this = this;
        if (type === 'management') {
            type = 'office';
        }
        var currentData = {
            type: type,
            name: name,
            id: id,
            password: password,
            email: email,
            token: token
        };
        this.userSession.next({
            name: name,
            type: type,
            id: id,
            password: password,
            email: email,
            token: token
        });
        // localStorage.setItem('userSession', JSON.stringify(currentData));
        this.storage.set('userSessionCurrent', currentData);
        this.saveSession(currentData);
        // onesignal
        this.platform.ready().then(function (c) {
            if (_this.platform.is('cordova')) {
                _this.oneSignalCordova(id, type);
            }
            else if (_environments_environment__WEBPACK_IMPORTED_MODULE_8__["environment"].production && !_this.isInitOne) {
                _this.oneSignalDesktop(id, type);
            }
        });
    };
    UserSessionService.prototype.loggout = function () {
        var _this = this;
        this.storage.remove('userSessionCurrent');
        // this.storage.remove('userSessionSaved');
        this.storage.remove('alert-adv');
        // localStorage.removeItem('userSession');
        this.userSession.next({
            name: undefined,
            type: undefined,
            id: undefined,
            password: undefined,
            email: undefined
        });
        this.platform.ready().then(function (c) {
            console.log(c);
            if (_this.platform.is('cordova')) {
                _this.oneSignalLogoutCordova();
            }
            else if (_environments_environment__WEBPACK_IMPORTED_MODULE_8__["environment"].production && _this.isInitOne) {
                _this.oneSignalLogoutDesktop();
            }
        });
    };
    UserSessionService.prototype.loggoutWithoutStore = function () {
        var _this = this;
        this.storage.remove('alert-adv');
        // this.storage.remove('userSessionSaved');
        this.userSession.next({
            name: undefined,
            type: undefined,
            id: undefined,
            password: undefined,
            email: undefined
        });
        // reset al cambiar user
        this.activateMenu.next('');
        this.platform.ready().then(function (c) {
            console.log(c);
            if (_this.platform.is('cordova')) {
                _this.oneSignalLogoutCordova();
            }
            else if (_environments_environment__WEBPACK_IMPORTED_MODULE_8__["environment"].production && _this.isInitOne) {
                _this.oneSignalLogoutDesktop();
            }
        });
    };
    UserSessionService.prototype.saveSession = function (newUser) {
        return __awaiter(this, void 0, void 0, function () {
            var keys, isFind, sessions, indexFinded;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.keys()];
                    case 1:
                        keys = _a.sent();
                        isFind = keys.find(function (k) { return k === 'userSessionSaved'; });
                        if (!isFind) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.storage.get('userSessionSaved')];
                    case 2:
                        sessions = _a.sent();
                        indexFinded = sessions.findIndex(function (s) { return s.id === newUser.id; });
                        if (indexFinded !== -1) {
                            sessions[indexFinded] = newUser;
                        }
                        else {
                            sessions.push(newUser);
                        }
                        this.storage.set('userSessionSaved', sessions);
                        return [3 /*break*/, 4];
                    case 3:
                        this.storage.set('userSessionSaved', [newUser]);
                        _a.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    UserSessionService.prototype.removeSession = function (session) {
        return __awaiter(this, void 0, void 0, function () {
            var sessions, indexFinded;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.get('userSessionSaved')];
                    case 1:
                        sessions = _a.sent();
                        indexFinded = sessions.findIndex(function (s) { return s.id === session.id; });
                        if (indexFinded !== -1) {
                            sessions.splice(indexFinded, 1);
                            this.storage.set('userSessionSaved', sessions);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    UserSessionService.prototype.getSessionsSaved = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.get('userSessionSaved')];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    // inicia antes que la app mandando un Promise en cada respuesta environment.production &&
    UserSessionService.prototype.checkValidSession = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            // ve si hay un usuario en el localstore
            _this.storage.keys().then(function (keys) {
                var keyUserSession = keys.find(function (key) { return key === 'userSessionCurrent'; });
                if (keyUserSession) {
                    _this.storage.get('userSessionCurrent').then(function (val) {
                        _this.logginUserSession(val.email, val.password).subscribe(function (data) {
                            // data  administrator buyer seller adviser management
                            if (data !== 'error') {
                                _this.setUserSession(data.data[0].name, data.type, data.data[0]._id, data.data[0].password, data.data[0].email, data.token);
                                return resolve(true);
                                // usuario o contrasena caducada
                            }
                            else {
                                _this.loggout();
                                return resolve(true);
                            }
                        });
                    });
                    // no hay nada en local, manda a login en app.component
                }
                else {
                    _this.loggout();
                    return resolve(true);
                }
            });
        });
    };
    //  one signal
    UserSessionService.prototype.oneSignalDesktop = function (id, type) {
        var OneSignalDektop = window['OneSignal'] || [];
        console.log('Init OneSignal');
        OneSignalDektop.push(function () {
            OneSignalDektop.init({
                appId: _config_const_general__WEBPACK_IMPORTED_MODULE_6__["CONST_GENERAL"].ONESIGNAL_APP_ID,
                autoRegister: true,
                notifyButton: {
                    enable: false
                },
                promptOptions: {
                    actionMessage: 'Nos gustaría notificarle cuando se mande un nuevo programa',
                    acceptButtonText: 'Permitir',
                    cancelButtonText: 'No gracias'
                }
            });
            OneSignalDektop.getUserId(function (userId) {
                console.log('OneSignal User ID:', userId);
            });
            OneSignalDektop.sendTags({
                _id: id.toString(),
                type: type
            });
            OneSignalDektop.on('subscriptionChange', function (isSubscribed) {
                console.log('The user subscription state is now:', isSubscribed);
                OneSignalDektop.sendTags({
                    _id: id.toString(),
                    type: type
                });
            });
            OneSignalDektop.addListenerForNotificationOpened(function (data) {
                console.log('Received NotificationOpened:');
                console.log(data);
            });
            OneSignalDektop.on('notificationDisplay', function (event) {
                console.warn('OneSignal notification displayed:', event);
                /*
                {
                    "id": "ce31de29-e1b0-4961-99ee-080644677cd7",
                    "heading": "OneSignal Test Message",
                    "content": "This is an example notification.",
                    "url": "https://onesignal.com?_osp=do_not_open",
                    "icon": "https://onesignal.com/images/notification_logo.png"
                }
                */
            });
            OneSignalDektop.setDefaultNotificationUrl('http://app.inmobiliariacobian.com/list-notification');
        });
        this.isInitOne = true;
    };
    UserSessionService.prototype.oneSignalCordova = function (id, type) {
        var _this = this;
        var oneSignal = window['plugins'].OneSignal;
        oneSignal.startInit(_config_const_general__WEBPACK_IMPORTED_MODULE_6__["CONST_GENERAL"].ONESIGNAL_APP_ID, _config_const_general__WEBPACK_IMPORTED_MODULE_6__["CONST_GENERAL"].googleProjectNumber);
        oneSignal.handleNotificationOpened(function () {
            _this.activateMenu.next('list-notification');
        });
        oneSignal.inFocusDisplaying(oneSignal.OSInFocusDisplayOption.None);
        oneSignal.sendTags({
            _id: id.toString(),
            type: type
        });
        oneSignal.endInit();
    };
    UserSessionService.prototype.oneSignalLogoutDesktop = function () {
        var OneSignalD = window['OneSignal'] || [];
        console.log('Delete OneSignal');
        OneSignalD.push(function () {
            OneSignalD.deleteTags(['_id', 'type']);
        });
        this.isInitOne = false;
    };
    UserSessionService.prototype.oneSignalLogoutCordova = function () {
        window['plugins'].OneSignal.deleteTags(['_id', 'type']);
    };
    UserSessionService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_5__["Storage"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_7__["Platform"]])
    ], UserSessionService);
    return UserSessionService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};
/*
 * In development mode, to ignore zone related error stack frames such as
 * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can
 * import the following file, but please comment it out in production mode
 * because it will have performance impact when throw error
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /home/artezan/Apps/cobianApp/src/main.ts */"./src/main.ts");


/***/ }),

/***/ 1:
/*!********************!*\
  !*** ws (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map